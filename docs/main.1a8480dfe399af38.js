var XQ=Object.defineProperty,JQ=Object.defineProperties,eX=Object.getOwnPropertyDescriptors,uz=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,nX=Object.prototype.propertyIsEnumerable,dz=(bt,C,A)=>C in bt?XQ(bt,C,{enumerable:!0,configurable:!0,writable:!0,value:A}):bt[C]=A,Tt=(bt,C)=>{for(var A in C||(C={}))tX.call(C,A)&&dz(bt,A,C[A]);if(uz)for(var A of uz(C))nX.call(C,A)&&dz(bt,A,C[A]);return bt},Zi=(bt,C)=>JQ(bt,eX(C));(self.webpackChunkfoodTrackingApp=self.webpackChunkfoodTrackingApp||[]).push([[179],{7905:(bt,C,A)=>{"use strict";A.d(C,{hO:()=>Ze,xv:()=>ee,Dh:()=>Y,GT:()=>B,cc:()=>je,on:()=>Q,pX:()=>O});var s=A(3668),b=A(7892),v=A(7233);bt=A.hmd(bt);const x=["ngOnDestroy"],O=(de,ce,Oe,Pe={})=>new Proxy(de,{get:(Qe,be)=>Oe.runOutsideAngular(()=>{var Ne;if(de[be])return(null===(Ne=null==Pe?void 0:Pe.spy)||void 0===Ne?void 0:Ne.get)&&Pe.spy.get(be,de[be]),de[be];if(x.indexOf(be)>-1)return()=>{};const oe=ce.toPromise().then(Ie=>{const K=Ie&&Ie[be];return"function"==typeof K?K.bind(Ie):K&&K.then?K.then(L=>Oe.run(()=>L)):Oe.run(()=>K)});return new Proxy(()=>{},{get:(Ie,K)=>oe[K],apply:(Ie,K,L)=>oe.then(j=>{var X;const re=j&&j(...L);return(null===(X=null==Pe?void 0:Pe.spy)||void 0===X?void 0:X.apply)&&Pe.spy.apply(be,L,re),re})})})}),B=(de,ce)=>{ce.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Pe=>{Object.defineProperty(de.prototype,Pe,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Pe))})})};class H{constructor(ce){return ce}}const Y=new s.OlP("angularfire2.app.options"),ee=new s.OlP("angularfire2.app.name");function Q(de,ce,Oe){const Qe="object"==typeof Oe&&Oe||{};Qe.name=Qe.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const Ne=b.Z.apps.filter(oe=>oe&&oe.name===Qe.name)[0]||ce.runOutsideAngular(()=>b.Z.initializeApp(de,Qe));try{JSON.stringify(de)!==JSON.stringify(Ne.options)&&te("error",`${Ne.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(oe){}return new H(Ne)}const te=(de,...ce)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[de](...ce)},me={provide:H,useFactory:Q,deps:[Y,s.R0b,[new s.FiY,ee]]};let Ze=(()=>{class de{constructor(Oe){b.Z.registerVersion("angularfire",v.q4.full,"core"),b.Z.registerVersion("angularfire",v.q4.full,"app-compat"),b.Z.registerVersion("angular",s.q4F.full,Oe.toString())}static initializeApp(Oe,Pe){return{ngModule:de,providers:[{provide:Y,useValue:Oe},{provide:ee,useValue:Pe}]}}}return de.\u0275fac=function(Oe){return new(Oe||de)(s.LFG(s.Lbi))},de.\u0275mod=s.oAB({type:de}),de.\u0275inj=s.cJS({providers:[me]}),de})();function je(de,ce,Oe,Pe,Qe){const[,be,Ne]=globalThis.\u0275AngularfireInstanceCache.find(oe=>oe[0]===de)||[];if(be)return function(de,ce){try{return de.toString()===ce.toString()}catch(Oe){return de===ce}}(Qe,Ne)||(Ee("error",`${ce} was already initialized on the ${Oe} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Qe,was:Ne})),be;{const oe=Pe();return globalThis.\u0275AngularfireInstanceCache.push([de,oe,Qe]),oe}}const qe=!!bt.hot,Ee=(de,...ce)=>{(0,s.X6Q)()&&"undefined"!=typeof console&&console[de](...ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},7233:(bt,C,A)=>{"use strict";A.d(C,{q4:()=>pu,iC:()=>zl,HU:()=>Ec,vb:()=>Ys,JM:()=>mu,u3:()=>vu});var s=A(3668),b=A(7713),v=A(8239),x=A(1572),O=A(4213),B=A(1177),H=A(3855),Y=A(5600);const ee="@firebase/installations",Q="0.5.9",me=`w:${Q}`,Ze="FIS_v2",ce=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Oe(k){return k instanceof O.ZR&&k.code.includes("request-failed")}function Pe({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function Qe(k){return{token:k.token,requestStatus:2,expiresIn:j(k.expiresIn),creationTime:Date.now()}}function be(k,P){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,v.Z)(function*(k,P){const ve=(yield P.json()).error;return ce.create("request-failed",{requestName:k,serverCode:ve.code,serverMessage:ve.message,serverStatus:ve.status})})).apply(this,arguments)}function oe({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function Ie(k,{refreshToken:P}){const Z=oe(k);return Z.append("Authorization",function(k){return`${Ze} ${k}`}(P)),Z}function K(k){return L.apply(this,arguments)}function L(){return(L=(0,v.Z)(function*(k){const P=yield k();return P.status>=500&&P.status<600?k():P})).apply(this,arguments)}function j(k){return Number(k.replace("s","000"))}function re(k,P){return J.apply(this,arguments)}function J(){return(J=(0,v.Z)(function*({appConfig:k,heartbeatServiceProvider:P},{fid:Z}){const ve=Pe(k),Te=oe(k),We=P.getImmediate({optional:!0});if(We){const un=yield We.getHeartbeatsHeader();un&&Te.append("x-firebase-client",un)}const It={method:"POST",headers:Te,body:JSON.stringify({fid:Z,authVersion:Ze,appId:k.appId,sdkVersion:me})},rn=yield K(()=>fetch(ve,It));if(rn.ok){const un=yield rn.json();return{fid:un.fid||Z,registrationStatus:2,refreshToken:un.refreshToken,authToken:Qe(un.authToken)}}throw yield be("Create Installation",rn)})).apply(this,arguments)}function Ae(k){return new Promise(P=>{setTimeout(P,k)})}const pt=/^[cdef][\w-]{21}$/;function Ge(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const Z=function(k){return function(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return pt.test(Z)?Z:""}catch(k){return""}}function Dt(k){return`${k.appName}!${k.appId}`}const Bt=new Map;function hn(k,P){const Z=Dt(k);sn(Z,P),function(k,P){const Z=(!Or&&"BroadcastChannel"in self&&(Or=new BroadcastChannel("[Firebase] FID Change"),Or.onmessage=k=>{sn(k.data.key,k.data.fid)}),Or);Z&&Z.postMessage({key:k,fid:P}),0===Bt.size&&Or&&(Or.close(),Or=null)}(Z,P)}function sn(k,P){const Z=Bt.get(k);if(Z)for(const ve of Z)ve(P)}let Or=null;const gr="firebase-installations-store";let Ci=null;function hi(){return Ci||(Ci=(0,Y.X3)("firebase-installations-database",1,{upgrade:(k,P)=>{0===P&&k.createObjectStore(gr)}})),Ci}function Zt(k,P){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,v.Z)(function*(k,P){const Z=Dt(k),Te=(yield hi()).transaction(gr,"readwrite"),We=Te.objectStore(gr),ft=yield We.get(Z);return yield We.put(P,Z),yield Te.done,(!ft||ft.fid!==P.fid)&&hn(k,P.fid),P})).apply(this,arguments)}function Wn(k){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,v.Z)(function*(k){const P=Dt(k),ve=(yield hi()).transaction(gr,"readwrite");yield ve.objectStore(gr).delete(P),yield ve.done})).apply(this,arguments)}function Un(k,P){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,v.Z)(function*(k,P){const Z=Dt(k),Te=(yield hi()).transaction(gr,"readwrite"),We=Te.objectStore(gr),ft=yield We.get(Z),It=P(ft);return void 0===It?yield We.delete(Z):yield We.put(It,Z),yield Te.done,It&&(!ft||ft.fid!==It.fid)&&hn(k,It.fid),It})).apply(this,arguments)}function Jn(k){return An.apply(this,arguments)}function An(){return(An=(0,v.Z)(function*(k){let P;const Z=yield Un(k.appConfig,ve=>{const Te=Fi(ve),We=En(k,Te);return P=We.registrationPromise,We.installationEntry});return""===Z.fid?{installationEntry:yield P}:{installationEntry:Z,registrationPromise:P}})).apply(this,arguments)}function Fi(k){return Cn(k||{fid:Ge(),registrationStatus:0})}function En(k,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject(ce.create("app-offline"))};const Z={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ve=function(k,P){return Rt.apply(this,arguments)}(k,Z);return{installationEntry:Z,registrationPromise:ve}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:ri(k)}:{installationEntry:P}}function Rt(){return(Rt=(0,v.Z)(function*(k,P){try{const Z=yield re(k,P);return Zt(k.appConfig,Z)}catch(Z){throw Oe(Z)&&409===Z.customData.serverCode?yield Wn(k.appConfig):yield Zt(k.appConfig,{fid:P.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function ri(k){return ii.apply(this,arguments)}function ii(){return(ii=(0,v.Z)(function*(k){let P=yield Lr(k.appConfig);for(;1===P.registrationStatus;)yield Ae(100),P=yield Lr(k.appConfig);if(0===P.registrationStatus){const{installationEntry:Z,registrationPromise:ve}=yield Jn(k);return ve||Z}return P})).apply(this,arguments)}function Lr(k){return Un(k,P=>{if(!P)throw ce.create("installation-not-found");return Cn(P)})}function Cn(k){return function(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function Hn(k,P){return De.apply(this,arguments)}function De(){return(De=(0,v.Z)(function*({appConfig:k,heartbeatServiceProvider:P},Z){const ve=Ce(k,Z),Te=Ie(k,Z),We=P.getImmediate({optional:!0});if(We){const un=yield We.getHeartbeatsHeader();un&&Te.append("x-firebase-client",un)}const It={method:"POST",headers:Te,body:JSON.stringify({installation:{sdkVersion:me,appId:k.appId}})},rn=yield K(()=>fetch(ve,It));if(rn.ok)return Qe(yield rn.json());throw yield be("Generate Auth Token",rn)})).apply(this,arguments)}function Ce(k,{fid:P}){return`${Pe(k)}/${P}/authTokens:generate`}function ke(k){return et.apply(this,arguments)}function et(){return(et=(0,v.Z)(function*(k,P=!1){let Z;const ve=yield Un(k.appConfig,We=>{if(!an(We))throw ce.create("not-registered");const ft=We.authToken;if(!P&&Pn(ft))return We;if(1===ft.requestStatus)return Z=Se(k,P),We;{if(!navigator.onLine)throw ce.create("app-offline");const It=_r(We);return Z=mt(k,It),It}});return Z?yield Z:ve.authToken})).apply(this,arguments)}function Se(k,P){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,v.Z)(function*(k,P){let Z=yield ot(k.appConfig);for(;1===Z.authToken.requestStatus;)yield Ae(100),Z=yield ot(k.appConfig);const ve=Z.authToken;return 0===ve.requestStatus?ke(k,P):ve})).apply(this,arguments)}function ot(k){return Un(k,P=>{if(!an(P))throw ce.create("not-registered");return function(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function mt(k,P){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,v.Z)(function*(k,P){try{const Z=yield Hn(k,P),ve=Object.assign(Object.assign({},P),{authToken:Z});return yield Zt(k.appConfig,ve),Z}catch(Z){if(!Oe(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const ve=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield Zt(k.appConfig,ve)}else yield Wn(k.appConfig);throw Z}})).apply(this,arguments)}function an(k){return void 0!==k&&2===k.registrationStatus}function Pn(k){return 2===k.requestStatus&&!function(k){const P=Date.now();return P<k.creationTime||k.creationTime+k.expiresIn<P+36e5}(k)}function _r(k){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:P})}function Me(){return(Me=(0,v.Z)(function*(k){const P=k,{installationEntry:Z,registrationPromise:ve}=yield Jn(P);return ve?ve.catch(console.error):ke(P).catch(console.error),Z.fid})).apply(this,arguments)}function yt(){return(yt=(0,v.Z)(function*(k,P=!1){const Z=k;return yield Qt(Z),(yield ke(Z,P)).token})).apply(this,arguments)}function Qt(k){return zt.apply(this,arguments)}function zt(){return(zt=(0,v.Z)(function*(k){const{registrationPromise:P}=yield Jn(k);P&&(yield P)})).apply(this,arguments)}function Ii(k){return ce.create("missing-app-config-values",{valueName:k})}const Tr="installations";(0,x._registerComponent)(new B.wA(Tr,k=>{const P=k.getProvider("app").getImmediate(),Z=function(k){if(!k||!k.options)throw Ii("App Configuration");if(!k.name)throw Ii("App Name");const P=["projectId","apiKey","appId"];for(const Z of P)if(!k.options[Z])throw Ii(Z);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(P);return{app:P,appConfig:Z,heartbeatServiceProvider:(0,x._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,x._registerComponent)(new B.wA("installations-internal",k=>{const P=k.getProvider("app").getImmediate(),Z=(0,x._getProvider)(P,Tr).getImmediate();return{getId:()=>function(k){return Me.apply(this,arguments)}(Z),getToken:Te=>function(k){return yt.apply(this,arguments)}(Z,Te)}},"PRIVATE")),(0,x.registerVersion)(ee,Q),(0,x.registerVersion)(ee,Q,"esm2017");const nn="@firebase/remote-config",kn=new O.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class sa{constructor(P,Z,ve,Te){this.client=P,this.storage=Z,this.storageCache=ve,this.logger=Te}isCachedDataFresh(P,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ve=Date.now()-Z,Te=ve<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ve}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${Te}.`),Te}fetch(P){var Z=this;return(0,v.Z)(function*(){const[ve,Te]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Te&&Z.isCachedDataFresh(P.cacheMaxAgeMillis,ve))return Te;P.eTag=Te&&Te.eTag;const We=yield Z.client.fetch(P),ft=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===We.status&&ft.push(Z.storage.setLastSuccessfulFetchResponse(We)),yield Promise.all(ft),We})()}}function Fo(k=navigator){return k.languages&&k.languages[0]||k.language}class Dr{constructor(P,Z,ve,Te,We,ft){this.firebaseInstallations=P,this.sdkVersion=Z,this.namespace=ve,this.projectId=Te,this.apiKey=We,this.appId=ft}fetch(P){var Z=this;return(0,v.Z)(function*(){const[ve,Te]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),ft=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,It={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},rn={sdk_version:Z.sdkVersion,app_instance_id:ve,app_instance_id_token:Te,app_id:Z.appId,language_code:Fo()},un={method:"POST",headers:It,body:JSON.stringify(rn)},xn=fetch(ft,un),fn=new Promise((Qs,hs)=>{P.signal.addEventListener(()=>{const va=new Error("The operation was aborted.");va.name="AbortError",hs(va)})});let Br;try{yield Promise.race([xn,fn]),Br=yield xn}catch(Qs){let hs="fetch-client-network";throw"AbortError"===Qs.name&&(hs="fetch-timeout"),kn.create(hs,{originalErrorMessage:Qs.message})}let Yn=Br.status;const Yo=Br.headers.get("ETag")||void 0;let ds,ya;if(200===Br.status){let Qs;try{Qs=yield Br.json()}catch(hs){throw kn.create("fetch-client-parse",{originalErrorMessage:hs.message})}ds=Qs.entries,ya=Qs.state}if("INSTANCE_STATE_UNSPECIFIED"===ya?Yn=500:"NO_CHANGE"===ya?Yn=304:("NO_TEMPLATE"===ya||"EMPTY_CONFIG"===ya)&&(ds={}),304!==Yn&&200!==Yn)throw kn.create("fetch-status",{httpStatus:Yn});return{status:Yn,eTag:Yo,config:ds}})()}}class Xi{constructor(P,Z){this.client=P,this.storage=Z}fetch(P){var Z=this;return(0,v.Z)(function*(){const ve=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(P,ve)})()}attemptFetch(P,{throttleEndTimeMillis:Z,backoffCount:ve}){var Te=this;return(0,v.Z)(function*(){yield function(k,P){return new Promise((Z,ve)=>{const Te=Math.max(P-Date.now(),0),We=setTimeout(Z,Te);k.addEventListener(()=>{clearTimeout(We),ve(kn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,Z);try{const We=yield Te.client.fetch(P);return yield Te.storage.deleteThrottleMetadata(),We}catch(We){if(!function(k){if(!(k instanceof O.ZR&&k.customData))return!1;const P=Number(k.customData.httpStatus);return 429===P||500===P||503===P||504===P}(We))throw We;const ft={throttleEndTimeMillis:Date.now()+(0,O.$s)(ve),backoffCount:ve+1};return yield Te.storage.setThrottleMetadata(ft),Te.attemptFetch(P,ft)}})()}}class Ji{constructor(P,Z,ve,Te,We){this.app=P,this._client=Z,this._storageCache=ve,this._storage=Te,this._logger=We,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fo(k,P){const Z=k.target.error||void 0;return kn.create(P,{originalErrorMessage:Z&&Z.message})}const Hs="app_namespace_store";class go{constructor(P,Z,ve,Te=function(){return new Promise((k,P)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=ve=>{P(fo(ve,"storage-open"))},Z.onsuccess=ve=>{k(ve.target.result)},Z.onupgradeneeded=ve=>{0===ve.oldVersion&&ve.target.result.createObjectStore(Hs,{keyPath:"compositeKey"})}}catch(Z){P(kn.create("storage-open",{originalErrorMessage:Z}))}})}()){this.appId=P,this.appName=Z,this.namespace=ve,this.openDbPromise=Te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var Z=this;return(0,v.Z)(function*(){const ve=yield Z.openDbPromise;return new Promise((Te,We)=>{const It=ve.transaction([Hs],"readonly").objectStore(Hs),rn=Z.createCompositeKey(P);try{const un=It.get(rn);un.onerror=xn=>{We(fo(xn,"storage-get"))},un.onsuccess=xn=>{const fn=xn.target.result;Te(fn?fn.value:void 0)}}catch(un){We(kn.create("storage-get",{originalErrorMessage:un&&un.message}))}})})()}set(P,Z){var ve=this;return(0,v.Z)(function*(){const Te=yield ve.openDbPromise;return new Promise((We,ft)=>{const rn=Te.transaction([Hs],"readwrite").objectStore(Hs),un=ve.createCompositeKey(P);try{const xn=rn.put({compositeKey:un,value:Z});xn.onerror=fn=>{ft(fo(fn,"storage-set"))},xn.onsuccess=()=>{We()}}catch(xn){ft(kn.create("storage-set",{originalErrorMessage:xn&&xn.message}))}})})()}delete(P){var Z=this;return(0,v.Z)(function*(){const ve=yield Z.openDbPromise;return new Promise((Te,We)=>{const It=ve.transaction([Hs],"readwrite").objectStore(Hs),rn=Z.createCompositeKey(P);try{const un=It.delete(rn);un.onerror=xn=>{We(fo(xn,"storage-delete"))},un.onsuccess=()=>{Te()}}catch(un){We(kn.create("storage-delete",{originalErrorMessage:un&&un.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class Si{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,v.Z)(function*(){const Z=P.storage.getLastFetchStatus(),ve=P.storage.getLastSuccessfulFetchTimestampMillis(),Te=P.storage.getActiveConfig(),We=yield Z;We&&(P.lastFetchStatus=We);const ft=yield ve;ft&&(P.lastSuccessfulFetchTimestampMillis=ft);const It=yield Te;It&&(P.activeConfig=It)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function fe(){return q.apply(this,arguments)}function q(){return(q=(0,v.Z)(function*(){if(!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(k){return!1}})).apply(this,arguments)}(0,x._registerComponent)(new B.wA("remote-config",function(P,{instanceIdentifier:Z}){const ve=P.getProvider("app").getImmediate(),Te=P.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw kn.create("registration-window");if(!(0,O.hl)())throw kn.create("indexed-db-unavailable");const{projectId:We,apiKey:ft,appId:It}=ve.options;if(!We)throw kn.create("registration-project-id");if(!ft)throw kn.create("registration-api-key");if(!It)throw kn.create("registration-app-id");const rn=new go(It,ve.name,Z=Z||"firebase"),un=new Si(rn),xn=new H.Yd(nn);xn.logLevel=H.in.ERROR;const fn=new Dr(Te,x.SDK_VERSION,Z,We,ft,It),Br=new Xi(fn,rn),Yn=new sa(Br,rn,un,xn),Yo=new Ji(ve,Yn,un,rn,xn);return function(k){const P=(0,O.m9)(k);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Yo),Yo},"PUBLIC").setMultipleInstances(!0)),(0,x.registerVersion)(nn,"0.3.8"),(0,x.registerVersion)(nn,"0.3.8","esm2017");const D="/firebase-messaging-sw.js",N="/firebase-cloud-messaging-push-scope",F="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ae="google.c.a.c_id",pe="google.c.a.c_l",ue="google.c.a.ts",ye="google.c.a.e";var z=(()=>{return(k=z||(z={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",z;var k})();function ge(k){const P=new Uint8Array(k);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function we(k){const Z=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ve=atob(Z),Te=new Uint8Array(ve.length);for(let We=0;We<ve.length;++We)Te[We]=ve.charCodeAt(We);return Te}const $e="fcm_token_details_db",At="fcm_token_object_Store";function xt(k){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,v.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(We=>We.name).includes($e))return null;let P=null;return(yield(0,Y.X3)($e,5,{upgrade:(ve=(0,v.Z)(function*(Te,We,ft,It){var rn;if(We<2||!Te.objectStoreNames.contains(At))return;const un=It.objectStore(At),xn=yield un.index("fcmSenderId").get(k);if(yield un.clear(),xn)if(2===We){const fn=xn;if(!fn.auth||!fn.p256dh||!fn.endpoint)return;P={token:fn.fcmToken,createTime:null!==(rn=fn.createTime)&&void 0!==rn?rn:Date.now(),subscriptionOptions:{auth:fn.auth,p256dh:fn.p256dh,endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:"string"==typeof fn.vapidKey?fn.vapidKey:ge(fn.vapidKey)}}}else if(3===We){const fn=xn;P={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:ge(fn.auth),p256dh:ge(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:ge(fn.vapidKey)}}}else if(4===We){const fn=xn;P={token:fn.fcmToken,createTime:fn.createTime,subscriptionOptions:{auth:ge(fn.auth),p256dh:ge(fn.p256dh),endpoint:fn.endpoint,swScope:fn.swScope,vapidKey:ge(fn.vapidKey)}}}}),function(We,ft,It,rn){return ve.apply(this,arguments)})})).close(),yield(0,Y.Lj)($e),yield(0,Y.Lj)("fcm_vapid_details_db"),yield(0,Y.Lj)("undefined"),Jt(P)?P:null;var ve}),Nt.apply(this,arguments)}function Jt(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:P}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const wn="firebase-messaging-store";let mo=null;function zs(){return mo||(mo=(0,Y.X3)("firebase-messaging-database",1,{upgrade:(k,P)=>{0===P&&k.createObjectStore(wn)}})),mo}function ur(k){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,v.Z)(function*(k){const P=Vo(k),ve=yield(yield zs()).transaction(wn).objectStore(wn).get(P);if(ve)return ve;{const Te=yield xt(k.appConfig.senderId);if(Te)return yield Bo(k,Te),Te}})).apply(this,arguments)}function Bo(k,P){return ca.apply(this,arguments)}function ca(){return(ca=(0,v.Z)(function*(k,P){const Z=Vo(k),Te=(yield zs()).transaction(wn,"readwrite");return yield Te.objectStore(wn).put(P,Z),yield Te.done,P})).apply(this,arguments)}function ci(k){return dc.apply(this,arguments)}function dc(){return(dc=(0,v.Z)(function*(k){const P=Vo(k),ve=(yield zs()).transaction(wn,"readwrite");yield ve.objectStore(wn).delete(P),yield ve.done})).apply(this,arguments)}function Vo({appConfig:k}){return k.appId}const qn=new O.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function yl(k,P){return ua.apply(this,arguments)}function ua(){return(ua=(0,v.Z)(function*(k,P){const Z=yield bl(k),ve=Fa(P),Te={method:"POST",headers:Z,body:JSON.stringify(ve)};let We;try{We=yield(yield fetch(en(k.appConfig),Te)).json()}catch(ft){throw qn.create("token-subscribe-failed",{errorInfo:ft})}if(We.error)throw qn.create("token-subscribe-failed",{errorInfo:We.error.message});if(!We.token)throw qn.create("token-subscribe-no-token");return We.token})).apply(this,arguments)}function vl(k,P){return Di.apply(this,arguments)}function Di(){return(Di=(0,v.Z)(function*(k,P){const Z=yield bl(k),ve=Fa(P.subscriptionOptions),Te={method:"PATCH",headers:Z,body:JSON.stringify(ve)};let We;try{We=yield(yield fetch(`${en(k.appConfig)}/${P.token}`,Te)).json()}catch(ft){throw qn.create("token-update-failed",{errorInfo:ft})}if(We.error)throw qn.create("token-update-failed",{errorInfo:We.error.message});if(!We.token)throw qn.create("token-update-no-token");return We.token})).apply(this,arguments)}function hc(k,P){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,v.Z)(function*(k,P){const ve={method:"DELETE",headers:yield bl(k)};try{const We=yield(yield fetch(`${en(k.appConfig)}/${P}`,ve)).json();if(We.error)throw qn.create("token-unsubscribe-failed",{errorInfo:We.error.message})}catch(Te){throw qn.create("token-unsubscribe-failed",{errorInfo:Te})}})).apply(this,arguments)}function en({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function bl(k){return jo.apply(this,arguments)}function jo(){return(jo=(0,v.Z)(function*({appConfig:k,installations:P}){const Z=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Fa({p256dh:k,auth:P,endpoint:Z,vapidKey:ve}){const Te={web:{endpoint:Z,auth:P,p256dh:k}};return ve!==F&&(Te.web.applicationPubKey=ve),Te}const wl=6048e5;function iu(k){return El.apply(this,arguments)}function El(){return(El=(0,v.Z)(function*(k){const P=yield Ho(k.swRegistration,k.vapidKey),Z={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:P.endpoint,auth:ge(P.getKey("auth")),p256dh:ge(P.getKey("p256dh"))},ve=yield ur(k.firebaseDependencies);if(ve){if(su(ve.subscriptionOptions,Z))return Date.now()>=ve.createTime+wl?On(k,{token:ve.token,createTime:Date.now(),subscriptionOptions:Z}):ve.token;try{yield hc(k.firebaseDependencies,ve.token)}catch(Te){console.warn(Te)}return Pr(k.firebaseDependencies,Z)}return Pr(k.firebaseDependencies,Z)})).apply(this,arguments)}function nd(k){return ut.apply(this,arguments)}function ut(){return(ut=(0,v.Z)(function*(k){const P=yield ur(k.firebaseDependencies);P&&(yield hc(k.firebaseDependencies,P.token),yield ci(k.firebaseDependencies));const Z=yield k.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function On(k,P){return yo.apply(this,arguments)}function yo(){return(yo=(0,v.Z)(function*(k,P){try{const Z=yield vl(k.firebaseDependencies,P),ve=Object.assign(Object.assign({},P),{token:Z,createTime:Date.now()});return yield Bo(k.firebaseDependencies,ve),Z}catch(Z){throw yield nd(k),Z}})).apply(this,arguments)}function Pr(k,P){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,v.Z)(function*(k,P){const ve={token:yield yl(k,P),createTime:Date.now(),subscriptionOptions:P};return yield Bo(k,ve),ve.token})).apply(this,arguments)}function Ho(k,P){return pi.apply(this,arguments)}function pi(){return(pi=(0,v.Z)(function*(k,P){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:we(P)})})).apply(this,arguments)}function su(k,P){return P.vapidKey===k.vapidKey&&P.endpoint===k.endpoint&&P.auth===k.auth&&P.p256dh===k.p256dh}function da(k){const P={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function(k,P){if(!P.notification)return;k.notification={};const Z=P.notification.title;Z&&(k.notification.title=Z);const ve=P.notification.body;ve&&(k.notification.body=ve);const Te=P.notification.image;Te&&(k.notification.image=Te)}(P,k),function(k,P){!P.data||(k.data=P.data)}(P,k),function(k,P){if(!P.fcmOptions)return;k.fcmOptions={};const Z=P.fcmOptions.link;Z&&(k.fcmOptions.link=Z);const ve=P.fcmOptions.analytics_label;ve&&(k.fcmOptions.analyticsLabel=ve)}(P,k),P}function Il(k){return"object"==typeof k&&!!k&&ae in k}function gi(k,P){const Z=[];for(let ve=0;ve<k.length;ve++)Z.push(k.charAt(ve)),ve<P.length&&Z.push(P.charAt(ve));return Z.join("")}function Tl(k){return qn.create("missing-app-config-values",{valueName:k})}gi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zo{constructor(P,Z,ve){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Te=function(k){if(!k||!k.options)throw Tl("App Configuration Object");if(!k.name)throw Tl("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=k;for(const ve of P)if(!Z[ve])throw Tl(ve);return{appName:k.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:Te,installations:Z,analyticsProvider:ve}}_delete(){return Promise.resolve()}}function Gs(k){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,v.Z)(function*(k){try{k.swRegistration=yield navigator.serviceWorker.register(D,{scope:N}),k.swRegistration.update().catch(()=>{})}catch(P){throw qn.create("failed-service-worker-registration",{browserErrorMessage:P.message})}})).apply(this,arguments)}function rd(k,P){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,v.Z)(function*(k,P){if(!P&&!k.swRegistration&&(yield Gs(k)),P||!k.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");k.swRegistration=P}})).apply(this,arguments)}function Fh(k,P){return ha.apply(this,arguments)}function ha(){return(ha=(0,v.Z)(function*(k,P){P?k.vapidKey=P:k.vapidKey||(k.vapidKey=F)})).apply(this,arguments)}function Ba(){return(Ba=(0,v.Z)(function*(k,P){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield Fh(k,null==P?void 0:P.vapidKey),yield rd(k,null==P?void 0:P.serviceWorkerRegistration),iu(k)})).apply(this,arguments)}function Al(k,P,Z){return pc.apply(this,arguments)}function pc(){return(pc=(0,v.Z)(function*(k,P,Z){const ve=id(P);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(ve,{message_id:Z[ae],message_name:Z[pe],message_time:Z[ue],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function id(k){switch(k){case z.NOTIFICATION_CLICKED:return"notification_open";case z.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function gc(){return(gc=(0,v.Z)(function*(k,P){const Z=P.data;if(!Z.isFirebaseMessaging)return;k.onMessageHandler&&Z.messageType===z.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(da(Z)):k.onMessageHandler.next(da(Z)));const ve=Z.data;Il(ve)&&"1"===ve[ye]&&(yield Al(k,Z.messageType,ve))})).apply(this,arguments)}const xl="@firebase/messaging";function lu(){return vr.apply(this,arguments)}function vr(){return(vr=(0,v.Z)(function*(){try{yield(0,O.eu)()}catch(k){return!1}return"undefined"!=typeof window&&(0,O.hl)()&&(0,O.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,x._registerComponent)(new B.wA("messaging",k=>{const P=new zo(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function(k,P){return gc.apply(this,arguments)}(P,Z)),P},"PUBLIC")),(0,x._registerComponent)(new B.wA("messaging-internal",k=>{const P=k.getProvider("messaging").getImmediate();return{getToken:ve=>function(k,P){return Ba.apply(this,arguments)}(P,ve)}},"PRIVATE")),(0,x.registerVersion)(xl,"0.9.13"),(0,x.registerVersion)(xl,"0.9.13","esm2017");const Ml="analytics",uu="firebase_id",du="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sd="https://www.googletagmanager.com/gtag/js",Ar=new H.Yd("@firebase/analytics");function Rl(k){return Promise.all(k.map(P=>P.catch(Z=>Z)))}function og(k,P){const Z=document.createElement("script");Z.src=`${sd}?l=${k}&id=${P}`,Z.async=!0,document.head.appendChild(Z)}function Va(k,P,Z,ve,Te,We){return _c.apply(this,arguments)}function _c(){return(_c=(0,v.Z)(function*(k,P,Z,ve,Te,We){const ft=ve[Te];try{if(ft)yield P[ft];else{const rn=(yield Rl(Z)).find(un=>un.measurementId===Te);rn&&(yield P[rn.appId])}}catch(It){Ar.error(It)}k("config",Te,We)})).apply(this,arguments)}function Ua(k,P,Z,ve,Te){return yc.apply(this,arguments)}function yc(){return(yc=(0,v.Z)(function*(k,P,Z,ve,Te){try{let We=[];if(Te&&Te.send_to){let ft=Te.send_to;Array.isArray(ft)||(ft=[ft]);const It=yield Rl(Z);for(const rn of ft){const un=It.find(fn=>fn.measurementId===rn),xn=un&&P[un.appId];if(!xn){We=[];break}We.push(xn)}}0===We.length&&(We=Object.values(P)),yield Promise.all(We),k("event",ve,Te||{})}catch(We){Ar.error(We)}})).apply(this,arguments)}function dr(){const k=window.document.getElementsByTagName("script");for(const P of Object.values(k))if(P.src&&P.src.includes(sd))return P;return null}const Ct=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ga=new class{constructor(P={},Z=1e3){this.throttleMetadata=P,this.intervalMillis=Z}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,Z){this.throttleMetadata[P]=Z}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function Ol(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function ja(k){return xr.apply(this,arguments)}function xr(){return(xr=(0,v.Z)(function*(k){var P;const{appId:Z,apiKey:ve}=k,Te={method:"GET",headers:Ol(ve)},We=du.replace("{app-id}",Z),ft=yield fetch(We,Te);if(200!==ft.status&&304!==ft.status){let It="";try{const rn=yield ft.json();(null===(P=rn.error)||void 0===P?void 0:P.message)&&(It=rn.error.message)}catch(rn){}throw Ct.create("config-fetch-failed",{httpStatus:ft.status,responseMessage:It})}return ft.json()})).apply(this,arguments)}function Pl(k){return vc.apply(this,arguments)}function vc(){return(vc=(0,v.Z)(function*(k,P=ga,Z){const{appId:ve,apiKey:Te,measurementId:We}=k.options;if(!ve)throw Ct.create("no-app-id");if(!Te){if(We)return{measurementId:We,appId:ve};throw Ct.create("no-api-key")}const ft=P.getThrottleMetadata(ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},It=new qo;return setTimeout((0,v.Z)(function*(){It.abort()}),void 0!==Z?Z:6e4),Wo({appId:ve,apiKey:Te,measurementId:We},ft,It,P)})).apply(this,arguments)}function Wo(k,P,Z){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,v.Z)(function*(k,{throttleEndTimeMillis:P,backoffCount:Z},ve,Te=ga){const{appId:We,measurementId:ft}=k;try{yield Vh(ve,P)}catch(It){if(ft)return Ar.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${It.message}]`),{appId:We,measurementId:ft};throw It}try{const It=yield ja(k);return Te.deleteThrottleMetadata(We),It}catch(It){if(!Uh(It)){if(Te.deleteThrottleMetadata(We),ft)return Ar.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ft} provided in the "measurementId" field in the local Firebase config. [${It.message}]`),{appId:We,measurementId:ft};throw It}const rn=503===Number(It.customData.httpStatus)?(0,O.$s)(Z,Te.intervalMillis,30):(0,O.$s)(Z,Te.intervalMillis),un={throttleEndTimeMillis:Date.now()+rn,backoffCount:Z+1};return Te.setThrottleMetadata(We,un),Ar.debug(`Calling attemptFetch again in ${rn} millis`),Wo(k,un,ve,Te)}})).apply(this,arguments)}function Vh(k,P){return new Promise((Z,ve)=>{const Te=Math.max(P-Date.now(),0),We=setTimeout(Z,Te);k.addEventListener(()=>{clearTimeout(We),ve(Ct.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function Uh(k){if(!(k instanceof O.ZR&&k.customData))return!1;const P=Number(k.customData.httpStatus);return 429===P||500===P||503===P||504===P}class qo{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}function bc(){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,v.Z)(function*(){if(!(0,O.hl)())return Ar.warn(Ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(k){return Ar.warn(Ct.create("indexeddb-unavailable",{errorInfo:k}).message),!1}return!0})).apply(this,arguments)}function xs(){return(xs=(0,v.Z)(function*(k,P,Z,ve,Te,We,ft){var It;const rn=Pl(k);rn.then(Yn=>{Z[Yn.measurementId]=Yn.appId,k.options.measurementId&&Yn.measurementId!==k.options.measurementId&&Ar.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${Yn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Yn=>Ar.error(Yn)),P.push(rn);const un=bc().then(Yn=>{if(Yn)return ve.getId()}),[xn,fn]=yield Promise.all([rn,un]);dr()||og(We,xn.measurementId),Te("js",new Date);const Br=null!==(It=null==ft?void 0:ft.config)&&void 0!==It?It:{};return Br.origin="firebase",Br.update=!0,null!=fn&&(Br[uu]=fn),Te("config",xn.measurementId,Br),xn.measurementId})).apply(this,arguments)}class wc{constructor(P){this.app=P}_delete(){return delete Ms[this.app.options.appId],Promise.resolve()}}let Ms={},Fl=[];const ma={};let vo,mi,$s="dataLayer",Ws=!1;function Nr(k,P,Z){!function(){const k=[];if((0,O.ru)()&&k.push("This is a browser extension environment."),(0,O.zI)()||k.push("Cookies are not available."),k.length>0){const P=k.map((ve,Te)=>`(${Te+1}) ${ve}`).join(" "),Z=Ct.create("invalid-analytics-context",{errorInfo:P});Ar.warn(Z.message)}}();const ve=k.options.appId;if(!ve)throw Ct.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw Ct.create("no-api-key");Ar.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ms[ve])throw Ct.create("already-exists",{id:ve});if(!Ws){!function(k){let P=[];Array.isArray(window[k])?P=window[k]:window[k]=P}($s);const{wrappedGtag:We,gtagCore:ft}=function(k,P,Z,ve,Te){let We=function(...ft){window[ve].push(arguments)};return window[Te]&&"function"==typeof window[Te]&&(We=window[Te]),window[Te]=function(k,P,Z,ve){function We(){return(We=(0,v.Z)(function*(ft,It,rn){try{"event"===ft?yield Ua(k,P,Z,It,rn):"config"===ft?yield Va(k,P,Z,ve,It,rn):k("set",It)}catch(un){Ar.error(un)}})).apply(this,arguments)}return function(ft,It,rn){return We.apply(this,arguments)}}(We,k,P,Z),{gtagCore:We,wrappedGtag:window[Te]}}(Ms,Fl,ma,$s,"gtag");mi=We,vo=ft,Ws=!0}return Ms[ve]=function(k,P,Z,ve,Te,We,ft){return xs.apply(this,arguments)}(k,Fl,ma,P,vo,$s,Z),new wc(k)}function Ll(){return(Ll=(0,v.Z)(function*(k,P,Z,ve,Te){if(Te&&Te.global)k("event",Z,ve);else{const We=yield P;k("event",Z,Object.assign(Object.assign({},ve),{send_to:We}))}})).apply(this,arguments)}function wr(){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,v.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(k){return!1}})).apply(this,arguments)}const hu="@firebase/analytics";(0,x._registerComponent)(new B.wA(Ml,(P,{options:Z})=>Nr(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,x._registerComponent)(new B.wA("analytics-internal",function(P){try{const Z=P.getProvider(Ml).getImmediate();return{logEvent:(ve,Te,We)=>function(k,P,Z,ve){k=(0,O.m9)(k),function(k,P,Z,ve,Te){return Ll.apply(this,arguments)}(mi,Ms[k.app.options.appId],P,Z,ve).catch(Te=>Ar.error(Te))}(Z,ve,Te,We)}}catch(Z){throw Ct.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,x.registerVersion)(hu,"0.7.9"),(0,x.registerVersion)(hu,"0.7.9","esm2017");var Mr=A(2869),Vl=A(8843);const jh=new class extends Vl.v{}(class extends Mr.o{constructor(P,Z){super(P,Z),this.scheduler=P,this.work=Z}schedule(P,Z=0){return Z>0?super.schedule(P,Z):(this.delay=Z,this.state=P,this.scheduler.flush(this),this)}execute(P,Z){return Z>0||this.closed?super.execute(P,Z):this._execute(P,Z)}requestAsyncId(P,Z,ve=0){return null!=ve&&ve>0||null==ve&&this.delay>0?super.requestAsyncId(P,Z,ve):P.flush(this)}});var Zs=A(2210),Ul=A(8305),Zo=A(7384),wo=A(5222),fu=A(4763);const pu=new s.GfV("7.3.0"),gu="__angularfire_symbol__analyticsIsSupportedValue",Ko="__angularfire_symbol__analyticsIsSupported",jl="__angularfire_symbol__remoteConfigIsSupportedValue",gn="__angularfire_symbol__remoteConfigIsSupported",Ai="__angularfire_symbol__messagingIsSupportedValue",Ks="__angularfire_symbol__messagingIsSupported";function mu(k,P,Z){if(P){if(1===P.length)return P[0];const We=P.filter(ft=>ft.app===Z);if(1===We.length)return We[0]}return Z.container.getProvider(k).getImmediate({optional:!0})}globalThis[Ko]||(globalThis[Ko]=wr().then(k=>globalThis[gu]=k).catch(()=>globalThis[gu]=!1)),globalThis[Ks]||(globalThis[Ks]=lu().then(k=>globalThis[Ai]=k).catch(()=>globalThis[Ai]=!1)),globalThis[gn]||(globalThis[gn]=fe().then(k=>globalThis[jl]=k).catch(()=>globalThis[jl]=!1));const Ys=(k,P)=>{const Z=P?[P]:(0,b.C6)(),ve=[];return Z.forEach(Te=>{Te.container.getProvider(k).instances.forEach(ft=>{ve.includes(ft)||ve.push(ft)})}),ve};function Eo(){}class _u{constructor(P,Z=jh){this.zone=P,this.delegate=Z}now(){return this.delegate.now()}schedule(P,Z,ve){const Te=this.zone;return this.delegate.schedule(function(ft){Te.runGuarded(()=>{P.apply(this,[ft])})},Z,ve)}}class Hl{constructor(P){this.zone=P,this.task=null}call(P,Z){const ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),Z.pipe((0,Zo.b)({next:ve,complete:ve,error:ve})).subscribe(P).add(ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ec=(()=>{class k{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new _u(Zone.current)),this.insideAngular=Z.run(()=>new _u(Zone.current,Zs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(Z){return new(Z||k)(s.LFG(s.R0b))},k.\u0275prov=s.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function hr(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function ns(k){return hr().ngZone.runOutsideAngular(()=>k())}function Os(k){return hr().ngZone.run(()=>k())}function zl(k){return hr(),function(k){return function(Z){return(Z=Z.lift(new Hl(k.ngZone))).pipe((0,wo.R)(k.outsideAngular),(0,fu.Q)(k.insideAngular))}}(hr())(k)}const hd=(k,P)=>{const Z=void 0;return function(){const ve=arguments;return P&&setTimeout(()=>{"scheduled"===P.state&&P.invoke()},10),Os(()=>k.apply(Z,ve))}},vu=(k,P)=>function(){let Z;const ve=arguments;for(let We=0;We<arguments.length;We++)"function"==typeof ve[We]&&(P&&(Z||(Z=Os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)))),ve[We]=hd(ve[We],Z));const Te=ns(()=>k.apply(this,ve));if(!P){if(Te instanceof Ul.y){const We=hr();return Te.pipe((0,wo.R)(We.outsideAngular),(0,fu.Q)(We.insideAngular))}return Os(()=>Te)}return Te instanceof Ul.y?Te.pipe(zl):Te instanceof Promise?Os(()=>new Promise((We,ft)=>Te.then(It=>Os(()=>We(It)),It=>Os(()=>ft(It))))):"function"==typeof Te&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),Te.apply(this,arguments)}:Os(()=>Te)}},2501:bt=>{window,bt.exports=function(C){var A={};function s(b){if(A[b])return A[b].exports;var v=A[b]={i:b,l:!1,exports:{}};return C[b].call(v.exports,v,v.exports,s),v.l=!0,v.exports}return s.m=C,s.c=A,s.d=function(b,v,x){s.o(b,v)||Object.defineProperty(b,v,{enumerable:!0,get:x})},s.r=function(b){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},s.t=function(b,v){if(1&v&&(b=s(b)),8&v||4&v&&"object"==typeof b&&b&&b.__esModule)return b;var x=Object.create(null);if(s.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:b}),2&v&&"string"!=typeof b)for(var O in b)s.d(x,O,function(B){return b[B]}.bind(null,O));return x},s.n=function(b){var v=b&&b.__esModule?function(){return b.default}:function(){return b};return s.d(v,"a",v),v},s.o=function(b,v){return Object.prototype.hasOwnProperty.call(b,v)},s.p="/",s(s.s=89)}([function(C,A){C.exports=function(s,b,v){return b in s?Object.defineProperty(s,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):s[b]=v,s},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){function s(b){return C.exports=s=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},C.exports.__esModule=!0,C.exports.default=C.exports,s(b)}C.exports=s,C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s,b){if(!(s instanceof b))throw new TypeError("Cannot call a class as a function")},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){function s(b,v){for(var x=0;x<v.length;x++){var O=v[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(b,O.key,O)}}C.exports=function(b,v,x){return v&&s(b.prototype,v),x&&s(b,x),Object.defineProperty(b,"prototype",{writable:!1}),b},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){var b=s(20).default,v=s(1);C.exports=function(x,O){if(O&&("object"===b(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return v(x)},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){var b=s(41);C.exports=function(v,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(x&&x.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),x&&b(v,x)},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){C.exports={EPSILON:s(62),create:s(63),clone:s(156),fromValues:s(157),copy:s(158),set:s(159),equals:s(160),exactEquals:s(161),add:s(162),subtract:s(64),sub:s(163),multiply:s(65),mul:s(164),divide:s(66),div:s(165),inverse:s(166),min:s(167),max:s(168),rotate:s(169),floor:s(170),ceil:s(171),round:s(172),scale:s(173),scaleAndAdd:s(174),distance:s(67),dist:s(175),squaredDistance:s(68),sqrDist:s(176),length:s(69),len:s(177),squaredLength:s(70),sqrLen:s(178),negate:s(179),normalize:s(180),dot:s(181),cross:s(182),lerp:s(183),random:s(184),transformMat2:s(185),transformMat2d:s(186),transformMat3:s(187),transformMat4:s(188),forEach:s(189),limit:s(190)}},function(C,A,s){C.exports=s(224)},function(C,A,s){"use strict";A.a={init:function(b,v){b.fill(v)},shuffle:function(b){for(var v=b.length-1;v>0;v--){var x=Math.floor(Math.random()*(v+1)),O=[b[x],b[v]];b[v]=O[0],b[x]=O[1]}},toPointList:function(b){var v=b.reduce(function(x,O){var B="[".concat(O.join(","),"]");return x.push(B),x},[]);return"[".concat(v.join(",\r\n"),"]")},threshold:function(b,v,x){return b.reduce(function(O,B){return x.apply(b,[B])>=v&&O.push(B),O},[])},maxIndex:function(b){for(var v=0,x=0;x<b.length;x++)b[x]>b[v]&&(v=x);return v},max:function(b){for(var v=0,x=0;x<b.length;x++)b[x]>v&&(v=b[x]);return v},sum:function(b){for(var v=b.length,x=0;v--;)x+=b[v];return x}}},function(C,A,s){"use strict";s.d(A,"h",function(){return Q}),s.d(A,"i",function(){return me}),s.d(A,"b",function(){return Ze}),s.d(A,"j",function(){return je}),s.d(A,"e",function(){return Ue}),s.d(A,"c",function(){return qe}),s.d(A,"f",function(){return Ee}),s.d(A,"g",function(){return de}),s.d(A,"a",function(){return Oe}),s.d(A,"d",function(){return Qe});var b=s(7),v=s(84),x={clone:b.clone,dot:b.dot},O=function(be,Ne){var oe=[],Ie={rad:0,vec:x.clone([0,0])},K={};function L(X){K[X.id]=X,oe.push(X)}function j(){var X,re=0;for(X=0;X<oe.length;X++)re+=oe[X].rad;Ie.rad=re/oe.length,Ie.vec=x.clone([Math.cos(Ie.rad),Math.sin(Ie.rad)])}return L(be),j(),{add:function(X){K[X.id]||(L(X),j())},fits:function(X){return Math.abs(x.dot(X.point.vec,Ie.vec))>Ne},getPoints:function(){return oe},getCenter:function(){return Ie}}},B=function(be,Ne,oe){return{rad:be[oe],point:be,id:Ne}},H=s(9),Y={clone:b.clone},ee={clone:v.clone};function Q(be,Ne){return{x:be,y:Ne,toVec2:function(){return Y.clone([this.x,this.y])},toVec3:function(){return ee.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function te(be,Ne){Ne||(Ne=8);for(var oe=be.data,Ie=oe.length,K=8-Ne,L=new Int32Array(1<<Ne);Ie--;)L[oe[Ie]>>K]++;return L}function me(be,Ne){var oe=function(Ie){var K,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,j=8-L;function X(Ke,pt){for(var rt=0,Ge=Ke;Ge<=pt;Ge++)rt+=K[Ge];return rt}function re(Ke,pt){for(var rt=0,Ge=Ke;Ge<=pt;Ge++)rt+=Ge*K[Ge];return rt}function J(){var Ke,pt,rt,Ge,Ye=[0],Dt=(1<<L)-1;K=te(Ie,L);for(var Bt=1;Bt<Dt;Bt++)0==(rt=(Ke=X(0,Bt))*(pt=X(Bt+1,Dt)))&&(rt=1),Ge=re(0,Bt)*pt-re(Bt+1,Dt)*Ke,Ye[Bt]=Ge*Ge/rt;return H.a.maxIndex(Ye)}return J()<<j}(be);return function(Ie,K,L){L||(L=Ie);for(var j=Ie.data,X=j.length,re=L.data;X--;)re[X]=j[X]<K?1:0}(be,oe,Ne),oe}function Ze(be,Ne,oe){var Ie,K,L,j,X=[];function re(J){var Ae=!1;for(K=0;K<X.length;K++)(L=X[K]).fits(J)&&(L.add(J),Ae=!0);return Ae}for(oe||(oe="rad"),Ie=0;Ie<be.length;Ie++)re(j=B(be[Ie],Ie,oe))||X.push(O(j,Ne));return X}function je(be,Ne,oe){var Ie,K,L,j,X=0,re=0,J=[];for(Ie=0;Ie<Ne;Ie++)J[Ie]={score:0,item:null};for(Ie=0;Ie<be.length;Ie++)if((K=oe.apply(this,[be[Ie]]))>re)for((L=J[X]).score=K,L.item=be[Ie],re=Number.MAX_VALUE,j=0;j<Ne;j++)J[j].score<re&&(re=J[j].score,X=j);return J}function Ue(be,Ne,oe){for(var Ie,K=0,L=Ne.x,j=Math.floor(be.length/4),X=Ne.x/2,re=0,J=Ne.x;L<j;){for(Ie=0;Ie<X;Ie++)oe[re]=(.299*be[4*K+0]+.587*be[4*K+1]+.114*be[4*K+2]+(.299*be[4*(K+1)+0]+.587*be[4*(K+1)+1]+.114*be[4*(K+1)+2])+(.299*be[4*L+0]+.587*be[4*L+1]+.114*be[4*L+2])+(.299*be[4*(L+1)+0]+.587*be[4*(L+1)+1]+.114*be[4*(L+1)+2]))/4,re++,K+=2,L+=2;K+=J,L+=J}}function qe(be,Ne,oe){var Ie=be.length/4|0;if(oe&&!0===oe.singleChannel)for(var K=0;K<Ie;K++)Ne[K]=be[4*K+0];else for(var L=0;L<Ie;L++)Ne[L]=.299*be[4*L+0]+.587*be[4*L+1]+.114*be[4*L+2]}function Ee(be,Ne){for(var oe=be.data,Ie=be.size.x,K=Ne.data,L=0,j=Ie,X=oe.length,re=Ie/2,J=0;j<X;){for(var Ae=0;Ae<re;Ae++)K[J]=Math.floor((oe[L]+oe[L+1]+oe[j]+oe[j+1])/4),J++,L+=2,j+=2;L+=Ie,j+=Ie}}function de(be){var Ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],oe=be[0],K=be[2],L=K*be[1],j=L*(1-Math.abs(oe/60%2-1)),X=K-L,re=0,J=0,Ae=0;return oe<60?(re=L,J=j):oe<120?(re=j,J=L):oe<180?(J=L,Ae=j):oe<240?(J=j,Ae=L):oe<300?(re=j,Ae=L):oe<360&&(re=L,Ae=j),Ne[0]=255*(re+X)|0,Ne[1]=255*(J+X)|0,Ne[2]=255*(Ae+X)|0,Ne}function ce(be){for(var Ne=[],oe=[],Ie=1;Ie<Math.sqrt(be)+1;Ie++)be%Ie==0&&(oe.push(Ie),Ie!==be/Ie&&Ne.unshift(Math.floor(be/Ie)));return oe.concat(Ne)}function Oe(be,Ne){var oe,Ie=ce(Ne.x),K=ce(Ne.y),L=Math.max(Ne.x,Ne.y),j=function(rt,Ge){for(var Ye=0,Dt=0,Bt=[];Ye<rt.length&&Dt<Ge.length;)rt[Ye]===Ge[Dt]?(Bt.push(rt[Ye]),Ye++,Dt++):rt[Ye]>Ge[Dt]?Dt++:Ye++;return Bt}(Ie,K),X=[8,10,15,20,32,60,80],re={"x-small":5,small:4,medium:3,large:2,"x-large":1},J=re[be]||re.medium,Ae=X[J],Ke=Math.floor(L/Ae);function pt(rt){for(var Ge=0,Ye=rt[Math.floor(rt.length/2)];Ge<rt.length-1&&rt[Ge]<Ke;)Ge++;return Ge>0&&(Ye=Math.abs(rt[Ge]-Ke)>Math.abs(rt[Ge-1]-Ke)?rt[Ge-1]:rt[Ge]),Ke/Ye<X[J+1]/X[J]&&Ke/Ye>X[J-1]/X[J]?{x:Ye,y:Ye}:null}return(oe=pt(j))||(oe=pt(ce(L)))||(oe=pt(ce(Ke*Ae))),oe}var Pe={top:function(be,Ne){return"%"===be.unit?Math.floor(Ne.height*(be.value/100)):null},right:function(be,Ne){return"%"===be.unit?Math.floor(Ne.width-Ne.width*(be.value/100)):null},bottom:function(be,Ne){return"%"===be.unit?Math.floor(Ne.height-Ne.height*(be.value/100)):null},left:function(be,Ne){return"%"===be.unit?Math.floor(Ne.width*(be.value/100)):null}};function Qe(be,Ne,oe){var Ie={width:be,height:Ne},K=Object.keys(oe).reduce(function(L,j){var J,X=(J=oe[j],{value:parseFloat(J),unit:(J.indexOf("%"),"%")}),re=Pe[j](X,Ie);return L[j]=re,L},{});return{sx:K.left,sy:K.top,sw:K.right-K.left,sh:K.bottom-K.top}}},function(C,A,s){"use strict";var b=s(83),v=s.n(b),x=s(3),O=s.n(x),B=s(4),H=s.n(B),Y=s(0),ee=s.n(Y),Q=s(7),te=s(9),me=s(10),Ze={clone:Q.clone};function je(qe){if(qe<0)throw new Error("expected positive number, received ".concat(qe))}var Ue=function(){function qe(Ee,de){var ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,Oe=arguments.length>3?arguments[3]:void 0;O()(this,qe),ee()(this,"data",void 0),ee()(this,"size",void 0),ee()(this,"indexMapping",void 0),de?this.data=de:(this.data=new ce(Ee.x*Ee.y),Oe&&te.a.init(this.data,0)),this.size=Ee}return H()(qe,[{key:"inImageWithBorder",value:function(Ee){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return je(de),Ee.x>=0&&Ee.y>=0&&Ee.x<this.size.x+2*de&&Ee.y<this.size.y+2*de}},{key:"subImageAsCopy",value:function(Ee,de){je(de.x),je(de.y);for(var ce=Ee.size,Oe=ce.x,Pe=ce.y,Qe=0;Qe<Oe;Qe++)for(var be=0;be<Pe;be++)Ee.data[be*Oe+Qe]=this.data[(de.y+be)*this.size.x+de.x+Qe];return Ee}},{key:"get",value:function(Ee,de){return this.data[de*this.size.x+Ee]}},{key:"getSafe",value:function(Ee,de){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var ce=0;ce<this.size.x;ce++)this.indexMapping.x[ce]=ce,this.indexMapping.x[ce+this.size.x]=ce;for(var Oe=0;Oe<this.size.y;Oe++)this.indexMapping.y[Oe]=Oe,this.indexMapping.y[Oe+this.size.y]=Oe}return this.data[this.indexMapping.y[de+this.size.y]*this.size.x+this.indexMapping.x[Ee+this.size.x]]}},{key:"set",value:function(Ee,de,ce){return this.data[de*this.size.x+Ee]=ce,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var Ee=this.size,de=Ee.x,ce=Ee.y,Oe=0;Oe<de;Oe++)this.data[Oe]=this.data[(ce-1)*de+Oe]=0;for(var Pe=1;Pe<ce-1;Pe++)this.data[Pe*de]=this.data[Pe*de+(de-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(Ee){var de,ce,Oe,Pe,Qe,be,Ne,oe,Ie,K,L=this.data,j=this.size.y,X=this.size.x,re=[],J=[],Ae=Math.PI,Ke=Ae/4;if(Ee<=0)return J;for(Qe=0;Qe<Ee;Qe++)re[Qe]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(ce=0;ce<j;ce++)for(Pe=ce*ce,de=0;de<X;de++)(Oe=L[ce*X+de])>0&&((be=re[Oe-1]).m00+=1,be.m01+=ce,be.m10+=de,be.m11+=de*ce,be.m02+=Pe,be.m20+=de*de);for(Qe=0;Qe<Ee;Qe++)be=re[Qe],isNaN(be.m00)||0===be.m00||(K=(be.m02/be.m00-(Ie=be.m01/be.m00)*Ie-(be.m20/be.m00-(oe=be.m10/be.m00)*oe))/(2*(Ne=be.m11/be.m00-oe*Ie)),K=.5*Math.atan(K)+(Ne>=0?Ke:-Ke)+Ae,be.theta=(180*K/Ae+90)%180-90,be.theta<0&&(be.theta+=180),be.rad=K>Ae?K-Ae:K,be.vec=Ze.clone([Math.cos(K),Math.sin(K)]),J.push(be));return J}},{key:"getAsRGBA",value:function(){for(var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,de=new Uint8ClampedArray(4*this.size.x*this.size.y),ce=0;ce<this.size.y;ce++)for(var Oe=0;Oe<this.size.x;Oe++){var Pe=ce*this.size.x+Oe,Qe=this.get(Oe,ce)*Ee;de[4*Pe+0]=Qe,de[4*Pe+1]=Qe,de[4*Pe+2]=Qe,de[4*Pe+3]=255}return de}},{key:"show",value:function(Ee){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,ce=Ee.getContext("2d");if(!ce)throw new Error("Unable to get canvas context");var Oe=ce.getImageData(0,0,Ee.width,Ee.height),Pe=this.getAsRGBA(de);Ee.width=this.size.x,Ee.height=this.size.y;var Qe=new ImageData(Pe,Oe.width,Oe.height);ce.putImageData(Qe,0,0)}},{key:"overlay",value:function(Ee,de,ce){var Oe=de<0||de>360?360:de,Pe=[0,1,1],Qe=[0,0,0],be=[255,255,255],Ne=[0,0,0],oe=Ee.getContext("2d");if(!oe)throw new Error("Unable to get canvas context");for(var Ie=oe.getImageData(ce.x,ce.y,this.size.x,this.size.y),K=Ie.data,L=this.data.length;L--;){Pe[0]=this.data[L]*Oe;var j=4*L,X=Pe[0]<=0?be:Pe[0]>=360?Ne:Object(me.g)(Pe,Qe),re=v()(X,3);K[j]=re[0],K[j+1]=re[1],K[j+2]=re[2],K[j+3]=255}oe.putImageData(Ie,ce.x,ce.y)}}]),qe}();A.a=Ue},function(C,A){function s(b,v,x,O,B,H,Y){try{var ee=b[H](Y),Q=ee.value}catch(te){return void x(te)}ee.done?v(Q):Promise.resolve(Q).then(O,B)}C.exports=function(b){return function(){var v=this,x=arguments;return new Promise(function(O,B){var H=b.apply(v,x);function Y(Q){s(H,O,B,Y,ee,"next",Q)}function ee(Q){s(H,O,B,Y,ee,"throw",Q)}Y(void 0)})}},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){var b=s(225);function v(){return"undefined"!=typeof Reflect&&Reflect.get?(C.exports=v=Reflect.get,C.exports.__esModule=!0,C.exports.default=C.exports):(C.exports=v=function(x,O,B){var H=b(x,O);if(H){var Y=Object.getOwnPropertyDescriptor(H,O);return Y.get?Y.get.call(arguments.length<3?x:B):Y.value}},C.exports.__esModule=!0,C.exports.default=C.exports),v.apply(this,arguments)}C.exports=v,C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s){var b=typeof s;return null!=s&&("object"==b||"function"==b)}},function(C,A){C.exports=Array.isArray},function(C,A,s){"use strict";A.a={drawRect:function(b,v,x,O){x.strokeStyle=O.color,x.fillStyle=O.color,x.lineWidth=O.lineWidth||1,x.beginPath(),x.strokeRect(b.x,b.y,v.x,v.y)},drawPath:function(b,v,x,O){x.strokeStyle=O.color,x.fillStyle=O.color,x.lineWidth=O.lineWidth,x.beginPath(),x.moveTo(b[0][v.x],b[0][v.y]);for(var B=1;B<b.length;B++)x.lineTo(b[B][v.x],b[B][v.y]);x.closePath(),x.stroke()},drawImage:function(b,v,x){var O=x.getImageData(0,0,v.x,v.y),B=O.data,H=B.length,Y=b.length;if(H/Y!=4)return!1;for(;Y--;){var ee=b[Y];B[--H]=255,B[--H]=ee,B[--H]=ee,B[--H]=ee}return x.putImageData(O,0,0),!0}}},function(C,A,s){var b=s(90),v=s(145)(function(x,O,B){b(x,O,B)});C.exports=v},function(C,A,s){var b=s(45),v="object"==typeof self&&self&&self.Object===Object&&self,x=b||v||Function("return this")();C.exports=x},function(C,A){C.exports=function(s){return null!=s&&"object"==typeof s}},function(C,A){function s(b){return C.exports=s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},C.exports.__esModule=!0,C.exports.default=C.exports,s(b)}C.exports=s,C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){"use strict";A.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(b,v){var x,O=b.data,B=v.data,H=this.searchDirections,Y=b.size.x;function ee(te,me,Ze,je){var Ue,qe,Ee;for(Ue=0;Ue<7;Ue++){if(O[x=(qe=te.cy+H[te.dir][0])*Y+(Ee=te.cx+H[te.dir][1])]===me&&(0===B[x]||B[x]===Ze))return B[x]=Ze,te.cy=qe,te.cx=Ee,!0;0===B[x]&&(B[x]=je),te.dir=(te.dir+1)%8}return!1}function Q(te,me,Ze){return{dir:Ze,x:te,y:me,next:null,prev:null}}return{trace:function(te,me,Ze,je){return ee(te,me,Ze,je)},contourTracing:function(te,me,Ze,je,Ue){return function(qe,Ee,de,ce,Oe){var Pe,Qe,be,Ne=null,oe={cx:Ee,cy:qe,dir:0};if(ee(oe,ce,de,Oe)){Pe=Ne=Q(Ee,qe,oe.dir),be=oe.dir,(Qe=Q(oe.cx,oe.cy,0)).prev=Pe,Pe.next=Qe,Qe.next=null,Pe=Qe;do{oe.dir=(oe.dir+6)%8,ee(oe,ce,de,Oe),be!==oe.dir?(Pe.dir=oe.dir,(Qe=Q(oe.cx,oe.cy,0)).prev=Pe,Pe.next=Qe,Qe.next=null,Pe=Qe):(Pe.dir=be,Pe.x=oe.cx,Pe.y=oe.cy),be=oe.dir}while(oe.cx!==Ee||oe.cy!==qe);Ne.prev=Pe.prev,Pe.prev.next=Ne}return Ne}(te,me,Ze,je,Ue)}}}}},function(C,A,s){var b=s(27),v=s(103),x=s(104),O=b?b.toStringTag:void 0;C.exports=function(B){return null==B?void 0===B?"[object Undefined]":"[object Null]":O&&O in Object(B)?v(B):x(B)}},function(C,A,s){"use strict";(function(b){var v,x,O,B,H,Y,ee,Q,te,me,Ze,je,Ue=s(7),qe=s(34),Ee=s(11),de=s(10),ce=s(9),Oe=(s(16),s(87)),Pe=s(21),Qe=s(88),be={ctx:{binary:null},dom:{binary:null}},Ne={x:0,y:0};function oe(L){var j,X,re,J,Ae,Ke,pt,rt=te.size.x,Ge=te.size.y,Ye=-te.size.x,Dt=-te.size.y;for(j=0,X=0;X<L.length;X++)j+=(J=L[X]).rad;for((j=(180*(j/=L.length)/Math.PI+90)%180-90)<0&&(j+=180),j=(180-j)*Math.PI/180,Ae=qe.copy(qe.create(),[Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j)]),X=0;X<L.length;X++)for(J=L[X],re=0;re<4;re++)Ue.transformMat2(J.box[re],J.box[re],Ae);for(X=0;X<L.length;X++)for(J=L[X],re=0;re<4;re++)J.box[re][0]<rt&&(rt=J.box[re][0]),J.box[re][0]>Ye&&(Ye=J.box[re][0]),J.box[re][1]<Ge&&(Ge=J.box[re][1]),J.box[re][1]>Dt&&(Dt=J.box[re][1]);for(Ke=[[rt,Ge],[Ye,Ge],[Ye,Dt],[rt,Dt]],pt=v.halfSample?2:1,Ae=qe.invert(Ae,Ae),re=0;re<4;re++)Ue.transformMat2(Ke[re],Ke[re],Ae);for(re=0;re<4;re++)Ue.scale(Ke[re],Ke[re],pt);return Ke}function Ie(L,j){te.subImageAsCopy(B,Object(de.h)(L,j)),je.skeletonize()}function K(L,j,X,re){var J,Ae,Ke,pt,rt=[],Ge=[],Ye=Math.ceil(me.x/3);if(L.length>=2){for(J=0;J<L.length;J++)L[J].m00>Ye&&rt.push(L[J]);if(rt.length>=2){for(Ke=function(Dt){var Bt=Object(de.b)(Dt,.9),hn=Object(de.j)(Bt,1,function(Rr){return Rr.getPoints().length}),wt=[],$t=[];if(1===hn.length){wt=hn[0].item.getPoints();for(var sn=0;sn<wt.length;sn++)$t.push(wt[sn].point)}return $t}(rt),Ae=0,J=0;J<Ke.length;J++)Ae+=Ke[J].rad;Ke.length>1&&Ke.length>=rt.length/4*3&&Ke.length>L.length/4&&(Ae/=Ke.length,pt={index:j[1]*Ne.x+j[0],pos:{x:X,y:re},box:[Ue.clone([X,re]),Ue.clone([X+B.size.x,re]),Ue.clone([X+B.size.x,re+B.size.y]),Ue.clone([X,re+B.size.y])],moments:Ke,rad:Ae,vec:Ue.clone([Math.cos(Ae),Math.sin(Ae)])},Ge.push(pt))}}return Ge}A.a={init:function(L,j){v=j,Ze=L,function(){x=v.halfSample?new Ee.a({x:Ze.size.x/2|0,y:Ze.size.y/2|0}):Ze,me=Object(de.a)(v.patchSize,x.size),Ne.x=x.size.x/me.x|0,Ne.y=x.size.y/me.y|0,te=new Ee.a(x.size,void 0,Uint8Array,!1),H=new Ee.a(me,void 0,Array,!0);var X=new ArrayBuffer(65536);B=new Ee.a(me,new Uint8Array(X,0,me.x*me.y)),O=new Ee.a(me,new Uint8Array(X,me.x*me.y*3,me.x*me.y),void 0,!0),je=Object(Qe.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:b,{size:me.x},X),Q=new Ee.a({x:x.size.x/B.size.x|0,y:x.size.y/B.size.y|0},void 0,Array,!0),Y=new Ee.a(Q.size,void 0,void 0,!0),ee=new Ee.a(Q.size,void 0,Int32Array,!0)}(),v.useWorker||"undefined"==typeof document||(be.dom.binary=document.createElement("canvas"),be.dom.binary.className="binaryBuffer",be.ctx.binary=be.dom.binary.getContext("2d"),be.dom.binary.width=te.size.x,be.dom.binary.height=te.size.y)},locate:function(){v.halfSample&&Object(de.f)(Ze,x),Object(de.i)(x,te),te.zeroBorder();var L=function(){var re,J,Ae,Ke,pt,rt,Ge=[];for(re=0;re<Ne.x;re++)for(J=0;J<Ne.y;J++)Ie(Ae=B.size.x*re,Ke=B.size.y*J),O.zeroBorder(),ce.a.init(H.data,0),rt=Oe.a.create(O,H).rasterize(0),pt=H.moments(rt.count),Ge=Ge.concat(K(pt,[re,J],Ae,Ke));return Ge}();if(L.length<Ne.x*Ne.y*.05)return null;var j=function(re){var J,Ae,Ke=0,pt=0;function rt(){var Ye;for(Ye=0;Ye<ee.data.length;Ye++)if(0===ee.data[Ye]&&1===Y.data[Ye])return Ye;return ee.length}function Ge(Ye){var hn,wt,$t,sn=Ye%ee.size.x,Rr=Ye/ee.size.x|0;if(Ye<ee.data.length)for(hn=Q.data[Ye],ee.data[Ye]=Ke,$t=0;$t<Pe.a.searchDirections.length;$t++)0!==Y.data[wt=(Rr+Pe.a.searchDirections[$t][0])*ee.size.x+(sn+Pe.a.searchDirections[$t][1])]?0===ee.data[wt]&&Math.abs(Ue.dot(Q.data[wt].vec,hn.vec))>.95&&Ge(wt):ee.data[wt]=Number.MAX_VALUE}for(ce.a.init(Y.data,0),ce.a.init(ee.data,0),ce.a.init(Q.data,null),J=0;J<re.length;J++)Q.data[(Ae=re[J]).index]=Ae,Y.data[Ae.index]=1;for(Y.zeroBorder();(pt=rt())<ee.data.length;)Ke++,Ge(pt);return Ke}(L);if(j<1)return null;var X=function(re){var J,Ae,Ke=[];for(J=0;J<re;J++)Ke.push(0);for(Ae=ee.data.length;Ae--;)ee.data[Ae]>0&&Ke[ee.data[Ae]-1]++;return(Ke=Ke.map(function(pt,rt){return{val:pt,label:rt+1}})).sort(function(pt,rt){return rt.val-pt.val}),Ke.filter(function(pt){return pt.val>=5})}(j);return 0===X.length?null:function(re,J){var Ae,Ke,rt,Ge=[],Ye=[];for(Ae=0;Ae<re.length;Ae++){for(Ke=ee.data.length,Ge.length=0;Ke--;)ee.data[Ke]===re[Ae].label&&Ge.push(Q.data[Ke]);(rt=oe(Ge))&&Ye.push(rt)}return Ye}(X)},checkImageConstraints:function(L,j){var X,re,J=L.getWidth(),Ae=L.getHeight(),Ke=j.halfSample?.5:1;L.getConfig().area&&(re=Object(de.d)(J,Ae,L.getConfig().area),L.setTopRight({x:re.sx,y:re.sy}),L.setCanvasSize({x:J,y:Ae}),J=re.sw,Ae=re.sh);var pt={x:Math.floor(J*Ke),y:Math.floor(Ae*Ke)};if(X=Object(de.a)(j.patchSize,pt),L.setWidth(Math.floor(Math.floor(pt.x/X.x)*(1/Ke)*X.x)),L.setHeight(Math.floor(Math.floor(pt.y/X.y)*(1/Ke)*X.y)),L.getWidth()%X.x==0&&L.getHeight()%X.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(J," )and height (").concat(Ae,") must a multiple of ").concat(X.x))}}}).call(this,s(46))},function(C,A,s){var b=s(92),v=s(93),x=s(94),O=s(95),B=s(96);function H(Y){var ee=-1,Q=null==Y?0:Y.length;for(this.clear();++ee<Q;){var te=Y[ee];this.set(te[0],te[1])}}H.prototype.clear=b,H.prototype.delete=v,H.prototype.get=x,H.prototype.has=O,H.prototype.set=B,C.exports=H},function(C,A,s){var b=s(26);C.exports=function(v,x){for(var O=v.length;O--;)if(b(v[O][0],x))return O;return-1}},function(C,A){C.exports=function(s,b){return s===b||s!=s&&b!=b}},function(C,A,s){var b=s(18).Symbol;C.exports=b},function(C,A,s){var b=s(35)(Object,"create");C.exports=b},function(C,A,s){var b=s(117);C.exports=function(v,x){var O=v.__data__;return b(x)?O["string"==typeof x?"string":"hash"]:O.map}},function(C,A,s){var b=s(132),v=s(19),x=Object.prototype,O=x.hasOwnProperty,B=x.propertyIsEnumerable,H=b(function(){return arguments}())?b:function(Y){return v(Y)&&O.call(Y,"callee")&&!B.call(Y,"callee")};C.exports=H},function(C,A){var s=/^(?:0|[1-9]\d*)$/;C.exports=function(b,v){var x=typeof b;return!!(v=null==v?9007199254740991:v)&&("number"==x||"symbol"!=x&&s.test(b))&&b>-1&&b%1==0&&b<v}},function(C,A,s){var b=s(15),v=s(232),x=s(233),O=s(236);C.exports=function(B,H){return b(B)?B:v(B,H)?[B]:x(O(B))}},function(C,A,s){var b=s(226),v=s(227),x=s(60),O=s(228);C.exports=function(B){return b(B)||v(B)||x(B)||O()},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){C.exports={determinant:s(251),transpose:s(252),multiply:s(253),identity:s(254),adjoint:s(255),rotate:s(256),invert:s(257),create:s(258),scale:s(259),copy:s(260),frob:s(261),ldu:s(262)}},function(C,A,s){var b=s(102),v=s(108);C.exports=function(x,O){var B=v(x,O);return b(B)?B:void 0}},function(C,A,s){var b=s(22),v=s(14);C.exports=function(x){if(!v(x))return!1;var O=b(x);return"[object Function]"==O||"[object GeneratorFunction]"==O||"[object AsyncFunction]"==O||"[object Proxy]"==O}},function(C,A,s){var b=s(49);C.exports=function(v,x,O){"__proto__"==x&&b?b(v,x,{configurable:!0,enumerable:!0,value:O,writable:!0}):v[x]=O}},function(C,A){C.exports=function(s){return s.webpackPolyfill||(s.deprecate=function(){},s.paths=[],s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),s.webpackPolyfill=1),s}},function(C,A,s){var b=s(36),v=s(40);C.exports=function(x){return null!=x&&v(x.length)&&!b(x)}},function(C,A){C.exports=function(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=9007199254740991}},function(C,A){function s(b,v){return C.exports=s=Object.setPrototypeOf||function(x,O){return x.__proto__=O,x},C.exports.__esModule=!0,C.exports.default=C.exports,s(b,v)}C.exports=s,C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){var b=s(22),v=s(19);C.exports=function(x){return"symbol"==typeof x||v(x)&&"[object Symbol]"==b(x)}},function(C,A,s){var b=s(42);C.exports=function(v){if("string"==typeof v||b(v))return v;var x=v+"";return"0"==x&&1/v==-1/0?"-0":x}},function(C,A,s){var b=s(35)(s(18),"Map");C.exports=b},function(C,A,s){(function(b){C.exports="object"==typeof b&&b&&b.Object===Object&&b}).call(this,s(46))},function(C,A){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(b){"object"==typeof window&&(s=window)}C.exports=s},function(C,A,s){var b=s(109),v=s(116),x=s(118),O=s(119),B=s(120);function H(Y){var ee=-1,Q=null==Y?0:Y.length;for(this.clear();++ee<Q;){var te=Y[ee];this.set(te[0],te[1])}}H.prototype.clear=b,H.prototype.delete=v,H.prototype.get=x,H.prototype.has=O,H.prototype.set=B,C.exports=H},function(C,A,s){var b=s(37),v=s(26);C.exports=function(x,O,B){(void 0!==B&&!v(x[O],B)||void 0===B&&!(O in x))&&b(x,O,B)}},function(C,A,s){var b=s(35),v=function(){try{var x=b(Object,"defineProperty");return x({},"",{}),x}catch(O){}}();C.exports=v},function(C,A,s){var b=s(131)(Object.getPrototypeOf,Object);C.exports=b},function(C,A){var s=Object.prototype;C.exports=function(b){var v=b&&b.constructor;return b===("function"==typeof v&&v.prototype||s)}},function(C,A,s){(function(b){var v=s(18),x=s(134),O=A&&!A.nodeType&&A,B=O&&"object"==typeof b&&b&&!b.nodeType&&b,H=B&&B.exports===O?v.Buffer:void 0;b.exports=(H?H.isBuffer:void 0)||x}).call(this,s(38)(C))},function(C,A,s){var b=s(136),v=s(137),x=s(138),O=x&&x.isTypedArray,B=O?v(O):b;C.exports=B},function(C,A){C.exports=function(s,b){if(("constructor"!==b||"function"!=typeof s[b])&&"__proto__"!=b)return s[b]}},function(C,A,s){var b=s(37),v=s(26),x=Object.prototype.hasOwnProperty;C.exports=function(O,B,H){var Y=O[B];x.call(O,B)&&v(Y,H)&&(void 0!==H||B in O)||b(O,B,H)}},function(C,A,s){var b=s(141),v=s(143),x=s(39);C.exports=function(O){return x(O)?b(O,!0):v(O)}},function(C,A){C.exports=function(s){return s}},function(C,A,s){var b=s(147),v=Math.max;C.exports=function(x,O,B){return O=v(void 0===O?x.length-1:O,0),function(){for(var H=arguments,Y=-1,ee=v(H.length-O,0),Q=Array(ee);++Y<ee;)Q[Y]=H[O+Y];Y=-1;for(var te=Array(O+1);++Y<O;)te[Y]=H[Y];return te[O]=B(Q),b(x,this,te)}}},function(C,A,s){var b=s(148),v=s(150)(b);C.exports=v},function(C,A,s){var b=s(61);C.exports=function(v,x){if(v){if("string"==typeof v)return b(v,x);var O=Object.prototype.toString.call(v).slice(8,-1);return"Object"===O&&v.constructor&&(O=v.constructor.name),"Map"===O||"Set"===O?Array.from(v):"Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?b(v,x):void 0}},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s,b){(null==b||b>s.length)&&(b=s.length);for(var v=0,x=new Array(b);v<b;v++)x[v]=s[v];return x},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=1e-6},function(C,A){C.exports=function(){var s=new Float32Array(2);return s[0]=0,s[1]=0,s}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]-v[0],s[1]=b[1]-v[1],s}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]*v[0],s[1]=b[1]*v[1],s}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]/v[0],s[1]=b[1]/v[1],s}},function(C,A){C.exports=function(s,b){var v=b[0]-s[0],x=b[1]-s[1];return Math.sqrt(v*v+x*x)}},function(C,A){C.exports=function(s,b){var v=b[0]-s[0],x=b[1]-s[1];return v*v+x*x}},function(C,A){C.exports=function(s){var b=s[0],v=s[1];return Math.sqrt(b*b+v*v)}},function(C,A){C.exports=function(s){var b=s[0],v=s[1];return b*b+v*v}},function(C,A){C.exports=1e-6},function(C,A){C.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},function(C,A){C.exports=function(s,b,v){var x=new Float32Array(3);return x[0]=s,x[1]=b,x[2]=v,x}},function(C,A){C.exports=function(s,b){var v=b[0],x=b[1],O=b[2],B=v*v+x*x+O*O;return B>0&&(B=1/Math.sqrt(B),s[0]=b[0]*B,s[1]=b[1]*B,s[2]=b[2]*B),s}},function(C,A){C.exports=function(s,b){return s[0]*b[0]+s[1]*b[1]+s[2]*b[2]}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]-v[0],s[1]=b[1]-v[1],s[2]=b[2]-v[2],s}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]*v[0],s[1]=b[1]*v[1],s[2]=b[2]*v[2],s}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]/v[0],s[1]=b[1]/v[1],s[2]=b[2]/v[2],s}},function(C,A){C.exports=function(s,b){var v=b[0]-s[0],x=b[1]-s[1],O=b[2]-s[2];return Math.sqrt(v*v+x*x+O*O)}},function(C,A){C.exports=function(s,b){var v=b[0]-s[0],x=b[1]-s[1],O=b[2]-s[2];return v*v+x*x+O*O}},function(C,A){C.exports=function(s){var b=s[0],v=s[1],x=s[2];return Math.sqrt(b*b+v*v+x*x)}},function(C,A){C.exports=function(s){var b=s[0],v=s[1],x=s[2];return b*b+v*v+x*x}},function(C,A,s){var b=s(153),v=s(154),x=s(60),O=s(155);C.exports=function(B,H){return b(B)||v(B,H)||x(B,H)||O()},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){C.exports={EPSILON:s(71),create:s(72),clone:s(191),angle:s(192),fromValues:s(73),copy:s(193),set:s(194),equals:s(195),exactEquals:s(196),add:s(197),subtract:s(76),sub:s(198),multiply:s(77),mul:s(199),divide:s(78),div:s(200),min:s(201),max:s(202),floor:s(203),ceil:s(204),round:s(205),scale:s(206),scaleAndAdd:s(207),distance:s(79),dist:s(208),squaredDistance:s(80),sqrDist:s(209),length:s(81),len:s(210),squaredLength:s(82),sqrLen:s(211),negate:s(212),inverse:s(213),normalize:s(74),dot:s(75),cross:s(214),lerp:s(215),random:s(216),transformMat4:s(217),transformMat3:s(218),transformQuat:s(219),rotateX:s(220),rotateY:s(221),rotateZ:s(222),forEach:s(223)}},function(C,A,s){var b=s(229),v=s(243)(function(x,O){return null==x?{}:b(x,O)});C.exports=v},function(C,A,s){var b=s(2),v=s(41),x=s(248),O=s(249);function B(H){var Y="function"==typeof Map?new Map:void 0;return C.exports=B=function(ee){if(null===ee||!x(ee))return ee;if("function"!=typeof ee)throw new TypeError("Super expression must either be null or a function");if(void 0!==Y){if(Y.has(ee))return Y.get(ee);Y.set(ee,Q)}function Q(){return O(ee,arguments,b(this).constructor)}return Q.prototype=Object.create(ee.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),v(Q,ee)},C.exports.__esModule=!0,C.exports.default=C.exports,B(H)}C.exports=B,C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){"use strict";var b=s(21),v={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(x,O){var B=x.data,H=O.data,Y=x.size.x,ee=x.size.y,Q=b.a.create(x,O);return{rasterize:function(te){var me,Ze,je,Ue,qe,Ee,de,ce,Oe,Pe,Qe,be,Ne=[],oe=0;for(be=0;be<400;be++)Ne[be]=0;for(Ne[0]=B[0],Oe=null,Ee=1;Ee<ee-1;Ee++)for(Ue=0,Ze=Ne[0],qe=1;qe<Y-1;qe++)if(0===H[Qe=Ee*Y+qe])if((me=B[Qe])!==Ze){if(0===Ue)Ne[je=oe+1]=me,Ze=me,null!==(de=Q.contourTracing(Ee,qe,je,me,v.DIR.OUTSIDE_EDGE))&&(oe++,Ue=je,(ce=v.createContour2D()).dir=v.CONTOUR_DIR.CW_DIR,ce.index=Ue,ce.firstVertex=de,ce.nextpeer=Oe,ce.insideContours=null,null!==Oe&&(Oe.prevpeer=ce),Oe=ce);else if(null!==(de=Q.contourTracing(Ee,qe,v.DIR.INSIDE_EDGE,me,Ue))){for((ce=v.createContour2D()).firstVertex=de,ce.insideContours=null,ce.dir=0===te?v.CONTOUR_DIR.CCW_DIR:v.CONTOUR_DIR.CW_DIR,ce.index=te,Pe=Oe;null!==Pe&&Pe.index!==Ue;)Pe=Pe.nextpeer;null!==Pe&&(ce.nextpeer=Pe.insideContours,null!==Pe.insideContours&&(Pe.insideContours.prevpeer=ce),Pe.insideContours=ce)}}else H[Qe]=Ue;else H[Qe]===v.DIR.OUTSIDE_EDGE||H[Qe]===v.DIR.INSIDE_EDGE?(Ue=0,Ze=H[Qe]===v.DIR.INSIDE_EDGE?B[Qe]:Ne[0]):Ze=Ne[Ue=H[Qe]];for(Pe=Oe;null!==Pe;)Pe.index=te,Pe=Pe.nextpeer;return{cc:Oe,count:oe}},debug:{drawContour:function(te,me){var Ze,je,Ue,qe=te.getContext("2d"),Ee=me;for(qe.strokeStyle="red",qe.fillStyle="red",qe.lineWidth=1,Ze=null!==Ee?Ee.insideContours:null;null!==Ee;){switch(null!==Ze?(je=Ze,Ze=Ze.nextpeer):(je=Ee,Ze=null!==(Ee=Ee.nextpeer)?Ee.insideContours:null),je.dir){case v.CONTOUR_DIR.CW_DIR:qe.strokeStyle="red";break;case v.CONTOUR_DIR.CCW_DIR:qe.strokeStyle="blue";break;case v.CONTOUR_DIR.UNKNOWN_DIR:qe.strokeStyle="green"}Ue=je.firstVertex,qe.beginPath(),qe.moveTo(Ue.x,Ue.y);do{qe.lineTo((Ue=Ue.next).x,Ue.y)}while(Ue!==je.firstVertex);qe.stroke()}}}}}};A.a=v},function(C,A,s){"use strict";A.a=function(b,v,x){var O=new b.Uint8Array(x),B=0|v.size,H=b.Math.imul;function Y(Ee,de){Ee|=0,de|=0;var ce=0,Oe=0,Qe=0,be=0,Ne=0,oe=0,Ie=0;for(ce=1;(0|ce)<(B-1|0);ce=ce+1|0)for(Ie=Ie+B|0,Oe=1;(0|Oe)<(B-1|0);Oe=Oe+1|0)O[de+Ie+Oe|0]=5==(0|(0|O[Ee+(Qe=Ie-B|0)+(Ne=Oe-1|0)|0])+(0|O[Ee+Qe+(oe=Oe+1|0)|0])+(0|O[Ee+Ie+Oe|0])+(0|O[Ee+(be=Ie+B|0)+Ne|0])+(0|O[Ee+be+oe|0]))?1:0}function ee(Ee,de,ce){Ee|=0,de|=0,ce|=0;var Oe=0;for(Oe=0|H(B,B);(0|Oe)>0;)O[ce+(Oe=Oe-1|0)|0]=(0|O[Ee+Oe|0])-(0|O[de+Oe|0])|0}function Q(Ee,de,ce){Ee|=0,de|=0,ce|=0;var Oe=0;for(Oe=0|H(B,B);(0|Oe)>0;)O[ce+(Oe=Oe-1|0)|0]=0|O[Ee+Oe|0]|O[de+Oe|0]|0}function te(Ee){Ee|=0;var de=0,ce=0;for(ce=0|H(B,B);(0|ce)>0;)de=(0|de)+(0|O[Ee+(ce=ce-1|0)|0])|0;return 0|de}function Ze(Ee,de){Ee|=0,de|=0;var ce=0,Oe=0,Qe=0,be=0,Ne=0,oe=0,Ie=0;for(ce=1;(0|ce)<(B-1|0);ce=ce+1|0)for(Ie=Ie+B|0,Oe=1;(0|Oe)<(B-1|0);Oe=Oe+1|0)O[de+Ie+Oe|0]=(0|(0|O[Ee+(Qe=Ie-B|0)+(Ne=Oe-1|0)|0])+(0|O[Ee+Qe+(oe=Oe+1|0)|0])+(0|O[Ee+Ie+Oe|0])+(0|O[Ee+(be=Ie+B|0)+Ne|0])+(0|O[Ee+be+oe|0]))>0?1:0}function je(Ee,de){Ee|=0,de|=0;var ce=0;for(ce=0|H(B,B);(0|ce)>0;)O[de+(ce=ce-1|0)|0]=0|O[Ee+ce|0]}return{skeletonize:function(){var de,ce,Oe,Qe=0;(function(Ee,de){Ee|=0,de|=0;var ce=0;for(ce=0|H(B,B);(0|ce)>0;)O[Ee+(ce=ce-1|0)|0]=de})(Oe=(ce=(de=0|H(B,B))+de|0)+de|0,0),function(Ee){Ee|=0;var de=0,ce=0;for(de=0;(0|de)<(B-1|0);de=de+1|0)O[Ee+de|0]=0,O[Ee+ce|0]=0,O[Ee+(ce=ce+B-1|0)|0]=0,ce=ce+1|0;for(de=0;(0|de)<(0|B);de=de+1|0)O[Ee+ce|0]=0,ce=ce+1|0}(0);do{Y(0,de),Ze(de,ce),ee(0,ce,ce),Q(Oe,ce,Oe),je(de,0),Qe=0==(0|te(0))|0}while(!Qe)}}}},function(C,A,s){C.exports=s(263)},function(C,A,s){var b=s(91),v=s(48),x=s(121),O=s(123),B=s(14),H=s(56),Y=s(54);C.exports=function ee(Q,te,me,Ze,je){Q!==te&&x(te,function(Ue,qe){if(je||(je=new b),B(Ue))O(Q,te,qe,me,ee,Ze,je);else{var Ee=Ze?Ze(Y(Q,qe),Ue,qe+"",Q,te,je):void 0;void 0===Ee&&(Ee=Ue),v(Q,qe,Ee)}},H)}},function(C,A,s){var b=s(24),v=s(97),x=s(98),O=s(99),B=s(100),H=s(101);function Y(ee){var Q=this.__data__=new b(ee);this.size=Q.size}Y.prototype.clear=v,Y.prototype.delete=x,Y.prototype.get=O,Y.prototype.has=B,Y.prototype.set=H,C.exports=Y},function(C,A){C.exports=function(){this.__data__=[],this.size=0}},function(C,A,s){var b=s(25),v=Array.prototype.splice;C.exports=function(x){var O=this.__data__,B=b(O,x);return!(B<0||(B==O.length-1?O.pop():v.call(O,B,1),--this.size,0))}},function(C,A,s){var b=s(25);C.exports=function(v){var x=this.__data__,O=b(x,v);return O<0?void 0:x[O][1]}},function(C,A,s){var b=s(25);C.exports=function(v){return b(this.__data__,v)>-1}},function(C,A,s){var b=s(25);C.exports=function(v,x){var O=this.__data__,B=b(O,v);return B<0?(++this.size,O.push([v,x])):O[B][1]=x,this}},function(C,A,s){var b=s(24);C.exports=function(){this.__data__=new b,this.size=0}},function(C,A){C.exports=function(s){var b=this.__data__,v=b.delete(s);return this.size=b.size,v}},function(C,A){C.exports=function(s){return this.__data__.get(s)}},function(C,A){C.exports=function(s){return this.__data__.has(s)}},function(C,A,s){var b=s(24),v=s(44),x=s(47);C.exports=function(O,B){var H=this.__data__;if(H instanceof b){var Y=H.__data__;if(!v||Y.length<199)return Y.push([O,B]),this.size=++H.size,this;H=this.__data__=new x(Y)}return H.set(O,B),this.size=H.size,this}},function(C,A,s){var b=s(36),v=s(105),x=s(14),O=s(107),B=/^\[object .+?Constructor\]$/,te=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");C.exports=function(me){return!(!x(me)||v(me))&&(b(me)?te:B).test(O(me))}},function(C,A,s){var b=s(27),v=Object.prototype,x=v.hasOwnProperty,O=v.toString,B=b?b.toStringTag:void 0;C.exports=function(H){var Y=x.call(H,B),ee=H[B];try{H[B]=void 0;var Q=!0}catch(me){}var te=O.call(H);return Q&&(Y?H[B]=ee:delete H[B]),te}},function(C,A){var s=Object.prototype.toString;C.exports=function(b){return s.call(b)}},function(C,A,s){var b,v=s(106),x=(b=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"";C.exports=function(O){return!!x&&x in O}},function(C,A,s){var b=s(18)["__core-js_shared__"];C.exports=b},function(C,A){var s=Function.prototype.toString;C.exports=function(b){if(null!=b){try{return s.call(b)}catch(v){}try{return b+""}catch(v){}}return""}},function(C,A){C.exports=function(s,b){return null==s?void 0:s[b]}},function(C,A,s){var b=s(110),v=s(24),x=s(44);C.exports=function(){this.size=0,this.__data__={hash:new b,map:new(x||v),string:new b}}},function(C,A,s){var b=s(111),v=s(112),x=s(113),O=s(114),B=s(115);function H(Y){var ee=-1,Q=null==Y?0:Y.length;for(this.clear();++ee<Q;){var te=Y[ee];this.set(te[0],te[1])}}H.prototype.clear=b,H.prototype.delete=v,H.prototype.get=x,H.prototype.has=O,H.prototype.set=B,C.exports=H},function(C,A,s){var b=s(28);C.exports=function(){this.__data__=b?b(null):{},this.size=0}},function(C,A){C.exports=function(s){var b=this.has(s)&&delete this.__data__[s];return this.size-=b?1:0,b}},function(C,A,s){var b=s(28),v=Object.prototype.hasOwnProperty;C.exports=function(x){var O=this.__data__;if(b){var B=O[x];return"__lodash_hash_undefined__"===B?void 0:B}return v.call(O,x)?O[x]:void 0}},function(C,A,s){var b=s(28),v=Object.prototype.hasOwnProperty;C.exports=function(x){var O=this.__data__;return b?void 0!==O[x]:v.call(O,x)}},function(C,A,s){var b=s(28);C.exports=function(v,x){var O=this.__data__;return this.size+=this.has(v)?0:1,O[v]=b&&void 0===x?"__lodash_hash_undefined__":x,this}},function(C,A,s){var b=s(29);C.exports=function(v){var x=b(this,v).delete(v);return this.size-=x?1:0,x}},function(C,A){C.exports=function(s){var b=typeof s;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==s:null===s}},function(C,A,s){var b=s(29);C.exports=function(v){return b(this,v).get(v)}},function(C,A,s){var b=s(29);C.exports=function(v){return b(this,v).has(v)}},function(C,A,s){var b=s(29);C.exports=function(v,x){var O=b(this,v),B=O.size;return O.set(v,x),this.size+=O.size==B?0:1,this}},function(C,A,s){var b=s(122)();C.exports=b},function(C,A){C.exports=function(s){return function(b,v,x){for(var O=-1,B=Object(b),H=x(b),Y=H.length;Y--;){var ee=H[s?Y:++O];if(!1===v(B[ee],ee,B))break}return b}}},function(C,A,s){var b=s(48),v=s(124),x=s(125),O=s(128),B=s(129),H=s(30),Y=s(15),ee=s(133),Q=s(52),te=s(36),me=s(14),Ze=s(135),je=s(53),Ue=s(54),qe=s(139);C.exports=function(Ee,de,ce,Oe,Pe,Qe,be){var Ne=Ue(Ee,ce),oe=Ue(de,ce),Ie=be.get(oe);if(Ie)b(Ee,ce,Ie);else{var K=Qe?Qe(Ne,oe,ce+"",Ee,de,be):void 0,L=void 0===K;if(L){var j=Y(oe),X=!j&&Q(oe),re=!j&&!X&&je(oe);K=oe,j||X||re?Y(Ne)?K=Ne:ee(Ne)?K=O(Ne):X?(L=!1,K=v(oe,!0)):re?(L=!1,K=x(oe,!0)):K=[]:Ze(oe)||H(oe)?(K=Ne,H(Ne)?K=qe(Ne):me(Ne)&&!te(Ne)||(K=B(oe))):L=!1}L&&(be.set(oe,K),Pe(K,oe,Oe,Qe,be),be.delete(oe)),b(Ee,ce,K)}}},function(C,A,s){(function(b){var v=s(18),x=A&&!A.nodeType&&A,O=x&&"object"==typeof b&&b&&!b.nodeType&&b,B=O&&O.exports===x?v.Buffer:void 0,H=B?B.allocUnsafe:void 0;b.exports=function(Y,ee){if(ee)return Y.slice();var Q=Y.length,te=H?H(Q):new Y.constructor(Q);return Y.copy(te),te}}).call(this,s(38)(C))},function(C,A,s){var b=s(126);C.exports=function(v,x){var O=x?b(v.buffer):v.buffer;return new v.constructor(O,v.byteOffset,v.length)}},function(C,A,s){var b=s(127);C.exports=function(v){var x=new v.constructor(v.byteLength);return new b(x).set(new b(v)),x}},function(C,A,s){var b=s(18).Uint8Array;C.exports=b},function(C,A){C.exports=function(s,b){var v=-1,x=s.length;for(b||(b=Array(x));++v<x;)b[v]=s[v];return b}},function(C,A,s){var b=s(130),v=s(50),x=s(51);C.exports=function(O){return"function"!=typeof O.constructor||x(O)?{}:b(v(O))}},function(C,A,s){var b=s(14),v=Object.create,x=function(){function O(){}return function(B){if(!b(B))return{};if(v)return v(B);O.prototype=B;var H=new O;return O.prototype=void 0,H}}();C.exports=x},function(C,A){C.exports=function(s,b){return function(v){return s(b(v))}}},function(C,A,s){var b=s(22),v=s(19);C.exports=function(x){return v(x)&&"[object Arguments]"==b(x)}},function(C,A,s){var b=s(39),v=s(19);C.exports=function(x){return v(x)&&b(x)}},function(C,A){C.exports=function(){return!1}},function(C,A,s){var b=s(22),v=s(50),x=s(19),H=Function.prototype.toString,Y=Object.prototype.hasOwnProperty,ee=H.call(Object);C.exports=function(Q){if(!x(Q)||"[object Object]"!=b(Q))return!1;var te=v(Q);if(null===te)return!0;var me=Y.call(te,"constructor")&&te.constructor;return"function"==typeof me&&me instanceof me&&H.call(me)==ee}},function(C,A,s){var b=s(22),v=s(40),x=s(19),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,C.exports=function(B){return x(B)&&v(B.length)&&!!O[b(B)]}},function(C,A){C.exports=function(s){return function(b){return s(b)}}},function(C,A,s){(function(b){var v=s(45),x=A&&!A.nodeType&&A,O=x&&"object"==typeof b&&b&&!b.nodeType&&b,B=O&&O.exports===x&&v.process,H=function(){try{return O&&O.require&&O.require("util").types||B&&B.binding&&B.binding("util")}catch(ee){}}();b.exports=H}).call(this,s(38)(C))},function(C,A,s){var b=s(140),v=s(56);C.exports=function(x){return b(x,v(x))}},function(C,A,s){var b=s(55),v=s(37);C.exports=function(x,O,B,H){var Y=!B;B||(B={});for(var ee=-1,Q=O.length;++ee<Q;){var te=O[ee],me=H?H(B[te],x[te],te,B,x):void 0;void 0===me&&(me=x[te]),Y?v(B,te,me):b(B,te,me)}return B}},function(C,A,s){var b=s(142),v=s(30),x=s(15),O=s(52),B=s(31),H=s(53),Y=Object.prototype.hasOwnProperty;C.exports=function(ee,Q){var te=x(ee),me=!te&&v(ee),Ze=!te&&!me&&O(ee),je=!te&&!me&&!Ze&&H(ee),Ue=te||me||Ze||je,qe=Ue?b(ee.length,String):[],Ee=qe.length;for(var de in ee)!Q&&!Y.call(ee,de)||Ue&&("length"==de||Ze&&("offset"==de||"parent"==de)||je&&("buffer"==de||"byteLength"==de||"byteOffset"==de)||B(de,Ee))||qe.push(de);return qe}},function(C,A){C.exports=function(s,b){for(var v=-1,x=Array(s);++v<s;)x[v]=b(v);return x}},function(C,A,s){var b=s(14),v=s(51),x=s(144),O=Object.prototype.hasOwnProperty;C.exports=function(B){if(!b(B))return x(B);var H=v(B),Y=[];for(var ee in B)("constructor"!=ee||!H&&O.call(B,ee))&&Y.push(ee);return Y}},function(C,A){C.exports=function(s){var b=[];if(null!=s)for(var v in Object(s))b.push(v);return b}},function(C,A,s){var b=s(146),v=s(151);C.exports=function(x){return b(function(O,B){var H=-1,Y=B.length,ee=Y>1?B[Y-1]:void 0,Q=Y>2?B[2]:void 0;for(ee=x.length>3&&"function"==typeof ee?(Y--,ee):void 0,Q&&v(B[0],B[1],Q)&&(ee=Y<3?void 0:ee,Y=1),O=Object(O);++H<Y;){var te=B[H];te&&x(O,te,H,ee)}return O})}},function(C,A,s){var b=s(57),v=s(58),x=s(59);C.exports=function(O,B){return x(v(O,B,b),O+"")}},function(C,A){C.exports=function(s,b,v){switch(v.length){case 0:return s.call(b);case 1:return s.call(b,v[0]);case 2:return s.call(b,v[0],v[1]);case 3:return s.call(b,v[0],v[1],v[2])}return s.apply(b,v)}},function(C,A,s){var b=s(149),v=s(49),x=s(57);C.exports=v?function(B,H){return v(B,"toString",{configurable:!0,enumerable:!1,value:b(H),writable:!0})}:x},function(C,A){C.exports=function(s){return function(){return s}}},function(C,A){var s=Date.now;C.exports=function(b){var v=0,x=0;return function(){var O=s(),B=16-(O-x);if(x=O,B>0){if(++v>=800)return arguments[0]}else v=0;return b.apply(void 0,arguments)}}},function(C,A,s){var b=s(26),v=s(39),x=s(31),O=s(14);C.exports=function(B,H,Y){if(!O(Y))return!1;var ee=typeof H;return!!("number"==ee?v(Y)&&x(H,Y.length):"string"==ee&&H in Y)&&b(Y[H],B)}},function(C,A){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(s){window.setTimeout(s,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(s,b){var v=65535&s,x=65535&b;return v*x+((s>>>16&65535)*x+v*(b>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(s){"use strict";if(null===s)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(s),v=1;v<arguments.length;v++){var x=arguments[v];if(null!==x)for(var O in x)Object.prototype.hasOwnProperty.call(x,O)&&(b[O]=x[O])}return b})},function(C,A){C.exports=function(s){if(Array.isArray(s))return s},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s,b){var v=null==s?null:"undefined"!=typeof Symbol&&s[Symbol.iterator]||s["@@iterator"];if(null!=v){var x,O,B=[],H=!0,Y=!1;try{for(v=v.call(s);!(H=(x=v.next()).done)&&(B.push(x.value),!b||B.length!==b);H=!0);}catch(ee){Y=!0,O=ee}finally{try{H||null==v.return||v.return()}finally{if(Y)throw O}}return B}},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s){var b=new Float32Array(2);return b[0]=s[0],b[1]=s[1],b}},function(C,A){C.exports=function(s,b){var v=new Float32Array(2);return v[0]=s,v[1]=b,v}},function(C,A){C.exports=function(s,b){return s[0]=b[0],s[1]=b[1],s}},function(C,A){C.exports=function(s,b,v){return s[0]=b,s[1]=v,s}},function(C,A,s){C.exports=function(v,x){var O=v[0],B=v[1],H=x[0],Y=x[1];return Math.abs(O-H)<=b*Math.max(1,Math.abs(O),Math.abs(H))&&Math.abs(B-Y)<=b*Math.max(1,Math.abs(B),Math.abs(Y))};var b=s(62)},function(C,A){C.exports=function(s,b){return s[0]===b[0]&&s[1]===b[1]}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]+v[0],s[1]=b[1]+v[1],s}},function(C,A,s){C.exports=s(64)},function(C,A,s){C.exports=s(65)},function(C,A,s){C.exports=s(66)},function(C,A){C.exports=function(s,b){return s[0]=1/b[0],s[1]=1/b[1],s}},function(C,A){C.exports=function(s,b,v){return s[0]=Math.min(b[0],v[0]),s[1]=Math.min(b[1],v[1]),s}},function(C,A){C.exports=function(s,b,v){return s[0]=Math.max(b[0],v[0]),s[1]=Math.max(b[1],v[1]),s}},function(C,A){C.exports=function(s,b,v){var x=Math.cos(v),O=Math.sin(v),B=b[0],H=b[1];return s[0]=B*x-H*O,s[1]=B*O+H*x,s}},function(C,A){C.exports=function(s,b){return s[0]=Math.floor(b[0]),s[1]=Math.floor(b[1]),s}},function(C,A){C.exports=function(s,b){return s[0]=Math.ceil(b[0]),s[1]=Math.ceil(b[1]),s}},function(C,A){C.exports=function(s,b){return s[0]=Math.round(b[0]),s[1]=Math.round(b[1]),s}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]*v,s[1]=b[1]*v,s}},function(C,A){C.exports=function(s,b,v,x){return s[0]=b[0]+v[0]*x,s[1]=b[1]+v[1]*x,s}},function(C,A,s){C.exports=s(67)},function(C,A,s){C.exports=s(68)},function(C,A,s){C.exports=s(69)},function(C,A,s){C.exports=s(70)},function(C,A){C.exports=function(s,b){return s[0]=-b[0],s[1]=-b[1],s}},function(C,A){C.exports=function(s,b){var v=b[0],x=b[1],O=v*v+x*x;return O>0&&(O=1/Math.sqrt(O),s[0]=b[0]*O,s[1]=b[1]*O),s}},function(C,A){C.exports=function(s,b){return s[0]*b[0]+s[1]*b[1]}},function(C,A){C.exports=function(s,b,v){var x=b[0]*v[1]-b[1]*v[0];return s[0]=s[1]=0,s[2]=x,s}},function(C,A){C.exports=function(s,b,v,x){var O=b[0],B=b[1];return s[0]=O+x*(v[0]-O),s[1]=B+x*(v[1]-B),s}},function(C,A){C.exports=function(s,b){b=b||1;var v=2*Math.random()*Math.PI;return s[0]=Math.cos(v)*b,s[1]=Math.sin(v)*b,s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1];return s[0]=v[0]*x+v[2]*O,s[1]=v[1]*x+v[3]*O,s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1];return s[0]=v[0]*x+v[2]*O+v[4],s[1]=v[1]*x+v[3]*O+v[5],s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1];return s[0]=v[0]*x+v[3]*O+v[6],s[1]=v[1]*x+v[4]*O+v[7],s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1];return s[0]=v[0]*x+v[4]*O+v[12],s[1]=v[1]*x+v[5]*O+v[13],s}},function(C,A,s){C.exports=function(v,x,O,B,H,Y){var ee,Q;for(x||(x=2),O||(O=0),Q=B?Math.min(B*x+O,v.length):v.length,ee=O;ee<Q;ee+=x)b[0]=v[ee],b[1]=v[ee+1],H(b,b,Y),v[ee]=b[0],v[ee+1]=b[1];return v};var b=s(63)()},function(C,A){C.exports=function(s,b,v){var x=b[0]*b[0]+b[1]*b[1];if(x>v*v){var O=Math.sqrt(x);s[0]=b[0]/O*v,s[1]=b[1]/O*v}else s[0]=b[0],s[1]=b[1];return s}},function(C,A){C.exports=function(s){var b=new Float32Array(3);return b[0]=s[0],b[1]=s[1],b[2]=s[2],b}},function(C,A,s){C.exports=function(O,B){var H=b(O[0],O[1],O[2]),Y=b(B[0],B[1],B[2]);v(H,H),v(Y,Y);var ee=x(H,Y);return ee>1?0:Math.acos(ee)};var b=s(73),v=s(74),x=s(75)},function(C,A){C.exports=function(s,b){return s[0]=b[0],s[1]=b[1],s[2]=b[2],s}},function(C,A){C.exports=function(s,b,v,x){return s[0]=b,s[1]=v,s[2]=x,s}},function(C,A,s){C.exports=function(v,x){var O=v[0],B=v[1],H=v[2],Y=x[0],ee=x[1],Q=x[2];return Math.abs(O-Y)<=b*Math.max(1,Math.abs(O),Math.abs(Y))&&Math.abs(B-ee)<=b*Math.max(1,Math.abs(B),Math.abs(ee))&&Math.abs(H-Q)<=b*Math.max(1,Math.abs(H),Math.abs(Q))};var b=s(71)},function(C,A){C.exports=function(s,b){return s[0]===b[0]&&s[1]===b[1]&&s[2]===b[2]}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]+v[0],s[1]=b[1]+v[1],s[2]=b[2]+v[2],s}},function(C,A,s){C.exports=s(76)},function(C,A,s){C.exports=s(77)},function(C,A,s){C.exports=s(78)},function(C,A){C.exports=function(s,b,v){return s[0]=Math.min(b[0],v[0]),s[1]=Math.min(b[1],v[1]),s[2]=Math.min(b[2],v[2]),s}},function(C,A){C.exports=function(s,b,v){return s[0]=Math.max(b[0],v[0]),s[1]=Math.max(b[1],v[1]),s[2]=Math.max(b[2],v[2]),s}},function(C,A){C.exports=function(s,b){return s[0]=Math.floor(b[0]),s[1]=Math.floor(b[1]),s[2]=Math.floor(b[2]),s}},function(C,A){C.exports=function(s,b){return s[0]=Math.ceil(b[0]),s[1]=Math.ceil(b[1]),s[2]=Math.ceil(b[2]),s}},function(C,A){C.exports=function(s,b){return s[0]=Math.round(b[0]),s[1]=Math.round(b[1]),s[2]=Math.round(b[2]),s}},function(C,A){C.exports=function(s,b,v){return s[0]=b[0]*v,s[1]=b[1]*v,s[2]=b[2]*v,s}},function(C,A){C.exports=function(s,b,v,x){return s[0]=b[0]+v[0]*x,s[1]=b[1]+v[1]*x,s[2]=b[2]+v[2]*x,s}},function(C,A,s){C.exports=s(79)},function(C,A,s){C.exports=s(80)},function(C,A,s){C.exports=s(81)},function(C,A,s){C.exports=s(82)},function(C,A){C.exports=function(s,b){return s[0]=-b[0],s[1]=-b[1],s[2]=-b[2],s}},function(C,A){C.exports=function(s,b){return s[0]=1/b[0],s[1]=1/b[1],s[2]=1/b[2],s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1],B=b[2],H=v[0],Y=v[1],ee=v[2];return s[0]=O*ee-B*Y,s[1]=B*H-x*ee,s[2]=x*Y-O*H,s}},function(C,A){C.exports=function(s,b,v,x){var O=b[0],B=b[1],H=b[2];return s[0]=O+x*(v[0]-O),s[1]=B+x*(v[1]-B),s[2]=H+x*(v[2]-H),s}},function(C,A){C.exports=function(s,b){b=b||1;var v=2*Math.random()*Math.PI,x=2*Math.random()-1,O=Math.sqrt(1-x*x)*b;return s[0]=Math.cos(v)*O,s[1]=Math.sin(v)*O,s[2]=x*b,s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1],B=b[2],H=v[3]*x+v[7]*O+v[11]*B+v[15];return s[0]=(v[0]*x+v[4]*O+v[8]*B+v[12])/(H=H||1),s[1]=(v[1]*x+v[5]*O+v[9]*B+v[13])/H,s[2]=(v[2]*x+v[6]*O+v[10]*B+v[14])/H,s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1],B=b[2];return s[0]=x*v[0]+O*v[3]+B*v[6],s[1]=x*v[1]+O*v[4]+B*v[7],s[2]=x*v[2]+O*v[5]+B*v[8],s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1],B=b[2],H=v[0],Y=v[1],ee=v[2],Q=v[3],te=Q*x+Y*B-ee*O,me=Q*O+ee*x-H*B,Ze=Q*B+H*O-Y*x,je=-H*x-Y*O-ee*B;return s[0]=te*Q+je*-H+me*-ee-Ze*-Y,s[1]=me*Q+je*-Y+Ze*-H-te*-ee,s[2]=Ze*Q+je*-ee+te*-Y-me*-H,s}},function(C,A){C.exports=function(s,b,v,x){var O=v[1],B=v[2],H=b[1]-O,Y=b[2]-B,ee=Math.sin(x),Q=Math.cos(x);return s[0]=b[0],s[1]=O+H*Q-Y*ee,s[2]=B+H*ee+Y*Q,s}},function(C,A){C.exports=function(s,b,v,x){var O=v[0],B=v[2],H=b[0]-O,Y=b[2]-B,ee=Math.sin(x),Q=Math.cos(x);return s[0]=O+Y*ee+H*Q,s[1]=b[1],s[2]=B+Y*Q-H*ee,s}},function(C,A){C.exports=function(s,b,v,x){var O=v[0],B=v[1],H=b[0]-O,Y=b[1]-B,ee=Math.sin(x),Q=Math.cos(x);return s[0]=O+H*Q-Y*ee,s[1]=B+H*ee+Y*Q,s[2]=b[2],s}},function(C,A,s){C.exports=function(v,x,O,B,H,Y){var ee,Q;for(x||(x=3),O||(O=0),Q=B?Math.min(B*x+O,v.length):v.length,ee=O;ee<Q;ee+=x)b[0]=v[ee],b[1]=v[ee+1],b[2]=v[ee+2],H(b,b,Y),v[ee]=b[0],v[ee+1]=b[1],v[ee+2]=b[2];return v};var b=s(72)()},function(C,A,s){var b=function(v){"use strict";var x=Object.prototype,O=x.hasOwnProperty,B="function"==typeof Symbol?Symbol:{},H=B.iterator||"@@iterator",Y=B.asyncIterator||"@@asyncIterator",ee=B.toStringTag||"@@toStringTag";function Q(L,j,X,re){var pt,rt,Ge,Ye,Ae=Object.create((j&&j.prototype instanceof Ze?j:Ze).prototype),Ke=new oe(re||[]);return Ae._invoke=(pt=L,rt=X,Ge=Ke,Ye="suspendedStart",function(Dt,Bt){if("executing"===Ye)throw new Error("Generator is already running");if("completed"===Ye){if("throw"===Dt)throw Bt;return{value:void 0,done:!0}}for(Ge.method=Dt,Ge.arg=Bt;;){var hn=Ge.delegate;if(hn){var wt=Qe(hn,Ge);if(wt){if(wt===me)continue;return wt}}if("next"===Ge.method)Ge.sent=Ge._sent=Ge.arg;else if("throw"===Ge.method){if("suspendedStart"===Ye)throw Ye="completed",Ge.arg;Ge.dispatchException(Ge.arg)}else"return"===Ge.method&&Ge.abrupt("return",Ge.arg);Ye="executing";var $t=te(pt,rt,Ge);if("normal"===$t.type){if(Ye=Ge.done?"completed":"suspendedYield",$t.arg===me)continue;return{value:$t.arg,done:Ge.done}}"throw"===$t.type&&(Ye="completed",Ge.method="throw",Ge.arg=$t.arg)}}),Ae}function te(L,j,X){try{return{type:"normal",arg:L.call(j,X)}}catch(re){return{type:"throw",arg:re}}}v.wrap=Q;var me={};function Ze(){}function je(){}function Ue(){}var qe={};qe[H]=function(){return this};var Ee=Object.getPrototypeOf,de=Ee&&Ee(Ee(Ie([])));de&&de!==x&&O.call(de,H)&&(qe=de);var ce=Ue.prototype=Ze.prototype=Object.create(qe);function Oe(L){["next","throw","return"].forEach(function(j){L[j]=function(X){return this._invoke(j,X)}})}function Pe(L,j){var X;this._invoke=function(re,J){function Ae(){return new j(function(Ke,pt){!function rt(Ge,Ye,Dt,Bt){var hn=te(L[Ge],L,Ye);if("throw"!==hn.type){var wt=hn.arg,$t=wt.value;return $t&&"object"==typeof $t&&O.call($t,"__await")?j.resolve($t.__await).then(function(sn){rt("next",sn,Dt,Bt)},function(sn){rt("throw",sn,Dt,Bt)}):j.resolve($t).then(function(sn){wt.value=sn,Dt(wt)},function(sn){return rt("throw",sn,Dt,Bt)})}Bt(hn.arg)}(re,J,Ke,pt)})}return X=X?X.then(Ae,Ae):Ae()}}function Qe(L,j){var X=L.iterator[j.method];if(void 0===X){if(j.delegate=null,"throw"===j.method){if(L.iterator.return&&(j.method="return",j.arg=void 0,Qe(L,j),"throw"===j.method))return me;j.method="throw",j.arg=new TypeError("The iterator does not provide a 'throw' method")}return me}var re=te(X,L.iterator,j.arg);if("throw"===re.type)return j.method="throw",j.arg=re.arg,j.delegate=null,me;var J=re.arg;return J?J.done?(j[L.resultName]=J.value,j.next=L.nextLoc,"return"!==j.method&&(j.method="next",j.arg=void 0),j.delegate=null,me):J:(j.method="throw",j.arg=new TypeError("iterator result is not an object"),j.delegate=null,me)}function be(L){var j={tryLoc:L[0]};1 in L&&(j.catchLoc=L[1]),2 in L&&(j.finallyLoc=L[2],j.afterLoc=L[3]),this.tryEntries.push(j)}function Ne(L){var j=L.completion||{};j.type="normal",delete j.arg,L.completion=j}function oe(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(be,this),this.reset(!0)}function Ie(L){if(L){var j=L[H];if(j)return j.call(L);if("function"==typeof L.next)return L;if(!isNaN(L.length)){var X=-1,re=function J(){for(;++X<L.length;)if(O.call(L,X))return J.value=L[X],J.done=!1,J;return J.value=void 0,J.done=!0,J};return re.next=re}}return{next:K}}function K(){return{value:void 0,done:!0}}return je.prototype=ce.constructor=Ue,Ue.constructor=je,Ue[ee]=je.displayName="GeneratorFunction",v.isGeneratorFunction=function(L){var j="function"==typeof L&&L.constructor;return!!j&&(j===je||"GeneratorFunction"===(j.displayName||j.name))},v.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,Ue):(L.__proto__=Ue,ee in L||(L[ee]="GeneratorFunction")),L.prototype=Object.create(ce),L},v.awrap=function(L){return{__await:L}},Oe(Pe.prototype),Pe.prototype[Y]=function(){return this},v.AsyncIterator=Pe,v.async=function(L,j,X,re,J){void 0===J&&(J=Promise);var Ae=new Pe(Q(L,j,X,re),J);return v.isGeneratorFunction(j)?Ae:Ae.next().then(function(Ke){return Ke.done?Ke.value:Ae.next()})},Oe(ce),ce[ee]="Generator",ce[H]=function(){return this},ce.toString=function(){return"[object Generator]"},v.keys=function(L){var j=[];for(var X in L)j.push(X);return j.reverse(),function re(){for(;j.length;){var J=j.pop();if(J in L)return re.value=J,re.done=!1,re}return re.done=!0,re}},v.values=Ie,oe.prototype={constructor:oe,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ne),!L)for(var j in this)"t"===j.charAt(0)&&O.call(this,j)&&!isNaN(+j.slice(1))&&(this[j]=void 0)},stop:function(){this.done=!0;var L=this.tryEntries[0].completion;if("throw"===L.type)throw L.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var j=this;function X(rt,Ge){return Ae.type="throw",Ae.arg=L,j.next=rt,Ge&&(j.method="next",j.arg=void 0),!!Ge}for(var re=this.tryEntries.length-1;re>=0;--re){var J=this.tryEntries[re],Ae=J.completion;if("root"===J.tryLoc)return X("end");if(J.tryLoc<=this.prev){var Ke=O.call(J,"catchLoc"),pt=O.call(J,"finallyLoc");if(Ke&&pt){if(this.prev<J.catchLoc)return X(J.catchLoc,!0);if(this.prev<J.finallyLoc)return X(J.finallyLoc)}else if(Ke){if(this.prev<J.catchLoc)return X(J.catchLoc,!0)}else{if(!pt)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return X(J.finallyLoc)}}}},abrupt:function(L,j){for(var X=this.tryEntries.length-1;X>=0;--X){var re=this.tryEntries[X];if(re.tryLoc<=this.prev&&O.call(re,"finallyLoc")&&this.prev<re.finallyLoc){var J=re;break}}J&&("break"===L||"continue"===L)&&J.tryLoc<=j&&j<=J.finallyLoc&&(J=null);var Ae=J?J.completion:{};return Ae.type=L,Ae.arg=j,J?(this.method="next",this.next=J.finallyLoc,me):this.complete(Ae)},complete:function(L,j){if("throw"===L.type)throw L.arg;return"break"===L.type||"continue"===L.type?this.next=L.arg:"return"===L.type?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):"normal"===L.type&&j&&(this.next=j),me},finish:function(L){for(var j=this.tryEntries.length-1;j>=0;--j){var X=this.tryEntries[j];if(X.finallyLoc===L)return this.complete(X.completion,X.afterLoc),Ne(X),me}},catch:function(L){for(var j=this.tryEntries.length-1;j>=0;--j){var X=this.tryEntries[j];if(X.tryLoc===L){var re=X.completion;if("throw"===re.type){var J=re.arg;Ne(X)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(L,j,X){return this.delegate={iterator:Ie(L),resultName:j,nextLoc:X},"next"===this.method&&(this.arg=void 0),me}},v}(C.exports);try{regeneratorRuntime=b}catch(v){Function("r","regeneratorRuntime = r")(b)}},function(C,A,s){var b=s(2);C.exports=function(v,x){for(;!Object.prototype.hasOwnProperty.call(v,x)&&null!==(v=b(v)););return v},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){var b=s(61);C.exports=function(v){if(Array.isArray(v))return b(v)},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s){if("undefined"!=typeof Symbol&&null!=s[Symbol.iterator]||null!=s["@@iterator"])return Array.from(s)},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){var b=s(230),v=s(240);C.exports=function(x,O){return b(x,O,function(B,H){return v(x,H)})}},function(C,A,s){var b=s(231),v=s(239),x=s(32);C.exports=function(O,B,H){for(var Y=-1,ee=B.length,Q={};++Y<ee;){var te=B[Y],me=b(O,te);H(me,te)&&v(Q,x(te,O),me)}return Q}},function(C,A,s){var b=s(32),v=s(43);C.exports=function(x,O){for(var B=0,H=(O=b(O,x)).length;null!=x&&B<H;)x=x[v(O[B++])];return B&&B==H?x:void 0}},function(C,A,s){var b=s(15),v=s(42),x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;C.exports=function(B,H){if(b(B))return!1;var Y=typeof B;return!("number"!=Y&&"symbol"!=Y&&"boolean"!=Y&&null!=B&&!v(B))||O.test(B)||!x.test(B)||null!=H&&B in Object(H)}},function(C,A,s){var b=s(234),v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,O=b(function(B){var H=[];return 46===B.charCodeAt(0)&&H.push(""),B.replace(v,function(Y,ee,Q,te){H.push(Q?te.replace(x,"$1"):ee||Y)}),H});C.exports=O},function(C,A,s){var b=s(235);C.exports=function(v){var x=b(v,function(B){return 500===O.size&&O.clear(),B}),O=x.cache;return x}},function(C,A,s){var b=s(47);function v(x,O){if("function"!=typeof x||null!=O&&"function"!=typeof O)throw new TypeError("Expected a function");var B=function(){var H=arguments,Y=O?O.apply(this,H):H[0],ee=B.cache;if(ee.has(Y))return ee.get(Y);var Q=x.apply(this,H);return B.cache=ee.set(Y,Q)||ee,Q};return B.cache=new(v.Cache||b),B}v.Cache=b,C.exports=v},function(C,A,s){var b=s(237);C.exports=function(v){return null==v?"":b(v)}},function(C,A,s){var b=s(27),v=s(238),x=s(15),O=s(42),B=b?b.prototype:void 0,H=B?B.toString:void 0;C.exports=function Y(ee){if("string"==typeof ee)return ee;if(x(ee))return v(ee,Y)+"";if(O(ee))return H?H.call(ee):"";var Q=ee+"";return"0"==Q&&1/ee==-1/0?"-0":Q}},function(C,A){C.exports=function(s,b){for(var v=-1,x=null==s?0:s.length,O=Array(x);++v<x;)O[v]=b(s[v],v,s);return O}},function(C,A,s){var b=s(55),v=s(32),x=s(31),O=s(14),B=s(43);C.exports=function(H,Y,ee,Q){if(!O(H))return H;for(var te=-1,me=(Y=v(Y,H)).length,Ze=me-1,je=H;null!=je&&++te<me;){var Ue=B(Y[te]),qe=ee;if("__proto__"===Ue||"constructor"===Ue||"prototype"===Ue)return H;if(te!=Ze){var Ee=je[Ue];void 0===(qe=Q?Q(Ee,Ue,je):void 0)&&(qe=O(Ee)?Ee:x(Y[te+1])?[]:{})}b(je,Ue,qe),je=je[Ue]}return H}},function(C,A,s){var b=s(241),v=s(242);C.exports=function(x,O){return null!=x&&v(x,O,b)}},function(C,A){C.exports=function(s,b){return null!=s&&b in Object(s)}},function(C,A,s){var b=s(32),v=s(30),x=s(15),O=s(31),B=s(40),H=s(43);C.exports=function(Y,ee,Q){for(var te=-1,me=(ee=b(ee,Y)).length,Ze=!1;++te<me;){var je=H(ee[te]);if(!(Ze=null!=Y&&Q(Y,je)))break;Y=Y[je]}return Ze||++te!=me?Ze:!!(me=null==Y?0:Y.length)&&B(me)&&O(je,me)&&(x(Y)||v(Y))}},function(C,A,s){var b=s(244),v=s(58),x=s(59);C.exports=function(O){return x(v(O,void 0,b),O+"")}},function(C,A,s){var b=s(245);C.exports=function(v){return null!=v&&v.length?b(v,1):[]}},function(C,A,s){var b=s(246),v=s(247);C.exports=function x(O,B,H,Y,ee){var Q=-1,te=O.length;for(H||(H=v),ee||(ee=[]);++Q<te;){var me=O[Q];B>0&&H(me)?B>1?x(me,B-1,H,Y,ee):b(ee,me):Y||(ee[ee.length]=me)}return ee}},function(C,A){C.exports=function(s,b){for(var v=-1,x=b.length,O=s.length;++v<x;)s[O+v]=b[v];return s}},function(C,A,s){var b=s(27),v=s(30),x=s(15),O=b?b.isConcatSpreadable:void 0;C.exports=function(B){return x(B)||v(B)||!!(O&&B&&B[O])}},function(C,A){C.exports=function(s){return-1!==Function.toString.call(s).indexOf("[native code]")},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A,s){var b=s(41),v=s(250);function x(O,B,H){return v()?(C.exports=x=Reflect.construct,C.exports.__esModule=!0,C.exports.default=C.exports):(C.exports=x=function(Y,ee,Q){var te=[null];te.push.apply(te,ee);var me=new(Function.bind.apply(Y,te));return Q&&b(me,Q.prototype),me},C.exports.__esModule=!0,C.exports.default=C.exports),x.apply(null,arguments)}C.exports=x,C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}},C.exports.__esModule=!0,C.exports.default=C.exports},function(C,A){C.exports=function(s){return s[0]*s[3]-s[2]*s[1]}},function(C,A){C.exports=function(s,b){if(s===b){var v=b[1];s[1]=b[2],s[2]=v}else s[0]=b[0],s[1]=b[2],s[2]=b[1],s[3]=b[3];return s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1],B=b[2],H=b[3],Y=v[0],ee=v[1],Q=v[2],te=v[3];return s[0]=x*Y+B*ee,s[1]=O*Y+H*ee,s[2]=x*Q+B*te,s[3]=O*Q+H*te,s}},function(C,A){C.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s}},function(C,A){C.exports=function(s,b){var v=b[0];return s[0]=b[3],s[1]=-b[1],s[2]=-b[2],s[3]=v,s}},function(C,A){C.exports=function(s,b,v){var x=b[0],O=b[1],B=b[2],H=b[3],Y=Math.sin(v),ee=Math.cos(v);return s[0]=x*ee+B*Y,s[1]=O*ee+H*Y,s[2]=x*-Y+B*ee,s[3]=O*-Y+H*ee,s}},function(C,A){C.exports=function(s,b){var v=b[0],x=b[1],O=b[2],B=b[3],H=v*B-O*x;return H?(s[0]=B*(H=1/H),s[1]=-x*H,s[2]=-O*H,s[3]=v*H,s):null}},function(C,A){C.exports=function(){var s=new Float32Array(4);return s[0]=1,s[1]=0,s[2]=0,s[3]=1,s}},function(C,A){C.exports=function(s,b,v){var O=b[1],B=b[2],H=b[3],Y=v[0],ee=v[1];return s[0]=b[0]*Y,s[1]=O*Y,s[2]=B*ee,s[3]=H*ee,s}},function(C,A){C.exports=function(s,b){return s[0]=b[0],s[1]=b[1],s[2]=b[2],s[3]=b[3],s}},function(C,A){C.exports=function(s){return Math.sqrt(Math.pow(s[0],2)+Math.pow(s[1],2)+Math.pow(s[2],2)+Math.pow(s[3],2))}},function(C,A){C.exports=function(s,b,v,x){return s[2]=x[2]/x[0],v[0]=x[0],v[1]=x[1],v[3]=x[3]-s[2]*v[1],[s,b,v]}},function(C,A,s){"use strict";s.r(A),s.d(A,"BarcodeDecoder",function(){return zt}),s.d(A,"Readers",function(){return b}),s.d(A,"CameraAccess",function(){return fi}),s.d(A,"ImageDebug",function(){return Ze.a}),s.d(A,"ImageWrapper",function(){return Y.a}),s.d(A,"ResultCollector",function(){return kn});var b={};s.r(b),s.d(b,"BarcodeReader",function(){return j}),s.d(b,"TwoOfFiveReader",function(){return pt}),s.d(b,"NewCodabarReader",function(){return Bt}),s.d(b,"Code128Reader",function(){return wt}),s.d(b,"Code32Reader",function(){return hi}),s.d(b,"Code39Reader",function(){return Yr}),s.d(b,"Code39VINReader",function(){return Zn}),s.d(b,"Code93Reader",function(){return An}),s.d(b,"EAN2Reader",function(){return De}),s.d(b,"EAN5Reader",function(){return et}),s.d(b,"EAN8Reader",function(){return Ve}),s.d(b,"EANReader",function(){return jn}),s.d(b,"I2of5Reader",function(){return mt}),s.d(b,"UPCEReader",function(){return Pn}),s.d(b,"UPCReader",function(){return _r});var v,ne,x=s(20),O=s.n(x),B=s(17),H=s.n(B),Y=(s(152),s(11)),ee=s(12),Q=s.n(ee),te=s(8),me=s.n(te),Ze=s(16),je=s(3),Ue=s.n(je),qe=s(4),Ee=s.n(qe),de=s(1),ce=s.n(de),Oe=s(6),Pe=s.n(Oe),Qe=s(5),be=s.n(Qe),Ne=s(2),oe=s.n(Ne),Ie=s(0),K=s.n(Ie),L=s(9);(ne=v||(v={}))[ne.Forward=1]="Forward",ne[ne.Reverse=-1]="Reverse";var j=function(){function ne(fe,q){Ue()(this,ne),K()(this,"_row",[]),K()(this,"config",{}),K()(this,"supplements",[]),K()(this,"SINGLE_CODE_ERROR",0),K()(this,"FORMAT","unknown"),K()(this,"CONFIG_KEYS",{}),this._row=[],this.config=fe||{},q&&(this.supplements=q)}return Ee()(ne,[{key:"_nextUnset",value:function(fe){for(var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;D<fe.length;D++)if(!fe[D])return D;return fe.length}},{key:"_matchPattern",value:function(fe,q){for(var D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,N=0,F=0,U=0,ae=0,pe=0,ye=0,Fe=0;Fe<fe.length;Fe++)U+=fe[Fe],ae+=q[Fe];if(U<ae)return Number.MAX_VALUE;D*=pe=U/ae;for(var z=0;z<fe.length;z++){if(ye=q[z]*pe,(F=Math.abs(fe[z]-ye)/ye)>D)return Number.MAX_VALUE;N+=F}return N/ae}},{key:"_nextSet",value:function(fe){for(var D=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;D<fe.length;D++)if(fe[D])return D;return fe.length}},{key:"_correctBars",value:function(fe,q,D){for(var N=D.length,F=0;N--;)(F=fe[D[N]]*(1-(1-q)/2))>1&&(fe[D[N]]=F)}},{key:"decodePattern",value:function(fe){this._row=fe;var q=this.decode();return null===q?(this._row.reverse(),(q=this.decode())&&(q.direction=v.Reverse,q.start=this._row.length-q.start,q.end=this._row.length-q.end)):q.direction=v.Forward,q&&(q.format=this.FORMAT),q}},{key:"_matchRange",value:function(fe,q,D){var N;for(N=fe=fe<0?0:fe;N<q;N++)if(this._row[N]!==D)return!1;return!0}},{key:"_fillCounters",value:function(){var fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,D=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],N=[],F=0;N[F]=0;for(var U=fe;U<q;U++)this._row[U]^(D?1:0)?N[F]++:(N[++F]=1,D=!D);return N}},{key:"_toCounters",value:function(fe,q){var D=q.length,N=this._row.length,F=!this._row[fe],U=0;L.a.init(q,0);for(var ae=fe;ae<N;ae++)if(this._row[ae]^(F?1:0))q[U]++;else{if(++U===D)break;q[U]=1,F=!F}return q}},{key:"decodeImage",value:function(fe){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),ne}();var re=[3,1,3,1,1,1],J=[3,1,1,1,3],Ae=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Ke=re.reduce(function(ne,fe){return ne+fe},0),pt=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"barSpaceRatio",[1,1]),K()(ce()(D),"FORMAT","2of5"),K()(ce()(D),"SINGLE_CODE_ERROR",.78),K()(ce()(D),"AVG_CODE_ERROR",.3),D}return Ee()(q,[{key:"_findPattern",value:function(D,N){var F=arguments.length>2&&void 0!==arguments[2]&&arguments[2],U=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ae=[],pe=0,ue={error:Number.MAX_VALUE,code:-1,start:0,end:0},ye=0,Fe=0,z=this.AVG_CODE_ERROR;N||(N=this._nextSet(this._row));for(var ge=0;ge<D.length;ge++)ae[ge]=0;for(var we=N;we<this._row.length;we++)if(this._row[we]^(F?1:0))ae[pe]++;else{if(pe===ae.length-1){ye=0;for(var $e=0;$e<ae.length;$e++)ye+=ae[$e];if((Fe=this._matchPattern(ae,D))<z)return ue.error=Fe,ue.start=we-ye,ue.end=we,ue;if(!U)return null;for(var dt=0;dt<ae.length-2;dt++)ae[dt]=ae[dt+2];ae[ae.length-2]=0,ae[ae.length-1]=0,pe--}else pe++;ae[pe]=1,F=!F}return null}},{key:"_findStart",value:function(){for(var D=null,N=this._nextSet(this._row),F=1,U=0;!D;){if(!(D=this._findPattern(re,N,!1,!0)))return null;if(F=Math.floor((D.end-D.start)/Ke),(U=D.start-5*F)>=0&&this._matchRange(U,D.start,0))return D;N=D.end,D=null}return D}},{key:"_verifyTrailingWhitespace",value:function(D){var N=D.end+(D.end-D.start)/2;return N<this._row.length&&this._matchRange(D.end,N,0)?D:null}},{key:"_findEnd",value:function(){this._row.reverse();var D=this._nextSet(this._row),N=this._findPattern(J,D,!1,!0);if(this._row.reverse(),null===N)return null;var F=N.start;return N.start=this._row.length-N.end,N.end=this._row.length-F,null!==N?this._verifyTrailingWhitespace(N):null}},{key:"_verifyCounterLength",value:function(D){return D.length%10==0}},{key:"_decodeCode",value:function(D){for(var N=this.AVG_CODE_ERROR,F={error:Number.MAX_VALUE,code:-1,start:0,end:0},U=0;U<Ae.length;U++){var ae=this._matchPattern(D,Ae[U]);ae<F.error&&(F.code=U,F.error=ae)}return F.error<N?F:null}},{key:"_decodePayload",value:function(D,N,F){for(var U=0,ae=D.length,pe=[0,0,0,0,0],ue=null;U<ae;){for(var ye=0;ye<5;ye++)pe[ye]=D[U]*this.barSpaceRatio[0],U+=2;if(!(ue=this._decodeCode(pe)))return null;N.push("".concat(ue.code)),F.push(ue)}return ue}},{key:"decode",value:function(D,N){var F=this._findStart();if(!F)return null;var U=this._findEnd();if(!U)return null;var ae=this._fillCounters(F.end,U.start,!1);if(!this._verifyCounterLength(ae))return null;var pe=[];pe.push(F);var ue=[];return this._decodePayload(ae,ue,pe)?ue.length<5?null:(pe.push(U),{code:ue.join(""),start:F.start,end:U.end,startInfo:F,decodedCodes:pe,format:this.FORMAT}):null}}]),q}(j);var Ge=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Ye=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Dt=[26,41,11,14],Bt=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"_counters",[]),K()(ce()(D),"FORMAT","codabar"),D}return Ee()(q,[{key:"_computeAlternatingThreshold",value:function(D,N){for(var F=Number.MAX_VALUE,U=0,ae=0,pe=D;pe<N;pe+=2)(ae=this._counters[pe])>U&&(U=ae),ae<F&&(F=ae);return(F+U)/2|0}},{key:"_toPattern",value:function(D){var N=D+7;if(N>this._counters.length)return-1;for(var F=this._computeAlternatingThreshold(D,N),U=this._computeAlternatingThreshold(D+1,N),ae=64,ue=0,ye=0;ye<7;ye++)this._counters[D+ye]>(0==(1&ye)?F:U)&&(ue|=ae),ae>>=1;return ue}},{key:"_isStartEnd",value:function(D){for(var N=0;N<Dt.length;N++)if(Dt[N]===D)return!0;return!1}},{key:"_sumCounters",value:function(D,N){for(var F=0,U=D;U<N;U++)F+=this._counters[U];return F}},{key:"_findStart",value:function(){for(var D=this._nextUnset(this._row),N=1;N<this._counters.length;N++){var F=this._toPattern(N);if(-1!==F&&this._isStartEnd(F))return{start:D+=this._sumCounters(0,N),end:D+this._sumCounters(N,N+8),startCounter:N,endCounter:N+8}}return null}},{key:"_patternToChar",value:function(D){for(var N=0;N<Ye.length;N++)if(Ye[N]===D)return String.fromCharCode(Ge[N]);return null}},{key:"_calculatePatternLength",value:function(D){for(var N=0,F=D;F<D+7;F++)N+=this._counters[F];return N}},{key:"_verifyWhitespace",value:function(D,N){return(D-1<=0||this._counters[D-1]>=this._calculatePatternLength(D)/2)&&(N+8>=this._counters.length||this._counters[N+7]>=this._calculatePatternLength(N)/2)}},{key:"_charToPattern",value:function(D){for(var N=D.charCodeAt(0),F=0;F<Ge.length;F++)if(Ge[F]===N)return Ye[F];return 0}},{key:"_thresholdResultPattern",value:function(D,N){for(var F,U={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},ae=N,pe=0;pe<D.length;pe++){F=this._charToPattern(D[pe]);for(var ue=6;ue>=0;ue--){var ye=2==(1&ue)?U.bar:U.space,Fe=1==(1&F)?ye.wide:ye.narrow;Fe.size+=this._counters[ae+ue],Fe.counts++,F>>=1}ae+=8}return["space","bar"].forEach(function(z){var ge=U[z];ge.wide.min=Math.floor((ge.narrow.size/ge.narrow.counts+ge.wide.size/ge.wide.counts)/2),ge.narrow.max=Math.ceil(ge.wide.min),ge.wide.max=Math.ceil((2*ge.wide.size+1.5)/ge.wide.counts)}),U}},{key:"_validateResult",value:function(D,N){for(var F,U=this._thresholdResultPattern(D,N),ae=N,pe=0;pe<D.length;pe++){F=this._charToPattern(D[pe]);for(var ue=6;ue>=0;ue--){var ye=0==(1&ue)?U.bar:U.space,Fe=1==(1&F)?ye.wide:ye.narrow,z=this._counters[ae+ue];if(z<Fe.min||z>Fe.max)return!1;F>>=1}ae+=8}return!0}},{key:"decode",value:function(D,N){if(this._counters=this._fillCounters(),!(N=this._findStart()))return null;var F,U=N.startCounter,ae=[];do{if((F=this._toPattern(U))<0)return null;var pe=this._patternToChar(F);if(null===pe)return null;if(ae.push(pe),U+=8,ae.length>1&&this._isStartEnd(F))break}while(U<this._counters.length);if(ae.length-2<4||!this._isStartEnd(F)||!this._verifyWhitespace(N.startCounter,U-8)||!this._validateResult(ae,N.startCounter))return null;var ue=N.start+this._sumCounters(N.startCounter,(U=U>this._counters.length?this._counters.length:U)-8);return{code:ae.join(""),start:N.start,end:ue,startInfo:N,decodedCodes:ae,format:this.FORMAT}}}]),q}(j);var wt=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"CODE_SHIFT",98),K()(ce()(D),"CODE_C",99),K()(ce()(D),"CODE_B",100),K()(ce()(D),"CODE_A",101),K()(ce()(D),"START_CODE_A",103),K()(ce()(D),"START_CODE_B",104),K()(ce()(D),"START_CODE_C",105),K()(ce()(D),"STOP_CODE",106),K()(ce()(D),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),K()(ce()(D),"SINGLE_CODE_ERROR",.64),K()(ce()(D),"AVG_CODE_ERROR",.3),K()(ce()(D),"FORMAT","code_128"),K()(ce()(D),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),D}return Ee()(q,[{key:"_decodeCode",value:function(D,N){for(var F={error:Number.MAX_VALUE,code:-1,start:D,end:D,correction:{bar:1,space:1}},U=[0,0,0,0,0,0],pe=!this._row[D],ue=0,ye=D;ye<this._row.length;ye++)if(this._row[ye]^(pe?1:0))U[ue]++;else{if(ue===U.length-1){N&&this._correct(U,N);for(var Fe=0;Fe<this.CODE_PATTERN.length;Fe++){var z=this._matchPattern(U,this.CODE_PATTERN[Fe]);z<F.error&&(F.code=Fe,F.error=z)}return F.end=ye,-1===F.code||F.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[F.code]&&(F.correction.bar=this.calculateCorrection(this.CODE_PATTERN[F.code],U,this.MODULE_INDICES.bar),F.correction.space=this.calculateCorrection(this.CODE_PATTERN[F.code],U,this.MODULE_INDICES.space)),F)}U[++ue]=1,pe=!pe}return null}},{key:"_correct",value:function(D,N){this._correctBars(D,N.bar,this.MODULE_INDICES.bar),this._correctBars(D,N.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var D=[0,0,0,0,0,0],N=this._nextSet(this._row),F={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},U=!1,ae=0,pe=N;pe<this._row.length;pe++)if(this._row[pe]^(U?1:0))D[ae]++;else{if(ae===D.length-1){for(var ue=D.reduce(function(ge,we){return ge+we},0),ye=this.START_CODE_A;ye<=this.START_CODE_C;ye++){var Fe=this._matchPattern(D,this.CODE_PATTERN[ye]);Fe<F.error&&(F.code=ye,F.error=Fe)}if(F.error<this.AVG_CODE_ERROR)return F.start=pe-ue,F.end=pe,F.correction.bar=this.calculateCorrection(this.CODE_PATTERN[F.code],D,this.MODULE_INDICES.bar),F.correction.space=this.calculateCorrection(this.CODE_PATTERN[F.code],D,this.MODULE_INDICES.space),F;for(var z=0;z<4;z++)D[z]=D[z+2];D[4]=0,D[5]=0,ae--}else ae++;D[ae]=1,U=!U}return null}},{key:"decode",value:function(D,N){var F=this,U=this._findStart();if(null===U)return null;var ae={code:U.code,start:U.start,end:U.end,correction:{bar:U.correction.bar,space:U.correction.space}},pe=[];pe.push(ae);for(var ue=ae.code,ye=function(xt){switch(xt){case F.START_CODE_A:return F.CODE_A;case F.START_CODE_B:return F.CODE_B;case F.START_CODE_C:return F.CODE_C;default:return null}}(ae.code),Fe=!1,z=!1,ge=z,we=!0,$e=0,dt=[],At=[];!Fe;){if(ge=z,z=!1,null!==(ae=this._decodeCode(ae.end,ae.correction)))switch(ae.code!==this.STOP_CODE&&(we=!0),ae.code!==this.STOP_CODE&&(dt.push(ae.code),ue+=++$e*ae.code),pe.push(ae),ye){case this.CODE_A:if(ae.code<64)At.push(String.fromCharCode(32+ae.code));else if(ae.code<96)At.push(String.fromCharCode(ae.code-64));else switch(ae.code!==this.STOP_CODE&&(we=!1),ae.code){case this.CODE_SHIFT:z=!0,ye=this.CODE_B;break;case this.CODE_B:ye=this.CODE_B;break;case this.CODE_C:ye=this.CODE_C;break;case this.STOP_CODE:Fe=!0}break;case this.CODE_B:if(ae.code<96)At.push(String.fromCharCode(32+ae.code));else switch(ae.code!==this.STOP_CODE&&(we=!1),ae.code){case this.CODE_SHIFT:z=!0,ye=this.CODE_A;break;case this.CODE_A:ye=this.CODE_A;break;case this.CODE_C:ye=this.CODE_C;break;case this.STOP_CODE:Fe=!0}break;case this.CODE_C:if(ae.code<100)At.push(ae.code<10?"0"+ae.code:ae.code);else switch(ae.code!==this.STOP_CODE&&(we=!1),ae.code){case this.CODE_A:ye=this.CODE_A;break;case this.CODE_B:ye=this.CODE_B;break;case this.STOP_CODE:Fe=!0}}else Fe=!0;ge&&(ye=ye===this.CODE_A?this.CODE_B:this.CODE_A)}return null===ae?null:(ae.end=this._nextUnset(this._row,ae.end),this._verifyTrailingWhitespace(ae)?(ue-=$e*dt[dt.length-1])%103!==dt[dt.length-1]?null:At.length?(we&&At.splice(At.length-1,1),{code:At.join(""),start:U.start,end:ae.end,codeset:ye,startInfo:U,decodedCodes:pe,endInfo:ae,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(D){var N;return(N=D.end+(D.end-D.start)/2)<this._row.length&&this._matchRange(D.end,N,0)?D:null}},{key:"calculateCorrection",value:function(D,N,F){for(var U=F.length,ae=0,pe=0;U--;)pe+=D[F[U]],ae+=N[F[U]];return pe/ae}}]),q}(j),$t=s(13),sn=s.n($t),Rr=s(33),Or=s.n(Rr);var Ni=new Uint16Array(Or()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(ne){return ne.charCodeAt(0)})),Ei=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Yr=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","code_39"),D}return Ee()(q,[{key:"_findStart",value:function(){for(var D=this._nextSet(this._row),N=D,F=new Uint16Array([0,0,0,0,0,0,0,0,0]),U=0,ae=!1,pe=D;pe<this._row.length;pe++)if(this._row[pe]^(ae?1:0))F[U]++;else{if(U===F.length-1){if(148===this._toPattern(F)){var ue=Math.floor(Math.max(0,N-(pe-N)/4));if(this._matchRange(ue,N,0))return{start:N,end:pe}}N+=F[0]+F[1];for(var ye=0;ye<7;ye++)F[ye]=F[ye+2];F[7]=0,F[8]=0,U--}else U++;F[U]=1,ae=!ae}return null}},{key:"_toPattern",value:function(D){for(var N=D.length,F=0,U=N,ae=0;U>3;){F=this._findNextWidth(D,F),U=0;for(var pe=0,ue=0;ue<N;ue++)D[ue]>F&&(pe|=1<<N-1-ue,U++,ae+=D[ue]);if(3===U){for(var ye=0;ye<N&&U>0;ye++)if(D[ye]>F&&(U--,2*D[ye]>=ae))return-1;return pe}}return-1}},{key:"_findNextWidth",value:function(D,N){for(var F=Number.MAX_VALUE,U=0;U<D.length;U++)D[U]<F&&D[U]>N&&(F=D[U]);return F}},{key:"_patternToChar",value:function(D){for(var N=0;N<Ei.length;N++)if(Ei[N]===D)return String.fromCharCode(Ni[N]);return null}},{key:"_verifyTrailingWhitespace",value:function(D,N,F){var U=L.a.sum(F);return 3*(N-D-U)>=U}},{key:"decode",value:function(){var D=new Uint16Array([0,0,0,0,0,0,0,0,0]),N=[],F=this._findStart();if(!F)return null;var U,ae,pe=this._nextSet(this._row,F.end);do{D=this._toCounters(pe,D);var ue=this._toPattern(D);if(ue<0||null===(U=this._patternToChar(ue)))return null;N.push(U),ae=pe,pe+=L.a.sum(D),pe=this._nextSet(this._row,pe)}while("*"!==U);return N.pop(),N.length&&this._verifyTrailingWhitespace(ae,pe,D)?{code:N.join(""),start:F.start,end:pe,startInfo:F,decodedCodes:N,format:this.FORMAT}:null}}]),q}(j);var Ci=/[AEIO]/g,hi=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","code_32_reader"),D}return Ee()(q,[{key:"_decodeCode32",value:function(D){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(D))return null;for(var N=0,F=0;F<D.length;F++)N=32*N+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(D[F]);var U="".concat(N);return U.length<9&&(U=("000000000"+U).slice(-9)),"A"+U}},{key:"_checkChecksum",value:function(D){return!!D}},{key:"decode",value:function(){var D=sn()(oe()(q.prototype),"decode",this).call(this);if(!D)return null;var N=D.code;if(!N||(N=N.replace(Ci,""),!this._checkChecksum(N)))return null;var F=this._decodeCode32(N);return F?(D.code=F,D):null}}]),q}(Yr);var Mn=/[IOQ]/g,Wn=/[A-Z0-9]{17}/,Zn=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","code_39_vin"),D}return Ee()(q,[{key:"_checkChecksum",value:function(D){return!!D}},{key:"decode",value:function(){var D=sn()(oe()(q.prototype),"decode",this).call(this);if(!D)return null;var N=D.code;return N&&(N=N.replace(Mn,"")).match(Wn)&&this._checkChecksum(N)?(D.code=N,D):null}}]),q}(Yr);var Ki=new Uint16Array(Or()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(ne){return ne.charCodeAt(0)})),Jn=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),An=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","code_93"),D}return Ee()(q,[{key:"_patternToChar",value:function(D){for(var N=0;N<Jn.length;N++)if(Jn[N]===D)return String.fromCharCode(Ki[N]);return null}},{key:"_toPattern",value:function(D){for(var N=D.length,F=D.reduce(function(ye,Fe){return ye+Fe},0),U=0,ae=0;ae<N;ae++){var pe=Math.round(9*D[ae]/F);if(pe<1||pe>4)return-1;if(0==(1&ae))for(var ue=0;ue<pe;ue++)U=U<<1|1;else U<<=pe}return U}},{key:"_findStart",value:function(){for(var D=this._nextSet(this._row),N=D,F=new Uint16Array([0,0,0,0,0,0]),U=0,ae=!1,pe=D;pe<this._row.length;pe++)if(this._row[pe]^(ae?1:0))F[U]++;else{if(U===F.length-1){if(350===this._toPattern(F)){var ue=Math.floor(Math.max(0,N-(pe-N)/4));if(this._matchRange(ue,N,0))return{start:N,end:pe}}N+=F[0]+F[1];for(var ye=0;ye<4;ye++)F[ye]=F[ye+2];F[4]=0,F[5]=0,U--}else U++;F[U]=1,ae=!ae}return null}},{key:"_verifyEnd",value:function(D,N){return!(D===N||!this._row[N])}},{key:"_decodeExtended",value:function(D){for(var N=D.length,F=[],U=0;U<N;U++){var ae=D[U];if(ae>="a"&&ae<="d"){if(U>N-2)return null;var pe=D[++U],ue=pe.charCodeAt(0),ye=void 0;switch(ae){case"a":if(!(pe>="A"&&pe<="Z"))return null;ye=String.fromCharCode(ue-64);break;case"b":if(pe>="A"&&pe<="E")ye=String.fromCharCode(ue-38);else if(pe>="F"&&pe<="J")ye=String.fromCharCode(ue-11);else if(pe>="K"&&pe<="O")ye=String.fromCharCode(ue+16);else if(pe>="P"&&pe<="S")ye=String.fromCharCode(ue+43);else{if(!(pe>="T"&&pe<="Z"))return null;ye=String.fromCharCode(127)}break;case"c":if(pe>="A"&&pe<="O")ye=String.fromCharCode(ue-32);else{if("Z"!==pe)return null;ye=":"}break;case"d":if(!(pe>="A"&&pe<="Z"))return null;ye=String.fromCharCode(ue+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",ye),null}F.push(ye)}else F.push(ae)}return F}},{key:"_matchCheckChar",value:function(D,N,F){var U=D.slice(0,N),ae=U.length,pe=U.reduce(function(ue,ye,Fe){return ue+((-1*Fe+(ae-1))%F+1)*Ki.indexOf(ye.charCodeAt(0))},0);return Ki[pe%47]===D[N].charCodeAt(0)}},{key:"_verifyChecksums",value:function(D){return this._matchCheckChar(D,D.length-2,20)&&this._matchCheckChar(D,D.length-1,15)}},{key:"decode",value:function(D,N){if(!(N=this._findStart()))return null;var F,U,ae=new Uint16Array([0,0,0,0,0,0]),pe=[],ue=this._nextSet(this._row,N.end);do{ae=this._toCounters(ue,ae);var ye=this._toPattern(ae);if(ye<0||null===(U=this._patternToChar(ye)))return null;pe.push(U),F=ue,ue+=L.a.sum(ae),ue=this._nextSet(this._row,ue)}while("*"!==U);return pe.pop(),pe.length&&this._verifyEnd(F,ue)&&this._verifyChecksums(pe)?(pe=pe.slice(0,pe.length-2),null===(pe=this._decodeExtended(pe))?null:{code:pe.join(""),start:N.start,end:ue,startInfo:N,decodedCodes:pe,format:this.FORMAT}):null}}]),q}(j);function Fi(ne,fe){var q=Object.keys(ne);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(ne);fe&&(D=D.filter(function(N){return Object.getOwnPropertyDescriptor(ne,N).enumerable})),q.push.apply(q,D)}return q}function En(ne){for(var fe=1;fe<arguments.length;fe++){var q=null!=arguments[fe]?arguments[fe]:{};fe%2?Fi(Object(q),!0).forEach(function(D){K()(ne,D,q[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(q)):Fi(Object(q)).forEach(function(D){Object.defineProperty(ne,D,Object.getOwnPropertyDescriptor(q,D))})}return ne}var Rt=[1,1,1],ri=[1,1,1,1,1],ii=[1,1,2],Lr=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Cn=[0,11,13,14,19,25,28,21,22,26],jn=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(D,N){var F;return Ue()(this,q),F=fe.call(this,H()({supplements:[]},D),N),K()(ce()(F),"FORMAT","ean_13"),K()(ce()(F),"SINGLE_CODE_ERROR",.7),K()(ce()(F),"STOP_PATTERN",[1,1,1]),F}return Ee()(q,[{key:"_findPattern",value:function(D,N,F,U){var ae=new Array(D.length).fill(0),pe={error:Number.MAX_VALUE,start:0,end:0},ue=0;N||(N=this._nextSet(this._row));for(var ye=!1,Fe=N;Fe<this._row.length;Fe++)if(this._row[Fe]^(F?1:0))ae[ue]+=1;else{if(ue===ae.length-1){var z=this._matchPattern(ae,D);if(z<.48&&pe.error&&z<pe.error)return ye=!0,pe.error=z,pe.start=Fe-ae.reduce(function(we,$e){return we+$e},0),pe.end=Fe,pe;if(U){for(var ge=0;ge<ae.length-2;ge++)ae[ge]=ae[ge+2];ae[ae.length-2]=0,ae[ae.length-1]=0,ue--}}else ue++;ae[ue]=1,F=!F}return ye?pe:null}},{key:"_decodeCode",value:function(D,N){var F=[0,0,0,0],ae={error:Number.MAX_VALUE,code:-1,start:D,end:D},pe=!this._row[D],ue=0;N||(N=Lr.length);for(var ye=D;ye<this._row.length;ye++)if(this._row[ye]^(pe?1:0))F[ue]++;else{if(ue===F.length-1){for(var Fe=0;Fe<N;Fe++){var z=this._matchPattern(F,Lr[Fe]);ae.end=ye,z<ae.error&&(ae.code=Fe,ae.error=z)}return ae.error>.48?null:ae}F[++ue]=1,pe=!pe}return null}},{key:"_findStart",value:function(){for(var D=this._nextSet(this._row),N=null;!N;){if(!(N=this._findPattern(Rt,D,!1,!0)))return null;var F=N.start-(N.end-N.start);if(F>=0&&this._matchRange(F,N.start,0))return N;D=N.end,N=null}return null}},{key:"_calculateFirstDigit",value:function(D){for(var N=0;N<Cn.length;N++)if(D===Cn[N])return N;return null}},{key:"_decodePayload",value:function(D,N,F){for(var U=En({},D),ae=0,pe=0;pe<6;pe++){if(!(U=this._decodeCode(U.end)))return null;U.code>=10?(U.code-=10,ae|=1<<5-pe):ae|=0<<5-pe,N.push(U.code),F.push(U)}var ue=this._calculateFirstDigit(ae);if(null===ue)return null;N.unshift(ue);var ye=this._findPattern(ri,U.end,!0,!1);if(null===ye||!ye.end)return null;F.push(ye);for(var Fe=0;Fe<6;Fe++){if(!(ye=this._decodeCode(ye.end,10)))return null;F.push(ye),N.push(ye.code)}return ye}},{key:"_verifyTrailingWhitespace",value:function(D){var N=D.end+(D.end-D.start);return N<this._row.length&&this._matchRange(D.end,N,0)?D:null}},{key:"_findEnd",value:function(D,N){var F=this._findPattern(this.STOP_PATTERN,D,N,!1);return null!==F?this._verifyTrailingWhitespace(F):null}},{key:"_checksum",value:function(D){for(var N=0,F=D.length-2;F>=0;F-=2)N+=D[F];N*=3;for(var U=D.length-1;U>=0;U-=2)N+=D[U];return N%10==0}},{key:"_decodeExtensions",value:function(D){var N=this._nextSet(this._row,D),F=this._findPattern(ii,N,!1,!1);if(null===F)return null;for(var U=0;U<this.supplements.length;U++)try{var ae=this.supplements[U].decode(this._row,F.end);if(null!==ae)return{code:ae.code,start:N,startInfo:F,end:ae.end,decodedCodes:ae.decodedCodes,format:this.supplements[U].FORMAT}}catch(pe){console.error("* decodeExtensions error in ",this.supplements[U],": ",pe)}return null}},{key:"decode",value:function(D,N){var F=new Array,U=new Array,ae={},pe=this._findStart();if(!pe)return null;var ue={start:pe.start,end:pe.end};if(U.push(ue),!(ue=this._decodePayload(ue,F,U))||!(ue=this._findEnd(ue.end,!1))||(U.push(ue),!this._checksum(F)))return null;if(this.supplements.length>0){var ye=this._decodeExtensions(ue.end);if(!ye||!ye.decodedCodes)return null;var Fe=ye.decodedCodes[ye.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:Fe.start+((Fe.end-Fe.start)/2|0),end:Fe.end}))return null;ae={supplement:ye,code:F.join("")+ye.code}}return En(En({code:F.join(""),start:pe.start,end:ue.end,startInfo:pe,decodedCodes:U},ae),{},{format:this.FORMAT})}}]),q}(j);var De=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","ean_2"),D}return Ee()(q,[{key:"decode",value:function(D,N){D&&(this._row=D);var F=0,U=N,ae=this._row.length,pe=[],ue=[],ye=null;if(void 0===U)return null;for(var Fe=0;Fe<2&&U<ae;Fe++){if(!(ye=this._decodeCode(U)))return null;ue.push(ye),pe.push(ye.code%10),ye.code>=10&&(F|=1<<1-Fe),1!==Fe&&(U=this._nextSet(this._row,ye.end),U=this._nextUnset(this._row,U))}if(2!==pe.length||parseInt(pe.join(""))%4!==F)return null;var z=this._findStart();return{code:pe.join(""),decodedCodes:ue,end:ye.end,format:this.FORMAT,startInfo:z,start:z.start}}}]),q}(jn);var ke=[24,20,18,17,12,6,3,10,9,5],et=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","ean_5"),D}return Ee()(q,[{key:"decode",value:function(D,N){if(void 0===N)return null;D&&(this._row=D);for(var F=0,U=N,ae=this._row.length,pe=null,ue=[],ye=[],Fe=0;Fe<5&&U<ae;Fe++){if(!(pe=this._decodeCode(U)))return null;ye.push(pe),ue.push(pe.code%10),pe.code>=10&&(F|=1<<4-Fe),4!==Fe&&(U=this._nextSet(this._row,pe.end),U=this._nextUnset(this._row,U))}if(5!==ue.length||function(ge){for(var we=ge.length,$e=0,dt=we-2;dt>=0;dt-=2)$e+=ge[dt];$e*=3;for(var At=we-1;At>=0;At-=2)$e+=ge[At];return($e*=3)%10}(ue)!==function(ge){for(var we=0;we<10;we++)if(ge===ke[we])return we;return null}(F))return null;var z=this._findStart();return{code:ue.join(""),decodedCodes:ye,end:pe.end,format:this.FORMAT,startInfo:z,start:z.start}}}]),q}(jn);var Ve=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","ean_8"),D}return Ee()(q,[{key:"_decodePayload",value:function(D,N,F){for(var U=D,ae=0;ae<4;ae++){if(!(U=this._decodeCode(U.end,10)))return null;N.push(U.code),F.push(U)}if(null===(U=this._findPattern(ri,U.end,!0,!1)))return null;F.push(U);for(var pe=0;pe<4;pe++){if(!(U=this._decodeCode(U.end,10)))return null;F.push(U),N.push(U.code)}return U}}]),q}(jn);var mt=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(D){var N;return Ue()(this,q),N=fe.call(this,H()({normalizeBarSpaceWidth:!1},D)),K()(ce()(N),"barSpaceRatio",[1,1]),K()(ce()(N),"SINGLE_CODE_ERROR",.78),K()(ce()(N),"AVG_CODE_ERROR",.38),K()(ce()(N),"START_PATTERN",[1,1,1,1]),K()(ce()(N),"STOP_PATTERN",[1,1,3]),K()(ce()(N),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),K()(ce()(N),"MAX_CORRECTION_FACTOR",5),K()(ce()(N),"FORMAT","i2of5"),D.normalizeBarSpaceWidth&&(N.SINGLE_CODE_ERROR=.38,N.AVG_CODE_ERROR=.09),N.config=D,be()(N,ce()(N))}return Ee()(q,[{key:"_matchPattern",value:function(D,N){if(this.config.normalizeBarSpaceWidth){for(var F=[0,0],U=[0,0],ae=[0,0],pe=this.MAX_CORRECTION_FACTOR,ue=1/pe,ye=0;ye<D.length;ye++)F[ye%2]+=D[ye],U[ye%2]+=N[ye];ae[0]=U[0]/F[0],ae[1]=U[1]/F[1],ae[0]=Math.max(Math.min(ae[0],pe),ue),ae[1]=Math.max(Math.min(ae[1],pe),ue),this.barSpaceRatio=ae;for(var Fe=0;Fe<D.length;Fe++)D[Fe]*=this.barSpaceRatio[Fe%2]}return sn()(oe()(q.prototype),"_matchPattern",this).call(this,D,N)}},{key:"_findPattern",value:function(D,N){var F=arguments.length>2&&void 0!==arguments[2]&&arguments[2],U=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ae=new Array(D.length).fill(0),pe=0,ue={error:Number.MAX_VALUE,start:0,end:0},ye=this.AVG_CODE_ERROR;F=F||!1,U=U||!1,N||(N=this._nextSet(this._row));for(var Fe=N;Fe<this._row.length;Fe++)if(this._row[Fe]^(F?1:0))ae[pe]++;else{if(pe===ae.length-1){var z=ae.reduce(function($e,dt){return $e+dt},0),ge=this._matchPattern(ae,D);if(ge<ye)return ue.error=ge,ue.start=Fe-z,ue.end=Fe,ue;if(!U)return null;for(var we=0;we<ae.length-2;we++)ae[we]=ae[we+2];ae[ae.length-2]=0,ae[ae.length-1]=0,pe--}else pe++;ae[pe]=1,F=!F}return null}},{key:"_findStart",value:function(){for(var D=0,N=this._nextSet(this._row),F=null,U=1;!F;){if(!(F=this._findPattern(this.START_PATTERN,N,!1,!0)))return null;if(U=Math.floor((F.end-F.start)/4),(D=F.start-10*U)>=0&&this._matchRange(D,F.start,0))return F;N=F.end,F=null}return null}},{key:"_verifyTrailingWhitespace",value:function(D){var N=D.end+(D.end-D.start)/2;return N<this._row.length&&this._matchRange(D.end,N,0)?D:null}},{key:"_findEnd",value:function(){this._row.reverse();var D=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===D)return null;var N=D.start;return D.start=this._row.length-D.end,D.end=this._row.length-N,null!==D?this._verifyTrailingWhitespace(D):null}},{key:"_decodePair",value:function(D){for(var N=[],F=0;F<D.length;F++){var U=this._decodeCode(D[F]);if(!U)return null;N.push(U)}return N}},{key:"_decodeCode",value:function(D){for(var N=this.AVG_CODE_ERROR,F={error:Number.MAX_VALUE,code:-1,start:0,end:0},U=0;U<this.CODE_PATTERN.length;U++){var ae=this._matchPattern(D,this.CODE_PATTERN[U]);ae<F.error&&(F.code=U,F.error=ae)}return F.error<N?F:null}},{key:"_decodePayload",value:function(D,N,F){for(var U=0,ae=D.length,pe=[[0,0,0,0,0],[0,0,0,0,0]],ue=null;U<ae;){for(var ye=0;ye<5;ye++)pe[0][ye]=D[U]*this.barSpaceRatio[0],pe[1][ye]=D[U+1]*this.barSpaceRatio[1],U+=2;if(!(ue=this._decodePair(pe)))return null;for(var Fe=0;Fe<ue.length;Fe++)N.push(ue[Fe].code+""),F.push(ue[Fe])}return ue}},{key:"_verifyCounterLength",value:function(D){return D.length%10==0}},{key:"decode",value:function(D,N){var F=new Array,U=new Array,ae=this._findStart();if(!ae)return null;U.push(ae);var pe=this._findEnd();if(!pe)return null;var ue=this._fillCounters(ae.end,pe.start,!1);return this._verifyCounterLength(ue)&&this._decodePayload(ue,F,U)?F.length%2!=0||F.length<6?null:(U.push(pe),{code:F.join(""),start:ae.start,end:pe.end,startInfo:ae,decodedCodes:U,format:this.FORMAT}):null}}]),q}(j);function Wt(ne,fe){var q=Object.keys(ne);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(ne);fe&&(D=D.filter(function(N){return Object.getOwnPropertyDescriptor(ne,N).enumerable})),q.push.apply(q,D)}return q}var Pn=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),K()(ce()(D),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),K()(ce()(D),"FORMAT","upc_e"),D}return Ee()(q,[{key:"_decodePayload",value:function(D,N,F){for(var U=function(ue){for(var ye=1;ye<arguments.length;ye++){var Fe=null!=arguments[ye]?arguments[ye]:{};ye%2?Wt(Object(Fe),!0).forEach(function(z){K()(ue,z,Fe[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ue,Object.getOwnPropertyDescriptors(Fe)):Wt(Object(Fe)).forEach(function(z){Object.defineProperty(ue,z,Object.getOwnPropertyDescriptor(Fe,z))})}return ue}({},D),ae=0,pe=0;pe<6;pe++){if(!(U=this._decodeCode(U.end)))return null;U.code>=10&&(U.code=U.code-10,ae|=1<<5-pe),N.push(U.code),F.push(U)}return this._determineParity(ae,N)?U:null}},{key:"_determineParity",value:function(D,N){for(var F=0;F<this.CODE_FREQUENCY.length;F++)for(var U=0;U<this.CODE_FREQUENCY[F].length;U++)if(D===this.CODE_FREQUENCY[F][U])return N.unshift(F),N.push(U),!0;return!1}},{key:"_convertToUPCA",value:function(D){var N=[D[0]],F=D[D.length-2];return(N=F<=2?N.concat(D.slice(1,3)).concat([F,0,0,0,0]).concat(D.slice(3,6)):3===F?N.concat(D.slice(1,4)).concat([0,0,0,0,0]).concat(D.slice(4,6)):4===F?N.concat(D.slice(1,5)).concat([0,0,0,0,0,D[5]]):N.concat(D.slice(1,6)).concat([0,0,0,0,F])).push(D[D.length-1]),N}},{key:"_checksum",value:function(D){return sn()(oe()(q.prototype),"_checksum",this).call(this,this._convertToUPCA(D))}},{key:"_findEnd",value:function(D,N){return sn()(oe()(q.prototype),"_findEnd",this).call(this,D,!0)}},{key:"_verifyTrailingWhitespace",value:function(D){var N=D.end+(D.end-D.start)/2;return N<this._row.length&&this._matchRange(D.end,N,0)?D:null}}]),q}(jn);var _r=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(){var D;Ue()(this,q);for(var N=arguments.length,F=new Array(N),U=0;U<N;U++)F[U]=arguments[U];return D=fe.call.apply(fe,[this].concat(F)),K()(ce()(D),"FORMAT","upc_a"),D}return Ee()(q,[{key:"decode",value:function(D,N){var F=jn.prototype.decode.call(this);return F&&F.code&&13===F.code.length&&"0"===F.code.charAt(0)?(F.code=F.code.substring(1),F):null}}]),q}(jn),He={},Re_UP=1,Re_DOWN=-1;He.getBarcodeLine=function(ne,fe,q){var D,N,F,U,ae,pe=0|fe.x,ue=0|fe.y,ye=0|q.x,Fe=0|q.y,z=Math.abs(Fe-ue)>Math.abs(ye-pe),ge=[],we=ne.data,$e=ne.size.x,dt=255,At=0;function xt(yr,wn){dt=(ae=we[wn*$e+yr])<dt?ae:dt,At=ae>At?ae:At,ge.push(ae)}z&&(F=pe,pe=ue,ue=F,F=ye,ye=Fe,Fe=F),pe>ye&&(F=pe,pe=ye,ye=F,F=ue,ue=Fe,Fe=F);var Nt=ye-pe,Jt=Math.abs(Fe-ue);D=Nt/2|0,N=ue;var Gn=ue<Fe?1:-1;for(U=pe;U<ye;U++)z?xt(N,U):xt(U,N),(D-=Jt)<0&&(N+=Gn,D+=Nt);return{line:ge,min:dt,max:At}},He.toBinaryLine=function(ne){var fe,q,D,N,F,U,ae=ne.min,pe=ne.max,ue=ne.line,ye=ae+(pe-ae)/2,Fe=[],z=(pe-ae)/12,ge=-z;for(D=ue[0]>ye?Re_UP:Re_DOWN,Fe.push({pos:0,val:ue[0]}),F=0;F<ue.length-2;F++)D!==(N=(fe=ue[F+1]-ue[F])+(q=ue[F+2]-ue[F+1])<ge&&ue[F+1]<1.5*ye?Re_DOWN:fe+q>z&&ue[F+1]>.5*ye?Re_UP:D)&&(Fe.push({pos:F,val:ue[F]}),D=N);for(Fe.push({pos:ue.length,val:ue[ue.length-1]}),U=Fe[0].pos;U<Fe[1].pos;U++)ue[U]=ue[U]>ye?0:1;for(F=1;F<Fe.length-1;F++)for(z=Fe[F+1].val>Fe[F].val?Fe[F].val+(Fe[F+1].val-Fe[F].val)/3*2|0:Fe[F+1].val+(Fe[F].val-Fe[F+1].val)/3|0,U=Fe[F].pos;U<Fe[F+1].pos;U++)ue[U]=ue[U]>z?0:1;return{line:ue,threshold:z}},He.debug={printFrequency:function(ne,fe){var q,D=fe.getContext("2d");for(fe.width=ne.length,fe.height=256,D.beginPath(),D.strokeStyle="blue",q=0;q<ne.length;q++)D.moveTo(q,255),D.lineTo(q,255-ne[q]);D.stroke(),D.closePath()},printPattern:function(ne,fe){var q,D=fe.getContext("2d");for(fe.width=ne.length,D.fillColor="black",q=0;q<ne.length;q++)1===ne[q]&&D.fillRect(q,0,1,100)}};var Me=He;function st(ne,fe){var q="undefined"!=typeof Symbol&&ne[Symbol.iterator]||ne["@@iterator"];if(!q){if(Array.isArray(ne)||(q=function(pe,ue){if(pe){if("string"==typeof pe)return yt(pe,undefined);var ye=Object.prototype.toString.call(pe).slice(8,-1);if("Object"===ye&&pe.constructor&&(ye=pe.constructor.name),"Map"===ye||"Set"===ye)return Array.from(pe);if("Arguments"===ye||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye))return yt(pe,undefined)}}(ne))||fe&&ne&&"number"==typeof ne.length){q&&(ne=q);var D=0,N=function(){};return{s:N,n:function(){return D>=ne.length?{done:!0}:{done:!1,value:ne[D++]}},e:function(pe){throw pe},f:N}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var F,U=!0,ae=!1;return{s:function(){q=q.call(ne)},n:function(){var pe=q.next();return U=pe.done,pe},e:function(pe){ae=!0,F=pe},f:function(){try{U||null==q.return||q.return()}finally{if(ae)throw F}}}}function yt(ne,fe){(null==fe||fe>ne.length)&&(fe=ne.length);for(var q=0,D=new Array(fe);q<fe;q++)D[q]=ne[q];return D}var Qt={code_128_reader:wt,ean_reader:jn,ean_5_reader:et,ean_2_reader:De,ean_8_reader:Ve,code_39_reader:Yr,code_39_vin_reader:Zn,codabar_reader:Bt,upc_reader:_r,upc_e_reader:Pn,i2of5_reader:mt,"2of5_reader":pt,code_93_reader:An,code_32_reader:hi},zt={registerReader:function(ne,fe){Qt[ne]=fe},create:function(ne,fe){var D=[];function N(){ne.readers.forEach(function(ue){var ye,Fe={},z=[];"object"===O()(ue)?(ye=ue.format,Fe=ue.config):"string"==typeof ue&&(ye=ue),Fe.supplements&&(z=Fe.supplements.map(function(we){return new Qt[we]}));try{var ge=new Qt[ye](Fe,z);D.push(ge)}catch(we){throw console.error("* Error constructing reader ",ye,we),we}})}function F(ue){var ye,Fe=null,z=Me.getBarcodeLine(fe,ue[0],ue[1]);for(Me.toBinaryLine(z),ye=0;ye<D.length&&null===Fe;ye++)Fe=D[ye].decodePattern(z.line);return null===Fe?null:{codeResult:Fe,barcodeLine:z}}function U(ue){return ae.apply(this,arguments)}function ae(){return(ae=Q()(me.a.mark(function ue(ye){var Fe,z,ge,we;return me.a.wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:Fe=null,z=st(D),$e.prev=2,z.s();case 4:if((ge=z.n()).done){$e.next=14;break}if(!(we=ge.value).decodeImage){$e.next=12;break}return $e.next=9,we.decodeImage(ye);case 9:if(!(Fe=$e.sent)){$e.next=12;break}return $e.abrupt("break",14);case 12:$e.next=4;break;case 14:$e.next=19;break;case 16:$e.prev=16,$e.t0=$e.catch(2),z.e($e.t0);case 19:return $e.prev=19,z.f(),$e.finish(19);case 22:return $e.abrupt("return",Fe);case 23:case"end":return $e.stop()}},ue,null,[[2,16,19,22]])}))).apply(this,arguments)}function pe(ue){var ye,Fe,we,z=function(we){return Math.sqrt(Math.pow(Math.abs(we[1].y-we[0].y),2)+Math.pow(Math.abs(we[1].x-we[0].x),2))}(ye=[{x:((we=ue)[1][0]-we[0][0])/2+we[0][0],y:(we[1][1]-we[0][1])/2+we[0][1]},{x:(we[3][0]-we[2][0])/2+we[2][0],y:(we[3][1]-we[2][1])/2+we[2][1]}]),ge=Math.atan2(ye[1].y-ye[0].y,ye[1].x-ye[0].x);return null===(ye=function(we,$e,dt){function At(xt){var Nt=xt*Math.sin($e),Jt=xt*Math.cos($e);we[0].y-=Nt,we[0].x-=Jt,we[1].y+=Nt,we[1].x+=Jt}for(At(dt);dt>1&&(!fe.inImageWithBorder(we[0])||!fe.inImageWithBorder(we[1]));)At(-(dt-=Math.ceil(dt/2)));return we}(ye,ge,Math.floor(.1*z)))?null:(null===(Fe=F(ye))&&(Fe=function(we,$e,dt){var At,xt,Nt,Jt=Math.sqrt(Math.pow(we[1][0]-we[0][0],2)+Math.pow(we[1][1]-we[0][1],2)),Gn=null,yr=Math.sin(dt),wn=Math.cos(dt);for(At=1;At<16&&null===Gn;At++)Nt={y:(xt=Jt/16*At*(At%2==0?-1:1))*yr,x:xt*wn},$e[0].y+=Nt.x,$e[0].x-=Nt.y,$e[1].y+=Nt.x,$e[1].x-=Nt.y,Gn=F($e);return Gn}(ue,ye,ge)),null===Fe?null:{codeResult:Fe.codeResult,line:ye,angle:ge,pattern:Fe.barcodeLine.line,threshold:Fe.barcodeLine.threshold})}return N(),{decodeFromBoundingBox:function(ue){return pe(ue)},decodeFromBoundingBoxes:function(ue){var ye,Fe,z=[],ge=ne.multiple;for(ye=0;ye<ue.length;ye++){var we=ue[ye];if((Fe=pe(we)||{}).box=we,ge)z.push(Fe);else if(Fe.codeResult)return Fe}return{barcodes:z}},decodeFromImage:function(ue){return Q()(me.a.mark(function ye(){return me.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,U(ue);case 2:return z.abrupt("return",z.sent);case 4:case"end":return z.stop()}},ye)}))()},registerReader:function(ue,ye){if(Qt[ue])throw new Error("cannot register existing reader",ue);Qt[ue]=ye},setReaders:function(ue){ne.readers=ue,D.length=0,N()}}}},ln=function(){var ne={};function fe(N){return ne[N]||(ne[N]={subscribers:[]}),ne[N]}function q(N,F){N.async?setTimeout(function(){N.callback(F)},4):N.callback(F)}function D(N,F,U){var ae;if("function"==typeof F)ae={callback:F,async:U};else if(!(ae=F).callback)throw new Error("Callback was not specified on options");fe(N).subscribers.push(ae)}return{subscribe:function(N,F,U){return D(N,F,U)},publish:function(N,F){var U=fe(N),ae=U.subscribers;ae.filter(function(pe){return!!pe.once}).forEach(function(pe){q(pe,F)}),U.subscribers=ae.filter(function(pe){return!pe.once}),U.subscribers.forEach(function(pe){q(pe,F)})},once:function(N,F){D(N,{callback:F,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(N,F){if(N){var U=fe(N);U.subscribers=U&&F?U.subscribers.filter(function(ae){return ae.callback!==F}):[]}else ne={}}}}(),In=s(85),zn=s.n(In),or=s(86);var Vt,Nn=function(ne){Pe()(q,ne);var fe=function(ne){var fe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(q){return!1}}();return function(){var q,D=oe()(ne);if(fe){var N=oe()(this).constructor;q=Reflect.construct(D,arguments,N)}else q=D.apply(this,arguments);return be()(this,q)}}(q);function q(D,N){var F;return Ue()(this,q),F=fe.call(this,D),K()(ce()(F),"code",void 0),F.code=N,Object.setPrototypeOf(ce()(F),q.prototype),F}return Ee()(q)}(s.n(or)()(Error)),Qr="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Ii(){try{return navigator.mediaDevices.enumerateDevices()}catch(fe){var ne=new Nn("enumerateDevices is not defined. ".concat(Qr),-1);return Promise.reject(ne)}}function Tr(ne){try{return navigator.mediaDevices.getUserMedia(ne)}catch(q){var fe=new Nn("getUserMedia is not defined. ".concat(Qr),-1);return Promise.reject(fe)}}function ar(ne){return new Promise(function(fe,q){var D=10;!function N(){D>0?ne.videoWidth>10&&ne.videoHeight>10?fe():window.setTimeout(N,500):q(new Nn("Unable to play video stream. Is webcam working?",-1)),D--}()})}function lr(ne,fe){return Li.apply(this,arguments)}function Li(){return(Li=Q()(me.a.mark(function ne(fe,q){var D;return me.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,Tr(q);case 2:if(Vt=D=N.sent,!fe){N.next=11;break}return fe.setAttribute("autoplay","true"),fe.setAttribute("muted","true"),fe.setAttribute("playsinline","true"),fe.srcObject=D,fe.addEventListener("loadedmetadata",function(){fe.play().catch(function(F){console.warn("* Error while trying to play video stream:",F)})}),N.abrupt("return",ar(fe));case 11:return N.abrupt("return",Promise.resolve());case 12:case"end":return N.stop()}},ne)}))).apply(this,arguments)}function Ss(ne){var fe=zn()(ne,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==ne.minAspectRatio&&ne.minAspectRatio>0&&(fe.aspectRatio=ne.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==ne.facing&&(fe.facingMode=ne.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),fe}function nn(){var fe=Ss(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return fe&&fe.deviceId&&fe.facingMode&&delete fe.facingMode,Promise.resolve({audio:!1,video:fe})}function Yi(){return(Yi=Q()(me.a.mark(function ne(){return me.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,Ii();case 2:return q.abrupt("return",q.sent.filter(function(D){return"videoinput"===D.kind}));case 4:case"end":return q.stop()}},ne)}))).apply(this,arguments)}function Ti(){if(!Vt)return null;var ne=Vt.getVideoTracks();return ne&&null!=ne&&ne.length?ne[0]:null}var Sr={requestedVideoElement:null,request:function(ne,fe){return Q()(me.a.mark(function q(){return me.a.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return Sr.requestedVideoElement=ne,N.next=3,nn(fe);case 3:return N.abrupt("return",lr(ne,N.sent));case 5:case"end":return N.stop()}},q)}))()},release:function(){var ne=Vt&&Vt.getVideoTracks();return null!==Sr.requestedVideoElement&&Sr.requestedVideoElement.pause(),new Promise(function(fe){setTimeout(function(){ne&&ne.length&&ne[0].stop(),Vt=null,Sr.requestedVideoElement=null,fe()},0)})},enumerateVideoDevices:function(){return Yi.apply(this,arguments)},getActiveStreamLabel:function(){var ne=Ti();return ne?ne.label:""},getActiveTrack:Ti,disableTorch:function(){return Q()(me.a.mark(function ne(){var fe;return me.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!(fe=Ti())){q.next=4;break}return q.next=4,fe.applyConstraints({advanced:[{torch:!1}]});case 4:case"end":return q.stop()}},ne)}))()},enableTorch:function(){return Q()(me.a.mark(function ne(){var fe;return me.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!(fe=Ti())){q.next=4;break}return q.next=4,fe.applyConstraints({advanced:[{torch:!0}]});case 4:case"end":return q.stop()}},ne)}))()}},fi=Sr,kn={create:function(ne){var fe,q=document.createElement("canvas"),D=q.getContext("2d"),N=[],F=null!==(fe=ne.capacity)&&void 0!==fe?fe:20,U=!0===ne.capture;return{addResult:function(pe,ue,ye){var Fe={};(function(pe){return!!F&&pe&&(ue=pe,!((ye=ne.blacklist)&&ye.some(function(Fe){return Object.keys(Fe).every(function(z){return Fe[z]===ue[z]})})))&&function(ue,ye){return"function"!=typeof ye||ye(ue)}(pe,ne.filter);var ue,ye})(ye)&&(F--,Fe.codeResult=ye,U&&(q.width=ue.x,q.height=ue.y,Ze.a.drawImage(pe,ue,D),Fe.frame=q.toDataURL()),N.push(Fe))},getResults:function(){return N}}}},lo={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},zr=s(7),Gr=s(10),Rn=Math.PI/180,Pa={create:function(ne,fe){var q,D={},N=ne.getConfig(),F=(Object(Gr.h)(ne.getRealWidth(),ne.getRealHeight()),ne.getCanvasSize()),U=Object(Gr.h)(ne.getWidth(),ne.getHeight()),ae=ne.getTopRight(),pe=ae.x,ue=ae.y,ye=null,Fe=null;return(q=fe||document.createElement("canvas")).width=F.x,q.height=F.y,ye=q.getContext("2d"),Fe=new Uint8Array(U.x*U.y),D.attachData=function(z){Fe=z},D.getData=function(){return Fe},D.grab=function(){var z,At,xt,ge=N.halfSample,we=ne.getFrame(),$e=we,dt=0;if($e){if((At=q).width!==(xt=F).x&&(At.width=xt.x),At.height!==xt.y&&(At.height=xt.y),"ImageStream"===N.type&&($e=we.img,we.tags&&we.tags.orientation))switch(we.tags.orientation){case 6:dt=90*Rn;break;case 8:dt=-90*Rn}return 0!==dt?(ye.translate(F.x/2,F.y/2),ye.rotate(dt),ye.drawImage($e,-F.y/2,-F.x/2,F.y,F.x),ye.rotate(-dt),ye.translate(-F.x/2,-F.y/2)):ye.drawImage($e,0,0,F.x,F.y),z=ye.getImageData(pe,ue,U.x,U.y).data,ge?Object(Gr.e)(z,U,Fe):Object(Gr.c)(z,Fe,N),!0}return!1},D.getSize=function(){return U},D}},ls=Pa,Bi={274:"orientation"},Us=Object.keys(Bi).map(function(ne){return Bi[ne]});function Xr(ne){return new Promise(function(fe){var q=new FileReader;q.onload=function(D){return fe(D.target.result)},q.readAsArrayBuffer(ne)})}function js(ne){return new Promise(function(fe,q){var D=new XMLHttpRequest;D.open("GET",ne,!0),D.responseType="blob",D.onreadystatechange=function(){D.readyState!==XMLHttpRequest.DONE||200!==D.status&&0!==D.status||fe(this.response)},D.onerror=q,D.send()})}function cs(ne){var fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Us,q=new DataView(ne),D=ne.byteLength,N=fe.reduce(function(U,ae){var pe=Object.keys(Bi).filter(function(ue){return Bi[ue]===ae})[0];return pe&&(U[pe]=ae),U},{}),F=2;if(255!==q.getUint8(0)||216!==q.getUint8(1))return!1;for(;F<D;){if(255!==q.getUint8(F))return!1;if(225===q.getUint8(F+1))return cr(q,F+4,N);F+=2+q.getUint16(F+2)}return!1}function cr(ne,fe,q){if("Exif"!==function(U,ae,pe){for(var ue="",ye=ae;ye<ae+4;ye++)ue+=String.fromCharCode(U.getUint8(ye));return ue}(ne,fe))return!1;var D,N=fe+6;if(18761===ne.getUint16(N))D=!1;else{if(19789!==ne.getUint16(N))return!1;D=!0}if(42!==ne.getUint16(N+2,!D))return!1;var F=ne.getUint32(N+4,!D);return!(F<8)&&function(U,ae,pe,ue,ye){for(var Fe=U.getUint16(pe,!ye),z={},ge=0;ge<Fe;ge++){var we=pe+12*ge+2,$e=ue[U.getUint16(we,!ye)];$e&&(z[$e]=No(U,we,0,0,ye))}return z}(ne,0,N+F,q,D)}function No(ne,fe,q,D,N){var F=ne.getUint16(fe+2,!N),U=ne.getUint32(fe+4,!N);return 3===F&&1===U?ne.getUint16(fe+8,!N):null}var Jr={};function li(ne,fe){ne.onload=function(){fe.loaded(this)}}Jr.load=function(ne,fe,q,D,N){var F,U,ae,pe=new Array(D),ue=new Array(pe.length);if(!1===N)pe[0]=ne;else for(F=0;F<pe.length;F++)ae=q+F,pe[F]="".concat(ne,"image-").concat("00".concat(ae).slice(-3),".jpg");for(ue.notLoaded=[],ue.addImage=function(ye){ue.notLoaded.push(ye)},ue.loaded=function(ye){for(var Fe=ue.notLoaded,z=0;z<Fe.length;z++)if(Fe[z]===ye){Fe.splice(z,1);for(var ge=0;ge<pe.length;ge++){var we=pe[ge].substr(pe[ge].lastIndexOf("/"));if(-1!==ye.src.lastIndexOf(we)){ue[ge]={img:ye};break}}break}0===Fe.length&&(!1===N?function($e){var dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Us;return/^blob:/i.test($e)?js($e).then(Xr).then(function(At){return cs(At,dt)}):Promise.resolve(null)}(ne,["orientation"]).then(function($e){ue[0].tags=$e,fe(ue)}).catch(function($e){console.log($e),fe(ue)}):fe(ue))},F=0;F<pe.length;F++)U=new Image,ue.addImage(U),li(U,ue),U.src=pe[F]};var co=Jr,Qi={createVideoStream:function(ne){var fe,q,D=null,N=["canrecord","ended"],F={},U={x:0,y:0,type:"Point"},ae={x:0,y:0,type:"XYSize"},pe={getRealWidth:function(){return ne.videoWidth},getRealHeight:function(){return ne.videoHeight},getWidth:function(){return fe},getHeight:function(){return q},setWidth:function(ue){fe=ue},setHeight:function(ue){q=ue},setInputStream:function(ue){D=ue,this.setAttribute("src",void 0!==ue.src?ue.src:"")},ended:function(){return ne.ended},getConfig:function(){return D},setAttribute:function(ue,ye){ne&&ne.setAttribute(ue,ye)},pause:function(){ne.pause()},play:function(){ne.play()},setCurrentTime:function(ue){var ye;"LiveStream"!==(null===(ye=D)||void 0===ye?void 0:ye.type)&&this.setAttribute("currentTime",ue.toString())},addEventListener:function(ue,ye,Fe){-1!==N.indexOf(ue)?(F[ue]||(F[ue]=[]),F[ue].push(ye)):ne.addEventListener(ue,ye,Fe)},clearEventHandlers:function(){N.forEach(function(ue){var ye=F[ue];ye&&ye.length>0&&ye.forEach(function(Fe){ne.removeEventListener(ue,Fe)})})},trigger:function(ue,ye){var Fe,z,ge,we,$e,dt=F[ue];if("canrecord"===ue&&(we=ne.videoWidth,$e=ne.videoHeight,fe=null!==(z=D)&&void 0!==z&&z.size?we/$e>1?D.size:Math.floor(we/$e*D.size):we,q=null!==(ge=D)&&void 0!==ge&&ge.size?we/$e>1?Math.floor($e/we*D.size):D.size:$e,ae.x=fe,ae.y=q),dt&&dt.length>0)for(Fe=0;Fe<dt.length;Fe++)dt[Fe].apply(pe,ye)},setTopRight:function(ue){U.x=ue.x,U.y=ue.y},getTopRight:function(){return U},setCanvasSize:function(ue){ae.x=ue.x,ae.y=ue.y},getCanvasSize:function(){return ae},getFrame:function(){return ne}};return pe},createLiveStream:function(ne){ne&&ne.setAttribute("autoplay","true");var fe=Qi.createVideoStream(ne);return fe.ended=function(){return!1},fe},createImageStream:function(){var ne,fe,q=null,D=0,N=0,F=0,U=!0,ae=!1,pe=null,ue=0,ye=null,Fe=!1,z=["canrecord","ended"],ge={},we={x:0,y:0,type:"Point"},$e={x:0,y:0,type:"XYSize"};function dt(xt,Nt){var Jt,Gn=ge[xt];if(Gn&&Gn.length>0)for(Jt=0;Jt<Gn.length;Jt++)Gn[Jt].apply(At,Nt)}var At={trigger:dt,getWidth:function(){return ne},getHeight:function(){return fe},setWidth:function(xt){ne=xt},setHeight:function(xt){fe=xt},getRealWidth:function(){return D},getRealHeight:function(){return N},setInputStream:function(xt){var Nt;!1===xt.sequence?(ye=xt.src,ue=1):(ye=xt.src,ue=xt.length),ae=!1,co.load(ye,function(Jt){var Gn,yr;if(pe=Jt,Jt[0].tags&&Jt[0].tags.orientation)switch(Jt[0].tags.orientation){case 6:case 8:D=Jt[0].img.height,N=Jt[0].img.width;break;default:D=Jt[0].img.width,N=Jt[0].img.height}else D=Jt[0].img.width,N=Jt[0].img.height;ne=null!==(Gn=q)&&void 0!==Gn&&Gn.size?D/N>1?q.size:Math.floor(D/N*q.size):D,fe=null!==(yr=q)&&void 0!==yr&&yr.size?D/N>1?Math.floor(N/D*q.size):q.size:N,$e.x=ne,$e.y=fe,ae=!0,F=0,setTimeout(function(){dt("canrecord",[])},0)},1,ue,null===(Nt=q=xt)||void 0===Nt?void 0:Nt.sequence)},ended:function(){return Fe},setAttribute:function(){},getConfig:function(){return q},pause:function(){U=!0},play:function(){U=!1},setCurrentTime:function(xt){F=xt},addEventListener:function(xt,Nt){-1!==z.indexOf(xt)&&(ge[xt]||(ge[xt]=[]),ge[xt].push(Nt))},clearEventHandlers:function(){Object.keys(ge).forEach(function(xt){return delete ge[xt]})},setTopRight:function(xt){we.x=xt.x,we.y=xt.y},getTopRight:function(){return we},setCanvasSize:function(xt){$e.x=xt.x,$e.y=xt.y},getCanvasSize:function(){return $e},getFrame:function(){var xt,Nt;return ae?(U||(xt=null===(Nt=pe)||void 0===Nt?void 0:Nt[F],F<ue-1?F++:setTimeout(function(){Fe=!0,dt("ended",[])},0)),xt):null}};return At}},uo=Qi,$r=s(23),sa=Ee()(function ne(){Ue()(this,ne),K()(this,"config",void 0),K()(this,"inputStream",void 0),K()(this,"framegrabber",void 0),K()(this,"inputImageWrapper",void 0),K()(this,"stopped",!1),K()(this,"boxSize",void 0),K()(this,"resultCollector",void 0),K()(this,"decoder",void 0),K()(this,"workerPool",[]),K()(this,"onUIThread",!0),K()(this,"canvasContainer",new Dr)}),Fo=Ee()(function ne(){Ue()(this,ne),K()(this,"image",void 0),K()(this,"overlay",void 0)}),Dr=Ee()(function ne(){Ue()(this,ne),K()(this,"ctx",void 0),K()(this,"dom",void 0),this.ctx=new Fo,this.dom=new Fo});function ho(ne){return"undefined"==typeof document?null:ne instanceof HTMLElement&&ne.nodeName&&1===ne.nodeType?ne:document.querySelector("string"==typeof ne?ne:"#interactive.viewport")}function ml(ne,fe){var F,U,q=(F=fe,(U=document.querySelector(ne))||((U=document.createElement("canvas")).className=F),U),D=q.getContext("2d");return{canvas:q,context:D}}function _l(ne,fe){var q=Object.keys(ne);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(ne);fe&&(D=D.filter(function(N){return Object.getOwnPropertyDescriptor(ne,N).enumerable})),q.push.apply(q,D)}return q}function Ds(ne){for(var fe=1;fe<arguments.length;fe++){var q=null!=arguments[fe]?arguments[fe]:{};fe%2?_l(Object(q),!0).forEach(function(D){K()(ne,D,q[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(q)):_l(Object(q)).forEach(function(D){Object.defineProperty(ne,D,Object.getOwnPropertyDescriptor(q,D))})}return ne}var Ji=[];function fo(ne){return Ds(Ds({},ne),{},{inputStream:Ds(Ds({},ne.inputStream),{},{target:null})})}function Hs(ne){if(ne){var fe=ne().default;if(!fe)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var q;function D(F){self.postMessage({event:"processed",imageData:q.data,result:F},[q.data.buffer])}function N(){self.postMessage({event:"initialized",imageData:q.data},[q.data.buffer])}self.onmessage=function(F){if("init"===F.data.cmd){var U=F.data.config;U.numOfWorkers=0,q=new fe.ImageWrapper({x:F.data.size.x,y:F.data.size.y},new Uint8Array(F.data.imageData)),fe.init(U,N,q),fe.onProcessed(D)}else"process"===F.data.cmd?(q.data=new Uint8Array(F.data.imageData),fe.start()):"setReaders"===F.data.cmd?fe.setReaders(F.data.readers):"registerReader"===F.data.cmd&&fe.registerReader(F.data.name,F.data.reader)}}function po(ne,fe,q){var D,N,F=("undefined"!=typeof __factorySource__&&(N=__factorySource__),D=new Blob(["("+Hs.toString()+")("+N+");"],{type:"text/javascript"}),window.URL.createObjectURL(D)),U={worker:new Worker(F),imageData:new Uint8Array(fe.getWidth()*fe.getHeight()),busy:!0};U.worker.onmessage=function(ae){"initialized"===ae.data.event?(URL.revokeObjectURL(F),U.busy=!1,U.imageData=new Uint8Array(ae.data.imageData),q(U)):"processed"===ae.data.event&&(U.imageData=new Uint8Array(ae.data.imageData),U.busy=!1)},U.worker.postMessage({cmd:"init",size:{x:fe.getWidth(),y:fe.getHeight()},imageData:U.imageData,config:fo(ne)},[U.imageData.buffer])}function oa(ne,fe,q,D){var N=ne-Ji.length;if(0===N&&D)D();else if(N<0)Ji.slice(N).forEach(function(ae){ae.worker.terminate()}),Ji=Ji.slice(0,N),D&&D();else{var F=function(ae){Ji.push(ae),Ji.length>=ne&&D&&D()};if(fe)for(var U=0;U<N;U++)po(fe,q,F)}}function aa(ne,fe,q){for(var D=ne.length;D--;)ne[D][0]+=fe,ne[D][1]+=q}var go=function(){function ne(){var D=this;Ue()(this,ne),K()(this,"context",new sa),K()(this,"canRecord",function(N){var F;D.context.config&&($r.a.checkImageConstraints(D.context.inputStream,null===(F=D.context.config)||void 0===F?void 0:F.locator),D.initCanvas(),D.context.framegrabber=ls.create(D.context.inputStream,D.context.canvasContainer.dom.image),void 0===D.context.config.numOfWorkers&&(D.context.config.numOfWorkers=0),oa(D.context.config.numOfWorkers,D.context.config,D.context.inputStream,function(){var U;0===(null===(U=D.context.config)||void 0===U?void 0:U.numOfWorkers)&&D.initializeData(),D.ready(N)}))}),K()(this,"update",function(){if(D.context.onUIThread){var N,F=(ae=D.context.framegrabber,Ji.length?!!(pe=Ji.filter(function(ue){return!ue.busy})[0])&&(ae.attachData(pe.imageData),ae.grab()&&(pe.busy=!0,pe.worker.postMessage({cmd:"process",imageData:pe.imageData},[pe.imageData.buffer])),!0):null);F||(D.context.framegrabber.attachData(null===(N=D.context.inputImageWrapper)||void 0===N?void 0:N.data),D.context.framegrabber.grab()&&(F||D.locateAndDecode()))}else{var U;D.context.framegrabber.attachData(null===(U=D.context.inputImageWrapper)||void 0===U?void 0:U.data),D.context.framegrabber.grab(),D.locateAndDecode()}var ae,pe})}var fe,q;return Ee()(ne,[{key:"initBuffers",value:function(D){if(this.context.config){var N=(ae=this.context.inputStream,ue=this.context.config.locator,ye=D||new Y.a({x:ae.getWidth(),y:ae.getHeight(),type:"XYSize"}),Fe=[Object(zr.clone)([0,0]),Object(zr.clone)([0,ye.size.y]),Object(zr.clone)([ye.size.x,ye.size.y]),Object(zr.clone)([ye.size.x,0])],$r.a.init(ye,ue),{inputImageWrapper:ye,boxSize:Fe}),U=N.boxSize;this.context.inputImageWrapper=N.inputImageWrapper,this.context.boxSize=U}var ae,ue,ye,Fe}},{key:"initializeData",value:function(D){this.context.config&&(this.initBuffers(D),this.context.decoder=zt.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?ho(this.context.config.inputStream.target):null}},{key:"ready",value:function(D){this.context.inputStream.play(),D()}},{key:"initCanvas",value:function(){var D=function(ne){var fe,q,D,N,F=ho(null==ne||null===(fe=ne.config)||void 0===fe||null===(q=fe.inputStream)||void 0===q?void 0:q.target),U=null==ne||null===(D=ne.config)||void 0===D||null===(N=D.inputStream)||void 0===N?void 0:N.type;if(!U)return null;var ae=function(ue){if("undefined"!=typeof document){var ye=ml("canvas.imgBuffer","imgBuffer"),Fe=ml("canvas.drawingBuffer","drawingBuffer");return ye.canvas.width=Fe.canvas.width=ue.x,ye.canvas.height=Fe.canvas.height=ue.y,{dom:{image:ye.canvas,overlay:Fe.canvas},ctx:{image:ye.context,overlay:Fe.context}}}return null}(ne.inputStream.getCanvasSize());if(!ae)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var pe=ae.dom;return"undefined"!=typeof document&&F&&("ImageStream"!==U||F.contains(pe.image)||F.appendChild(pe.image),F.contains(pe.overlay)||F.appendChild(pe.overlay)),ae}(this.context);if(D){var N=D.ctx,F=D.dom;this.context.canvasContainer.dom.image=F.image,this.context.canvasContainer.dom.overlay=F.overlay,this.context.canvasContainer.ctx.image=N.image,this.context.canvasContainer.ctx.overlay=N.overlay}}},{key:"initInputStream",value:function(D){if(this.context.config&&this.context.config.inputStream){var N=this.context.config.inputStream,F=N.type,U=N.constraints,ae=function(){var ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",Fe=arguments.length>1?arguments[1]:void 0,z=arguments.length>2?arguments[2]:void 0;switch(ye){case"VideoStream":var ge=document.createElement("video");return{video:ge,inputStream:z.createVideoStream(ge)};case"ImageStream":return{inputStream:z.createImageStream()};case"LiveStream":var we=null;return Fe&&((we=Fe.querySelector("video"))||(we=document.createElement("video"),Fe.appendChild(we))),{video:we,inputStream:z.createLiveStream(we)};default:return console.error("* setupInputStream invalid type ".concat(ye)),{video:null,inputStream:null}}}(F,this.getViewPort(),uo),pe=ae.video,ue=ae.inputStream;"LiveStream"===F&&pe&&fi.request(pe,U).then(function(){return ue.trigger("canrecord")}).catch(function(ye){return D(ye)}),ue&&(ue.setAttribute("preload","auto"),ue.setInputStream(this.context.config.inputStream),ue.addEventListener("canrecord",this.canRecord.bind(void 0,D))),this.context.inputStream=ue}}},{key:"getBoundingBoxes",value:function(){var D;return null!==(D=this.context.config)&&void 0!==D&&D.locate?$r.a.locate():[[Object(zr.clone)(this.context.boxSize[0]),Object(zr.clone)(this.context.boxSize[1]),Object(zr.clone)(this.context.boxSize[2]),Object(zr.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(D){var ue,ye,Fe,N=this,F=this.context.inputStream.getTopRight(),U=F.x,ae=F.y;if((0!==U||0!==ae)&&(D.barcodes&&D.barcodes.forEach(function(ue){return N.transformResult(ue)}),D.line&&2===D.line.length&&(Fe=ae,(ue=D.line)[0].x+=ye=U,ue[0].y+=Fe,ue[1].x+=ye,ue[1].y+=Fe),D.box&&aa(D.box,U,ae),D.boxes&&D.boxes.length>0))for(var pe=0;pe<D.boxes.length;pe++)aa(D.boxes[pe],U,ae)}},{key:"addResult",value:function(D,N){var F=this;N&&this.context.resultCollector&&(D.barcodes?D.barcodes.filter(function(U){return U.codeResult}).forEach(function(U){return F.addResult(U,N)}):D.codeResult&&this.context.resultCollector.addResult(N,this.context.inputStream.getCanvasSize(),D.codeResult))}},{key:"hasCodeResult",value:function(D){return!(!D||!(D.barcodes?D.barcodes.some(function(N){return N.codeResult}):D.codeResult))}},{key:"publishResult",value:function(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,N=arguments.length>1?arguments[1]:void 0,F=D;D&&this.context.onUIThread&&(this.transformResult(D),this.addResult(D,N),F=D.barcodes||D),ln.publish("processed",F),this.hasCodeResult(D)&&ln.publish("detected",F)}},{key:"locateAndDecode",value:(q=Q()(me.a.mark(function D(){var N,F,U,ae,pe;return me.a.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(!(N=this.getBoundingBoxes())){ue.next=12;break}return ue.next=4,this.context.decoder.decodeFromBoundingBoxes(N);case 4:if(ue.t0=ue.sent,ue.t0){ue.next=7;break}ue.t0={};case 7:(U=ue.t0).boxes=N,this.publishResult(U,null===(F=this.context.inputImageWrapper)||void 0===F?void 0:F.data),ue.next=16;break;case 12:return ue.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(ae=ue.sent)?this.publishResult(ae,null===(pe=this.context.inputImageWrapper)||void 0===pe?void 0:pe.data):this.publishResult();case 16:case"end":return ue.stop()}},D,this)})),function(){return q.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var D,N=this,F=null,U=1e3/((null===(D=this.context.config)||void 0===D?void 0:D.frequency)||60);this.context.stopped=!1;var ae=this.context;!function pe(ue){F=F||ue,ae.stopped||(ue>=F&&(F+=U,N.update()),window.requestAnimationFrame(pe))}(performance.now())}},{key:"start",value:function(){var D,N;this.context.onUIThread&&"LiveStream"===(null===(D=this.context.config)||void 0===D||null===(N=D.inputStream)||void 0===N?void 0:N.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(fe=Q()(me.a.mark(function D(){var N;return me.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(this.context.stopped=!0,oa(0),null===(N=this.context.config)||void 0===N||!N.inputStream||"LiveStream"!==this.context.config.inputStream.type){F.next=6;break}return F.next=5,fi.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return F.stop()}},D,this)})),function(){return fe.apply(this,arguments)})},{key:"setReaders",value:function(D){var N;this.context.decoder&&this.context.decoder.setReaders(D),N=D,Ji.forEach(function(F){return F.worker.postMessage({cmd:"setReaders",readers:N})})}},{key:"registerReader",value:function(D,N){var F,U;zt.registerReader(D,N),this.context.decoder&&this.context.decoder.registerReader(D,N),F=D,U=N,Ji.forEach(function(ae){return ae.worker.postMessage({cmd:"registerReader",name:F,reader:U})})}}]),ne}(),Si=new go,la=Si.context,Na={init:function(ne,fe,q){var D,N=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Si;return fe||(D=new Promise(function(F,U){fe=function(ae){ae?U(ae):F()}})),N.context.config=H()({},lo,ne),N.context.config.numOfWorkers>0&&(N.context.config.numOfWorkers=0),q?(N.context.onUIThread=!1,N.initializeData(q),fe&&fe()):N.initInputStream(fe),D},start:function(){return Si.start()},stop:function(){return Si.stop()},pause:function(){la.stopped=!0},onDetected:function(ne){ne&&("function"==typeof ne||"object"===O()(ne)&&ne.callback)?ln.subscribe("detected",ne):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(ne){ln.unsubscribe("detected",ne)},onProcessed:function(ne){ne&&("function"==typeof ne||"object"===O()(ne)&&ne.callback)?ln.subscribe("processed",ne):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(ne){ln.unsubscribe("processed",ne)},setReaders:function(ne){ne?Si.setReaders(ne):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(ne,fe){ne?fe?Si.registerReader(ne,fe):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(ne){ne&&"function"==typeof ne.addResult&&(la.resultCollector=ne)},get canvas(){return la.canvasContainer},decodeSingle:function(ne,fe){var q=this,D=new go;return(ne=H()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:ne.src},numOfWorkers:1,locator:{halfSample:!1}},ne)).numOfWorkers>0&&(ne.numOfWorkers=0),ne.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),ne.numOfWorkers=0),new Promise(function(N,F){try{q.init(ne,function(){ln.once("processed",function(U){D.stop(),fe&&fe.call(null,U),N(U)},!0),D.start()},null,D)}catch(U){F(U)}})},get default(){return Na},Readers:b,CameraAccess:fi,ImageDebug:Ze.a,ImageWrapper:Y.a,ResultCollector:kn};A.default=Na}]).default},6670:(bt,C,A)=>{"use strict";A.d(C,{$:()=>en,A:()=>te,B:()=>je,G:()=>Li,H:()=>Sr,J:()=>Xi,L:()=>Pn,M:()=>q,N:()=>U,P:()=>gu,Q:()=>ae,R:()=>ld,T:()=>pe,U:()=>F,V:()=>z,W:()=>ge,X:()=>xt,Y:()=>_o,Z:()=>yl,_:()=>vl,a:()=>ei,a0:()=>iu,a1:()=>nd,a2:()=>On,a3:()=>Pr,a4:()=>Ho,a5:()=>su,a6:()=>rg,a7:()=>Nh,a8:()=>Il,a9:()=>gi,aA:()=>hs,aB:()=>Yn,aC:()=>vu,aD:()=>hd,aE:()=>ar,aI:()=>Ol,aL:()=>ye,aa:()=>Gs,ab:()=>rd,ac:()=>Fh,af:()=>Al,ag:()=>id,ah:()=>ou,ak:()=>wn,al:()=>br,an:()=>sd,ao:()=>_c,ap:()=>zn,aq:()=>K,ar:()=>In,as:()=>Qt,at:()=>Oe,au:()=>Wl,av:()=>cg,aw:()=>Pe,ax:()=>oe,ay:()=>j,az:()=>Xt,b:()=>Ct,c:()=>lg,d:()=>_u,e:()=>Ys,f:()=>Z,g:()=>rn,h:()=>We,i:()=>Nr,j:()=>fn,k:()=>Kh,l:()=>jh,m:()=>ry,n:()=>ql,o:()=>Y,r:()=>Zs,s:()=>Vl,u:()=>fu});var s=A(8239),b=A(4213),v=A(1572),x=A(4762),O=A(3855),B=A(1177);const Y={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const je=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new b.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),de=new O.Yd("@firebase/auth");function ce(E,...m){de.logLevel<=O.in.ERROR&&de.error(`Auth (${v.SDK_VERSION}): ${E}`,...m)}function Oe(E,...m){throw Ne(E,...m)}function Pe(E,...m){return Ne(E,...m)}function Qe(E,m,_){const S=Object.assign(Object.assign({},Ue()),{[m]:_});return new b.LL("auth","Firebase",S).create(m,{appName:E.name})}function be(E,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Oe(E,"argument-error"),Qe(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(E,...m){if("string"!=typeof E){const _=m[0],S=[...m.slice(1)];return S[0]&&(S[0].appName=E.name),E._errorFactory.create(_,...S)}return qe.create(E,...m)}function oe(E,m,..._){if(!E)throw Ne(m,..._)}function Ie(E){const m="INTERNAL ASSERTION FAILED: "+E;throw ce(m),new Error(m)}function K(E,m){E||Ie(m)}const L=new Map;function j(E){K(E instanceof Function,"Expected a class definition");let m=L.get(E);return m?(K(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,L.set(E,m),m)}function J(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Ae(){return"http:"===Ke()||"https:"===Ke()}function Ke(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ge{constructor(m,_){this.shortDelay=m,this.longDelay=_,K(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,b.uI)()||(0,b.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ae()||(0,b.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ye(E,m){K(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class Dt{static initialize(m,_,S){this.fetchImpl=m,_&&(this.headersImpl=_),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ie("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ie("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ie("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},hn=new Ge(3e4,6e4);function wt(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function $t(E,m,_,S){return sn.apply(this,arguments)}function sn(){return(sn=(0,s.Z)(function*(E,m,_,S,G={}){return Rr(E,G,(0,s.Z)(function*(){let le={},ze={};S&&("GET"===m?ze=S:le={body:JSON.stringify(S)});const lt=(0,b.xO)(Object.assign({key:E.config.apiKey},ze)).slice(1),Lt=yield E._getAdditionalHeaders();return Lt["Content-Type"]="application/json",E.languageCode&&(Lt["X-Firebase-Locale"]=E.languageCode),Dt.fetch()(Ei(E,E.config.apiHost,_,lt),Object.assign({method:m,headers:Lt,referrerPolicy:"no-referrer"},le))}))})).apply(this,arguments)}function Rr(E,m,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,s.Z)(function*(E,m,_){E._canInitEmulator=!1;const S=Object.assign(Object.assign({},Bt),m);try{const G=new Yr(E),le=yield Promise.race([_(),G.promise]);G.clearNetworkTimeout();const ze=yield le.json();if("needConfirmation"in ze)throw gr(E,"account-exists-with-different-credential",ze);if(le.ok&&!("errorMessage"in ze))return ze;{const lt=le.ok?ze.errorMessage:ze.error.message,[Lt,jt]=lt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Lt)throw gr(E,"credential-already-in-use",ze);if("EMAIL_EXISTS"===Lt)throw gr(E,"email-already-in-use",ze);const yn=S[Lt]||Lt.toLowerCase().replace(/[_\s]+/g,"-");if(jt)throw Qe(E,yn,jt);Oe(E,yn)}}catch(G){if(G instanceof b.ZR)throw G;Oe(E,"network-request-failed")}})).apply(this,arguments)}function Xn(E,m,_,S){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,s.Z)(function*(E,m,_,S,G={}){const le=yield $t(E,m,_,S,G);return"mfaPendingCredential"in le&&Oe(E,"multi-factor-auth-required",{_serverResponse:le}),le})).apply(this,arguments)}function Ei(E,m,_,S){const G=`${m}${_}?${S}`;return E.config.emulator?Ye(E.config,G):`${E.config.apiScheme}://${G}`}class Yr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,S)=>{this.timer=setTimeout(()=>S(Pe(this.auth,"network-request-failed")),hn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gr(E,m,_){const S={appName:E.name};_.email&&(S.email=_.email),_.phoneNumber&&(S.phoneNumber=_.phoneNumber);const G=Pe(E,m,S);return G.customData._tokenResponse=_,G}function hi(){return(hi=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Zt(E,m){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wn(E,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Un(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function An(){return(An=(0,s.Z)(function*(E,m=!1){const _=(0,b.m9)(E),S=yield _.getIdToken(m),G=En(S);oe(G&&G.exp&&G.auth_time&&G.iat,_.auth,"internal-error");const le="object"==typeof G.firebase?G.firebase:void 0,ze=null==le?void 0:le.sign_in_provider;return{claims:G,token:S,authTime:Un(Fi(G.auth_time)),issuedAtTime:Un(Fi(G.iat)),expirationTime:Un(Fi(G.exp)),signInProvider:ze||null,signInSecondFactor:(null==le?void 0:le.sign_in_second_factor)||null}})).apply(this,arguments)}function Fi(E){return 1e3*Number(E)}function En(E){const[m,_,S]=E.split(".");if(void 0===m||void 0===_||void 0===S)return ce("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,b.tV)(_);return G?JSON.parse(G):(ce("Failed to decode base64 JWT payload"),null)}catch(G){return ce("Caught error parsing JWT payload as JSON",G),null}}function Rt(E,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(E,m,_=!1){if(_)return m;try{return yield m}catch(S){throw S instanceof b.ZR&&ii(S)&&E.auth.currentUser===E&&(yield E.auth.signOut()),S}})).apply(this,arguments)}function ii({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Lr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const G=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const S=this.getInterval(m);this.timerId=setTimeout((0,s.Z)(function*(){yield _.iteration()}),S)}iteration(){var m=this;return(0,s.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class Cn{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Un(this.lastLoginAt),this.creationTime=Un(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(E){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,s.Z)(function*(E){var m;const _=E.auth,S=yield E.getIdToken(),G=yield Rt(E,Wn(_,{idToken:S}));oe(null==G?void 0:G.users.length,_,"internal-error");const le=G.users[0];E._notifyReloadListener(le);const ze=(null===(m=le.providerUserInfo)||void 0===m?void 0:m.length)?et(le.providerUserInfo):[],lt=ke(E.providerData,ze),yn=!!E.isAnonymous&&!(E.email&&le.passwordHash||(null==lt?void 0:lt.length)),Er={uid:le.localId,displayName:le.displayName||null,photoURL:le.photoUrl||null,email:le.email||null,emailVerified:le.emailVerified||!1,phoneNumber:le.phoneNumber||null,tenantId:le.tenantId||null,providerData:lt,metadata:new Cn(le.createdAt,le.lastLoginAt),isAnonymous:yn};Object.assign(E,Er)})).apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*(E){const m=(0,b.m9)(E);yield jn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function ke(E,m){return[...E.filter(S=>!m.some(G=>G.providerId===S.providerId)),...m]}function et(E){return E.map(m=>{var{providerId:_}=m,S=(0,x._T)(m,["providerId"]);return{providerId:_,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Ve(){return(Ve=(0,s.Z)(function*(E,m){const _=yield Rr(E,{},(0,s.Z)(function*(){const S=(0,b.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:G,apiKey:le}=E.config,ze=Ei(E,G,"/v1/token",`key=${le}`),lt=yield E._getAdditionalHeaders();return lt["Content-Type"]="application/x-www-form-urlencoded",Dt.fetch()(ze,{method:"POST",headers:lt,body:S})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ot{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){oe(m.idToken,"internal-error"),oe(void 0!==m.idToken,"internal-error"),oe(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(E){const m=En(E);return oe(m,"internal-error"),oe(void 0!==m.exp,"internal-error"),oe(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var S=this;return(0,s.Z)(function*(){return oe(!S.accessToken||S.refreshToken,m,"user-token-expired"),_||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(m,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var S=this;return(0,s.Z)(function*(){const{accessToken:G,refreshToken:le,expiresIn:ze}=yield function(E,m){return Ve.apply(this,arguments)}(m,_);S.updateTokensAndExpiration(G,le,Number(ze))})()}updateTokensAndExpiration(m,_,S){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(m,_){const{refreshToken:S,accessToken:G,expirationTime:le}=_,ze=new ot;return S&&(oe("string"==typeof S,"internal-error",{appName:m}),ze.refreshToken=S),G&&(oe("string"==typeof G,"internal-error",{appName:m}),ze.accessToken=G),le&&(oe("number"==typeof le,"internal-error",{appName:m}),ze.expirationTime=le),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new ot,this.toJSON())}_performRefresh(){return Ie("not implemented")}}function mt(E,m){oe("string"==typeof E||void 0===E,"internal-error",{appName:m})}class Wt{constructor(m){var{uid:_,auth:S,stsTokenManager:G}=m,le=(0,x._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=S,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=le.displayName||null,this.email=le.email||null,this.emailVerified=le.emailVerified||!1,this.phoneNumber=le.phoneNumber||null,this.photoURL=le.photoURL||null,this.isAnonymous=le.isAnonymous||!1,this.tenantId=le.tenantId||null,this.providerData=le.providerData?[...le.providerData]:[],this.metadata=new Cn(le.createdAt||void 0,le.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,s.Z)(function*(){const S=yield Rt(_,_.stsTokenManager.getToken(_.auth,m));return oe(S,_.auth,"internal-error"),_.accessToken!==S&&(_.accessToken=S,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),S})()}getIdTokenResult(m){return function(E){return An.apply(this,arguments)}(this,m)}reload(){return function(E){return Ce.apply(this,arguments)}(this)}_assign(m){this!==m&&(oe(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Wt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var S=this;return(0,s.Z)(function*(){let G=!1;m.idToken&&m.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(m),G=!0),_&&(yield jn(S)),yield S.auth._persistUserIfCurrent(S),G&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var m=this;return(0,s.Z)(function*(){const _=yield m.getIdToken();return yield Rt(m,function(E,m){return hi.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var S,G,le,ze,lt,Lt,jt,yn;const Er=null!==(S=_.displayName)&&void 0!==S?S:void 0,wa=null!==(G=_.email)&&void 0!==G?G:void 0,Zl=null!==(le=_.phoneNumber)&&void 0!==le?le:void 0,Ea=null!==(ze=_.photoURL)&&void 0!==ze?ze:void 0,Dc=null!==(lt=_.tenantId)&&void 0!==lt?lt:void 0,Qh=null!==(Lt=_._redirectEventId)&&void 0!==Lt?Lt:void 0,Ac=null!==(jt=_.createdAt)&&void 0!==jt?jt:void 0,md=null!==(yn=_.lastLoginAt)&&void 0!==yn?yn:void 0,{uid:_d,emailVerified:xc,isAnonymous:yd,providerData:Iu,stsTokenManager:mg}=_;oe(_d&&mg,m,"internal-error");const Vr=ot.fromJSON(this.name,mg);oe("string"==typeof _d,m,"internal-error"),mt(Er,m.name),mt(wa,m.name),oe("boolean"==typeof xc,m,"internal-error"),oe("boolean"==typeof yd,m,"internal-error"),mt(Zl,m.name),mt(Ea,m.name),mt(Dc,m.name),mt(Qh,m.name),mt(Ac,m.name),mt(md,m.name);const fs=new Wt({uid:_d,auth:m,email:wa,emailVerified:xc,displayName:Er,isAnonymous:yd,photoURL:Ea,phoneNumber:Zl,tenantId:Dc,stsTokenManager:Vr,createdAt:Ac,lastLoginAt:md});return Iu&&Array.isArray(Iu)&&(fs.providerData=Iu.map(_g=>Object.assign({},_g))),Qh&&(fs._redirectEventId=Qh),fs}static _fromIdTokenResponse(m,_,S=!1){return(0,s.Z)(function*(){const G=new ot;G.updateFromServerResponse(_);const le=new Wt({uid:_.localId,auth:m,stsTokenManager:G,isAnonymous:S});return yield jn(le),le})()}}const Pn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(_,S){var G=this;return(0,s.Z)(function*(){G.storage[_]=S})()}_get(_){var S=this;return(0,s.Z)(function*(){const G=S.storage[_];return void 0===G?null:G})()}_remove(_){var S=this;return(0,s.Z)(function*(){delete S.storage[_]})()}_addListener(_,S){}_removeListener(_,S){}}return E.type="NONE",E})();function Xt(E,m,_){return`firebase:${E}:${m}:${_}`}class _r{constructor(m,_,S){this.persistence=m,this.auth=_,this.userKey=S;const{config:G,name:le}=this.auth;this.fullUserKey=Xt(this.userKey,G.apiKey,le),this.fullPersistenceKey=Xt("persistence",G.apiKey,le),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,s.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Wt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,s.Z)(function*(){if(_.persistence===m)return;const S=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,S?_.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,S="authUser"){return(0,s.Z)(function*(){if(!_.length)return new _r(j(Pn),m,S);const G=(yield Promise.all(_.map(function(){var jt=(0,s.Z)(function*(yn){if(yield yn._isAvailable())return yn});return function(yn){return jt.apply(this,arguments)}}()))).filter(jt=>jt);let le=G[0]||j(Pn);const ze=Xt(S,m.config.apiKey,m.name);let lt=null;for(const jt of _)try{const yn=yield jt._get(ze);if(yn){const Er=Wt._fromJSON(m,yn);jt!==le&&(lt=Er),le=jt;break}}catch(yn){}const Lt=G.filter(jt=>jt._shouldAllowMigration);return le._shouldAllowMigration&&Lt.length?(le=Lt[0],lt&&(yield le._set(ze,lt.toJSON())),yield Promise.all(_.map(function(){var jt=(0,s.Z)(function*(yn){if(yn!==le)try{yield yn._remove(ze)}catch(Er){}});return function(yn){return jt.apply(this,arguments)}}())),new _r(le,m,S)):new _r(le,m,S)})()}}function He(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(yt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Re(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(zt(m))return"Blackberry";if(ln(m))return"Webos";if(Me(m))return"Safari";if((m.includes("chrome/")||st(m))&&!m.includes("edge/"))return"Chrome";if(Qt(m))return"Android";{const S=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function Re(E=(0,b.z$)()){return/firefox\//i.test(E)}function Me(E=(0,b.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function st(E=(0,b.z$)()){return/crios\//i.test(E)}function yt(E=(0,b.z$)()){return/iemobile/i.test(E)}function Qt(E=(0,b.z$)()){return/android/i.test(E)}function zt(E=(0,b.z$)()){return/blackberry/i.test(E)}function ln(E=(0,b.z$)()){return/webos/i.test(E)}function In(E=(0,b.z$)()){return/iphone|ipad|ipod/i.test(E)}function zn(E=(0,b.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Vt(E=(0,b.z$)()){return In(E)||Qt(E)||ln(E)||zt(E)||/windows phone/i.test(E)||yt(E)}function Qr(E,m=[]){let _;switch(E){case"Browser":_=He((0,b.z$)());break;case"Worker":_=`${He((0,b.z$)())}-${E}`;break;default:_=E}const S=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${v.SDK_VERSION}/${S}`}class Ii{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const S=le=>new Promise((ze,lt)=>{try{ze(m(le))}catch(Lt){lt(Lt)}});S.onAbort=_,this.queue.push(S);const G=this.queue.length-1;return()=>{this.queue[G]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,s.Z)(function*(){if(_.auth.currentUser===m)return;const S=[];try{for(const G of _.queue)yield G(m),G.onAbort&&S.push(G.onAbort)}catch(G){S.reverse();for(const le of S)try{le()}catch(ze){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:G.message})}})()}}class Tr{constructor(m,_,S){this.app=m,this.heartbeatServiceProvider=_,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lr(this),this.idTokenSubscription=new lr(this),this.beforeStateQueue=new Ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(m,_){var S=this;return _&&(this._popupRedirectResolver=j(_)),this._initializationPromise=this.queue((0,s.Z)(function*(){var G,le;if(!S._deleted&&(S.persistenceManager=yield _r.create(S,m),!S._deleted)){if(null===(G=S._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch(ze){}yield S.initializeCurrentUser(_),S.lastNotifiedUid=(null===(le=S.currentUser)||void 0===le?void 0:le.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,s.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,s.Z)(function*(){var S;const G=yield _.assertedPersistence.getCurrentUser();let le=G,ze=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const lt=null===(S=_.redirectUser)||void 0===S?void 0:S._redirectEventId,Lt=null==le?void 0:le._redirectEventId,jt=yield _.tryRedirectSignIn(m);(!lt||lt===Lt)&&(null==jt?void 0:jt.user)&&(le=jt.user,ze=!0)}if(!le)return _.directlySetCurrentUser(null);if(!le._redirectEventId){if(ze)try{yield _.beforeStateQueue.runMiddleware(le)}catch(lt){le=G,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(lt))}return le?_.reloadAndSetCurrentUserOrClear(le):_.directlySetCurrentUser(null)}return oe(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===le._redirectEventId?_.directlySetCurrentUser(le):_.reloadAndSetCurrentUserOrClear(le)})()}tryRedirectSignIn(m){var _=this;return(0,s.Z)(function*(){let S=null;try{S=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(G){yield _._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,s.Z)(function*(){try{yield jn(m)}catch(S){if("auth/network-request-failed"!==S.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,s.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,s.Z)(function*(){const S=m?(0,b.m9)(m):null;return S&&oe(S.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(S&&S._clone(_))})()}_updateCurrentUser(m,_=!1){var S=this;return(0,s.Z)(function*(){if(!S._deleted)return m&&oe(S.tenantId===m.tenantId,S,"tenant-id-mismatch"),_||(yield S.beforeStateQueue.runMiddleware(m)),S.queue((0,s.Z)(function*(){yield S.directlySetCurrentUser(m),S.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,s.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,s.Z)(function*(){yield _.assertedPersistence.setPersistence(j(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new b.LL("auth","Firebase",m())}onAuthStateChanged(m,_,S){return this.registerStateListener(this.authStateSubscription,m,_,S)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,S){return this.registerStateListener(this.idTokenSubscription,m,_,S)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var S=this;return(0,s.Z)(function*(){const G=yield S.getOrInitRedirectPersistenceManager(_);return null===m?G.removeCurrentUser():G.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,s.Z)(function*(){if(!_.redirectPersistenceManager){const S=m&&j(m)||_._popupRedirectResolver;oe(S,_,"argument-error"),_.redirectPersistenceManager=yield _r.create(_,[j(S._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,s.Z)(function*(){var S,G;return _._isInitialized&&(yield _.queue((0,s.Z)(function*(){}))),(null===(S=_._currentUser)||void 0===S?void 0:S._redirectEventId)===m?_._currentUser:(null===(G=_.redirectUser)||void 0===G?void 0:G._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,s.Z)(function*(){if(m===_.currentUser)return _.queue((0,s.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,S,G){if(this._deleted)return()=>{};const le="function"==typeof _?_:_.next.bind(_),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ze,this,"internal-error"),ze.then(()=>le(this.currentUser)),"function"==typeof _?m.addObserver(_,S,G):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,s.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,s.Z)(function*(){var _;const S={"X-Client-Version":m.clientVersion};m.app.options.appId&&(S["X-Firebase-gmpid"]=m.app.options.appId);const G=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return G&&(S["X-Firebase-Client"]=G),S})()}}function ar(E){return(0,b.m9)(E)}class lr{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,b.ne)(_=>this.observer=_)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Li(E,m,_){const S=ar(E);oe(S._canInitEmulator,S,"emulator-config-failed"),oe(/^https?:\/\//.test(m),S,"invalid-emulator-scheme");const G=!!(null==_?void 0:_.disableWarnings),le=Ss(m),{host:ze,port:lt}=function(E){const m=Ss(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!_)return{host:"",port:null};const S=_[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(S);if(G){const le=G[1];return{host:le,port:Yi(S.substr(le.length+1))}}{const[le,ze]=S.split(":");return{host:le,port:Yi(ze)}}}(m);S.config.emulator={url:`${le}//${ze}${null===lt?"":`:${lt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:ze,port:lt,protocol:le.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function(){function E(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Ss(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function Yi(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class Sr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Ie("not implemented")}_getIdTokenResponse(m){return Ie("not implemented")}_linkToIdToken(m,_){return Ie("not implemented")}_getReauthenticationResolver(m){return Ie("not implemented")}}function fi(E,m){return kn.apply(this,arguments)}function kn(){return(kn=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:resetPassword",wt(E,m))})).apply(this,arguments)}function lo(E,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Gr(E,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:update",wt(E,m))})).apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signInWithPassword",wt(E,m))})).apply(this,arguments)}function Bi(E,m){return Us.apply(this,arguments)}function Us(){return(Us=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:sendOobCode",wt(E,m))})).apply(this,arguments)}function Xr(E,m){return js.apply(this,arguments)}function js(){return(js=(0,s.Z)(function*(E,m){return Bi(E,m)})).apply(this,arguments)}function cs(E,m){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.Z)(function*(E,m){return Bi(E,m)})).apply(this,arguments)}function No(E,m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,s.Z)(function*(E,m){return Bi(E,m)})).apply(this,arguments)}function li(E,m){return co.apply(this,arguments)}function co(){return(co=(0,s.Z)(function*(E,m){return Bi(E,m)})).apply(this,arguments)}function uo(){return(uo=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signInWithEmailLink",wt(E,m))})).apply(this,arguments)}function sa(){return(sa=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signInWithEmailLink",wt(E,m))})).apply(this,arguments)}class Fo extends Sr{constructor(m,_,S,G=null){super("password",S),this._email=m,this._password=_,this._tenantId=G}static _fromEmailAndPassword(m,_){return new Fo(m,_,"password")}static _fromEmailAndCode(m,_,S=null){return new Fo(m,_,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,s.Z)(function*(){switch(_.signInMethod){case"password":return function(E,m){return ls.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(E,m){return uo.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Oe(m,"internal-error")}})()}_linkToIdToken(m,_){var S=this;return(0,s.Z)(function*(){switch(S.signInMethod){case"password":return lo(m,{idToken:_,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(E,m){return sa.apply(this,arguments)}(m,{idToken:_,email:S._email,oobCode:S._password});default:Oe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Dr(E,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signInWithIdp",wt(E,m))})).apply(this,arguments)}class Xi extends Sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new Xi(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Oe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:G}=_,le=(0,x._T)(_,["providerId","signInMethod"]);if(!S||!G)return null;const ze=new Xi(S,G);return ze.idToken=le.idToken||void 0,ze.accessToken=le.accessToken||void 0,ze.secret=le.secret,ze.nonce=le.nonce,ze.pendingToken=le.pendingToken||null,ze}_getIdTokenResponse(m){return Dr(m,this.buildRequest())}_linkToIdToken(m,_){const S=this.buildRequest();return S.idToken=_,Dr(m,S)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Dr(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,b.xO)(_)}return m}}function _l(E,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:sendVerificationCode",wt(E,m))})).apply(this,arguments)}function fo(){return(fo=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signInWithPhoneNumber",wt(E,m))})).apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(E,m){const _=yield Xn(E,"POST","/v1/accounts:signInWithPhoneNumber",wt(E,m));if(_.temporaryProof)throw gr(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const oa={USER_NOT_FOUND:"user-not-found"};function go(){return(go=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signInWithPhoneNumber",wt(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),oa)})).apply(this,arguments)}class Si extends Sr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Si({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Si({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function(E,m){return fo.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function(E,m){return po.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(E,m){return go.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:S,verificationCode:G}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:S,code:G}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:S,phoneNumber:G,temporaryProof:le}=m;return S||_||G||le?new Si({verificationId:_,verificationCode:S,phoneNumber:G,temporaryProof:le}):null}}class ne{constructor(m){var _,S,G,le,ze,lt;const Lt=(0,b.zd)((0,b.pd)(m)),jt=null!==(_=Lt.apiKey)&&void 0!==_?_:null,yn=null!==(S=Lt.oobCode)&&void 0!==S?S:null,Er=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Lt.mode)&&void 0!==G?G:null);oe(jt&&yn&&Er,"argument-error"),this.apiKey=jt,this.operation=Er,this.code=yn,this.continueUrl=null!==(le=Lt.continueUrl)&&void 0!==le?le:null,this.languageCode=null!==(ze=Lt.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(lt=Lt.tenantId)&&void 0!==lt?lt:null}static parseLink(m){const _=function(E){const m=(0,b.zd)((0,b.pd)(E)).link,_=m?(0,b.zd)((0,b.pd)(m)).deep_link_id:null,S=(0,b.zd)((0,b.pd)(E)).deep_link_id;return(S?(0,b.zd)((0,b.pd)(S)).link:null)||S||_||m||E}(m);try{return new ne(_)}catch(S){return null}}}let q=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(_,S){return Fo._fromEmailAndPassword(_,S)}static credentialWithLink(_,S){const G=ne.parseLink(S);return oe(G,"argument-error"),Fo._fromEmailAndCode(_,G.code,G.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class D{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class N extends D{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class F extends N{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return oe("providerId"in _&&"signInMethod"in _,"argument-error"),Xi._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return oe(m.idToken||m.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return F.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return F.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:S,oauthTokenSecret:G,pendingToken:le,nonce:ze,providerId:lt}=m;if(!S&&!G&&!_&&!le||!lt)return null;try{return new F(lt)._credential({idToken:_,accessToken:S,nonce:ze,pendingToken:le})}catch(Lt){return null}}}let U=(()=>{class E extends N{constructor(){super("facebook.com")}static credential(_){return Xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(S){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ae=(()=>{class E extends N{constructor(){super("google.com"),this.addScope("profile")}static credential(_,S){return Xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:S})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:S,oauthAccessToken:G}=_;if(!S&&!G)return null;try{return E.credential(S,G)}catch(le){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),pe=(()=>{class E extends N{constructor(){super("github.com")}static credential(_){return Xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(S){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class ye extends Sr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Dr(m,this.buildRequest())}_linkToIdToken(m,_){const S=this.buildRequest();return S.idToken=_,Dr(m,S)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Dr(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:S,signInMethod:G,pendingToken:le}=_;return S&&G&&le&&S===G?new ye(S,le):null}static _create(m,_){return new ye(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class z extends D{constructor(m){oe(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return z.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return z.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=ye.fromJSON(m);return oe(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:S}=m;if(!_||!S)return null;try{return ye._create(S,_)}catch(G){return null}}}let ge=(()=>{class E extends N{constructor(){super("twitter.com")}static credential(_,S){return Xi._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:S})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:S,oauthTokenSecret:G}=_;if(!S||!G)return null;try{return E.credential(S,G)}catch(le){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function we(E,m){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signUp",wt(E,m))})).apply(this,arguments)}class dt{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,S,G=!1){return(0,s.Z)(function*(){const le=yield Wt._fromIdTokenResponse(m,S,G),ze=At(S);return new dt({user:le,providerId:ze,_tokenResponse:S,operationType:_})})()}static _forOperation(m,_,S){return(0,s.Z)(function*(){yield m._updateTokensIfNecessary(S,!0);const G=At(S);return new dt({user:m,providerId:G,_tokenResponse:S,operationType:_})})()}}function At(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function xt(E){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(E){var m;const _=ar(E);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new dt({user:_.currentUser,providerId:null,operationType:"signIn"});const S=yield we(_,{returnSecureToken:!0}),G=yield dt._fromIdTokenResponse(_,"signIn",S,!0);return yield _._updateCurrentUser(G.user),G})).apply(this,arguments)}class Jt extends b.ZR{constructor(m,_,S,G){var le;super(_.code,_.message),this.operationType=S,this.user=G,Object.setPrototypeOf(this,Jt.prototype),this.customData={appName:m.name,tenantId:null!==(le=m.tenantId)&&void 0!==le?le:void 0,_serverResponse:_.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(m,_,S,G){return new Jt(m,_,S,G)}}function Gn(E,m,_,S){return("reauthenticate"===m?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(le=>{throw"auth/multi-factor-auth-required"===le.code?Jt._fromErrorAndOperation(E,le,m,S):le})}function yr(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function wn(E,m){return mo.apply(this,arguments)}function mo(){return(mo=(0,s.Z)(function*(E,m){const _=(0,b.m9)(E);yield Lo(!0,_,m);const{providerUserInfo:S}=yield Zt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),G=yr(S||[]);return _.providerData=_.providerData.filter(le=>G.has(le.providerId)),G.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function zs(E,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,s.Z)(function*(E,m,_=!1){const S=yield Rt(E,m._linkToIdToken(E.auth,yield E.getIdToken()),_);return dt._forOperation(E,"link",S)})).apply(this,arguments)}function Lo(E,m,_){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(E,m,_){yield jn(m);const G=!1===E?"provider-already-linked":"no-such-provider";oe(yr(m.providerData).has(_)===E,m.auth,G)})).apply(this,arguments)}function ca(E,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(E,m,_=!1){const{auth:S}=E,G="reauthenticate";try{const le=yield Rt(E,Gn(S,G,m,E),_);oe(le.idToken,S,"internal-error");const ze=En(le.idToken);oe(ze,S,"internal-error");const{sub:lt}=ze;return oe(E.uid===lt,S,"user-mismatch"),dt._forOperation(E,G,le)}catch(le){throw"auth/user-not-found"===(null==le?void 0:le.code)&&Oe(S,"user-mismatch"),le}})).apply(this,arguments)}function dc(E,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,s.Z)(function*(E,m,_=!1){const S="signIn",G=yield Gn(E,S,m),le=yield dt._fromIdTokenResponse(E,S,G);return _||(yield E._updateCurrentUser(le.user)),le})).apply(this,arguments)}function _o(E,m){return qn.apply(this,arguments)}function qn(){return(qn=(0,s.Z)(function*(E,m){return dc(ar(E),m)})).apply(this,arguments)}function yl(E,m){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(E,m){const _=(0,b.m9)(E);return yield Lo(!1,_,m.providerId),zs(_,m)})).apply(this,arguments)}function vl(E,m){return Di.apply(this,arguments)}function Di(){return(Di=(0,s.Z)(function*(E,m){return ca((0,b.m9)(E),m)})).apply(this,arguments)}function hc(E,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(E,m){return Xn(E,"POST","/v1/accounts:signInWithCustomToken",wt(E,m))})).apply(this,arguments)}function en(E,m){return bl.apply(this,arguments)}function bl(){return(bl=(0,s.Z)(function*(E,m){const _=ar(E),S=yield hc(_,{token:m,returnSecureToken:!0}),G=yield dt._fromIdTokenResponse(_,"signIn",S);return yield _._updateCurrentUser(G.user),G})).apply(this,arguments)}class jo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Fa._fromServerResponse(m,_):Oe(m,"internal-error")}}class Fa extends jo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Fa(_)}}function wl(E,m,_){var S;oe((null===(S=_.url)||void 0===S?void 0:S.length)>0,E,"invalid-continue-uri"),oe(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(oe(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(oe(_.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function iu(E,m,_){return El.apply(this,arguments)}function El(){return(El=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E),G={requestType:"PASSWORD_RESET",email:m};_&&wl(S,G,_),yield cs(S,G)})).apply(this,arguments)}function nd(E,m,_){return ut.apply(this,arguments)}function ut(){return(ut=(0,s.Z)(function*(E,m,_){yield fi((0,b.m9)(E),{oobCode:m,newPassword:_})})).apply(this,arguments)}function On(E,m){return yo.apply(this,arguments)}function yo(){return(yo=(0,s.Z)(function*(E,m){yield Gr((0,b.m9)(E),{oobCode:m})})).apply(this,arguments)}function Pr(E,m){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,s.Z)(function*(E,m){const _=(0,b.m9)(E),S=yield fi(_,{oobCode:m}),G=S.requestType;switch(oe(G,_,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(S.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(S.mfaInfo,_,"internal-error");default:oe(S.email,_,"internal-error")}let le=null;return S.mfaInfo&&(le=jo._fromServerResponse(ar(_),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:le},operation:G}})).apply(this,arguments)}function Ho(E,m){return pi.apply(this,arguments)}function pi(){return(pi=(0,s.Z)(function*(E,m){const{data:_}=yield Pr((0,b.m9)(E),m);return _.email})).apply(this,arguments)}function su(E,m,_){return da.apply(this,arguments)}function da(){return(da=(0,s.Z)(function*(E,m,_){const S=ar(E),G=yield we(S,{returnSecureToken:!0,email:m,password:_}),le=yield dt._fromIdTokenResponse(S,"signIn",G);return yield S._updateCurrentUser(le.user),le})).apply(this,arguments)}function rg(E,m,_){return _o((0,b.m9)(E),q.credential(m,_))}function Nh(E,m,_){return La.apply(this,arguments)}function La(){return(La=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E),G={requestType:"EMAIL_SIGNIN",email:m};oe(_.handleCodeInApp,S,"argument-error"),_&&wl(S,G,_),yield No(S,G)})).apply(this,arguments)}function Il(E,m){const _=ne.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function gi(E,m,_){return As.apply(this,arguments)}function As(){return(As=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E),G=q.credentialWithLink(m,_||J());return oe(G._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),_o(S,G)})).apply(this,arguments)}function Tl(E,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:createAuthUri",wt(E,m))})).apply(this,arguments)}function Gs(E,m){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.Z)(function*(E,m){const S={identifier:m,continueUri:Ae()?J():"http://localhost"},{signinMethods:G}=yield Tl((0,b.m9)(E),S);return G||[]})).apply(this,arguments)}function rd(E,m){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,s.Z)(function*(E,m){const _=(0,b.m9)(E),G={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&wl(_.auth,G,m);const{email:le}=yield Xr(_.auth,G);le!==E.email&&(yield E.reload())})).apply(this,arguments)}function Fh(E,m,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E),le={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};_&&wl(S.auth,le,_);const{email:ze}=yield li(S.auth,le);ze!==E.email&&(yield E.reload())})).apply(this,arguments)}function fc(E,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,s.Z)(function*(E,m){return $t(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Al(E,m){return pc.apply(this,arguments)}function pc(){return(pc=(0,s.Z)(function*(E,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const S=(0,b.m9)(E),le={idToken:yield S.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ze=yield Rt(S,fc(S.auth,le));S.displayName=ze.displayName||null,S.photoURL=ze.photoUrl||null;const lt=S.providerData.find(({providerId:Lt})=>"password"===Lt);lt&&(lt.displayName=S.displayName,lt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(ze)})).apply(this,arguments)}function id(E,m){return gc((0,b.m9)(E),m,null)}function ou(E,m){return gc((0,b.m9)(E),null,m)}function gc(E,m,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,s.Z)(function*(E,m,_){const{auth:S}=E,le={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(le.email=m),_&&(le.password=_);const ze=yield Rt(E,lo(S,le));yield E._updateTokensIfNecessary(ze,!0)})).apply(this,arguments)}class fa{constructor(m,_,S={}){this.isNewUser=m,this.providerId=_,this.profile=S}}class mc extends fa{constructor(m,_,S,G){super(m,_,S),this.username=G}}class ig extends fa{constructor(m,_){super(m,"facebook.com",_)}}class lu extends mc{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class vr extends fa{constructor(m,_){super(m,"google.com",_)}}class Go extends mc{constructor(m,_,S){super(m,"twitter.com",_,S)}}function br(E){const{user:m,_tokenResponse:_}=E;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(E){var m,_;if(!E)return null;const{providerId:S}=E,G=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},le=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!S&&(null==E?void 0:E.idToken)){const ze=null===(_=null===(m=En(E.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ze)return new fa(le,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!S)return null;switch(S){case"facebook.com":return new ig(le,G);case"github.com":return new lu(le,G);case"google.com":return new vr(le,G);case"twitter.com":return new Go(le,G,E.screenName||null);case"custom":case"anonymous":return new fa(le,null);default:return new fa(le,S,G)}}(_)}class $o{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new $o("enroll",m)}static _fromMfaPendingCredential(m){return new $o("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,S;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return $o._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(S=m.multiFactorSession)||void 0===S?void 0:S.idToken)return $o._fromIdtoken(m.multiFactorSession.idToken)}return null}}class du{constructor(m,_,S){this.session=m,this.hints=_,this.signInResolver=S}static _fromError(m,_){const S=ar(m),G=_.customData._serverResponse,le=(G.mfaInfo||[]).map(lt=>jo._fromServerResponse(S,lt));oe(G.mfaPendingCredential,S,"internal-error");const ze=$o._fromMfaPendingCredential(G.mfaPendingCredential);return new du(ze,le,function(){var lt=(0,s.Z)(function*(Lt){const jt=yield Lt._process(S,ze);delete G.mfaInfo,delete G.mfaPendingCredential;const yn=Object.assign(Object.assign({},G),{idToken:jt.idToken,refreshToken:jt.refreshToken});switch(_.operationType){case"signIn":const Er=yield dt._fromIdTokenResponse(S,_.operationType,yn);return yield S._updateCurrentUser(Er.user),Er;case"reauthenticate":return oe(_.user,S,"internal-error"),dt._forOperation(_.user,_.operationType,yn);default:Oe(S,"internal-error")}});return function(Lt){return lt.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,s.Z)(function*(){return _.signInResolver(m)})()}}function sd(E,m){var _;const S=(0,b.m9)(E),G=m;return oe(m.customData.operationType,S,"argument-error"),oe(null===(_=G.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,S,"argument-error"),du._fromError(S,G)}function Ar(E,m){return $t(E,"POST","/v2/accounts/mfaEnrollment:start",wt(E,m))}class od{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(S=>jo._fromServerResponse(m.auth,S)))})}static _fromUser(m){return new od(m)}getSession(){var m=this;return(0,s.Z)(function*(){return $o._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var S=this;return(0,s.Z)(function*(){const G=m,le=yield S.getSession(),ze=yield Rt(S.user,G._process(S.user.auth,le,_));return yield S.user._updateTokensIfNecessary(ze),S.user.reload()})()}unenroll(m){var _=this;return(0,s.Z)(function*(){const S="string"==typeof m?m:m.uid,G=yield _.user.getIdToken(),le=yield Rt(_.user,function(E,m){return $t(E,"POST","/v2/accounts/mfaEnrollment:withdraw",wt(E,m))}(_.user.auth,{idToken:G,mfaEnrollmentId:S}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ze})=>ze!==S),yield _.user._updateTokensIfNecessary(le);try{yield _.user.reload()}catch(ze){if("auth/user-token-expired"!==ze.code)throw ze}})()}}const Va=new WeakMap;function _c(E){const m=(0,b.m9)(E);return Va.has(m)||Va.set(m,od._fromUser(m)),Va.get(m)}const Ua="__sak";class yc{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ua,"1"),this.storage.removeItem(Ua),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ct=(()=>{class E extends yc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,S)=>this.onStorageEvent(_,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,b.z$)();return Me(E)||In(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=Vt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const S of Object.keys(this.listeners)){const G=this.storage.getItem(S),le=this.localCache[S];G!==le&&_(S,le,G)}}onStorageEvent(_,S=!1){if(!_.key)return void this.forAllChangedKeys((lt,Lt,jt)=>{this.notifyListeners(lt,jt)});const G=_.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const lt=this.storage.getItem(G);if(_.newValue!==lt)null!==_.newValue?this.storage.setItem(G,_.newValue):this.storage.removeItem(G);else if(this.localCache[G]===_.newValue&&!S)return}const le=()=>{const lt=this.storage.getItem(G);!S&&this.localCache[G]===lt||this.notifyListeners(G,lt)},ze=this.storage.getItem(G);(0,b.w1)()&&10===document.documentMode&&ze!==_.newValue&&_.newValue!==_.oldValue?setTimeout(le,10):le()}notifyListeners(_,S){this.localCache[_]=S;const G=this.listeners[_];if(G)for(const le of Array.from(G))le(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,S,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:S,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,S){var G=()=>super._set,le=this;return(0,s.Z)(function*(){yield G().call(le,_,S),le.localCache[_]=JSON.stringify(S)})()}_get(_){var S=()=>super._get,G=this;return(0,s.Z)(function*(){const le=yield S().call(G,_);return G.localCache[_]=JSON.stringify(le),le})()}_remove(_){var S=()=>super._remove,G=this;return(0,s.Z)(function*(){yield S().call(G,_),delete G.localCache[_]})()}}return E.type="LOCAL",E})(),ei=(()=>{class E extends yc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,S){}_removeListener(_,S){}}return E.type="SESSION",E})();let ga=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const S=this.receivers.find(le=>le.isListeningto(_));if(S)return S;const G=new E(_);return this.receivers.push(G),G}isListeningto(_){return this.eventTarget===_}handleEvent(_){var S=this;return(0,s.Z)(function*(){const G=_,{eventId:le,eventType:ze,data:lt}=G.data,Lt=S.handlersMap[ze];if(!(null==Lt?void 0:Lt.size))return;G.ports[0].postMessage({status:"ack",eventId:le,eventType:ze});const jt=Array.from(Lt).map(function(){var Er=(0,s.Z)(function*(wa){return wa(G.origin,lt)});return function(wa){return Er.apply(this,arguments)}}()),yn=yield function(E){return Promise.all(E.map(function(){var m=(0,s.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(S){return{fulfilled:!1,reason:S}}});return function(_){return m.apply(this,arguments)}}()))}(jt);G.ports[0].postMessage({status:"done",eventId:le,eventType:ze,response:yn})})()}_subscribe(_,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(S)}_unsubscribe(_,S){this.handlersMap[_]&&S&&this.handlersMap[_].delete(S),(!S||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Ol(E="",m=10){let _="";for(let S=0;S<m;S++)_+=Math.floor(10*Math.random());return E+_}class ja{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,S=50){var G=this;return(0,s.Z)(function*(){const le="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!le)throw new Error("connection_unavailable");let ze,lt;return new Promise((Lt,jt)=>{const yn=Ol("",20);le.port1.start();const Er=setTimeout(()=>{jt(new Error("unsupported_event"))},S);lt={messageChannel:le,onMessage(wa){const Zl=wa;if(Zl.data.eventId===yn)switch(Zl.data.status){case"ack":clearTimeout(Er),ze=setTimeout(()=>{jt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),Lt(Zl.data.response);break;default:clearTimeout(Er),clearTimeout(ze),jt(new Error("invalid_response"))}}},G.handlers.add(lt),le.port1.addEventListener("message",lt.onMessage),G.target.postMessage({eventType:m,eventId:yn,data:_},[le.port2])}).finally(()=>{lt&&G.removeMessageHandler(lt)})})()}}function xr(){return window}function vc(){return void 0!==xr().WorkerGlobalScope&&"function"==typeof xr().importScripts}function Mt(){return(Mt=(0,s.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const qo="firebaseLocalStorageDb",Kn="firebaseLocalStorage",Nl="fbase_key";class xs{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function wc(E,m){return E.transaction([Kn],m?"readwrite":"readonly").objectStore(Kn)}function Fl(){const E=indexedDB.open(qo,1);return new Promise((m,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const S=E.result;try{S.createObjectStore(Kn,{keyPath:Nl})}catch(G){_(G)}}),E.addEventListener("success",(0,s.Z)(function*(){const S=E.result;S.objectStoreNames.contains(Kn)?m(S):(S.close(),yield function(){const E=indexedDB.deleteDatabase(qo);return new xs(E).toPromise()}(),m(yield Fl()))}))})}function ma(E,m,_){return $s.apply(this,arguments)}function $s(){return($s=(0,s.Z)(function*(E,m,_){const S=wc(E,!0).put({[Nl]:m,value:_});return new xs(S).toPromise()})).apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(E,m){const _=wc(E,!1).get(m),S=yield new xs(_).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function mi(E,m){const _=wc(E,!0).delete(m);return new xs(_).toPromise()}const Nr=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,s.Z)(function*(){return _.db||(_.db=yield Fl()),_.db})()}_withRetries(_){var S=this;return(0,s.Z)(function*(){let G=0;for(;;)try{const le=yield S._openDb();return yield _(le)}catch(le){if(G++>3)throw le;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,s.Z)(function*(){return vc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,s.Z)(function*(){_.receiver=ga._getInstance(vc()?self:null),_.receiver._subscribe("keyChanged",function(){var S=(0,s.Z)(function*(G,le){return{keyProcessed:(yield _._poll()).includes(le.key)}});return function(G,le){return S.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var S=(0,s.Z)(function*(G,le){return["keyChanged"]});return function(G,le){return S.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,s.Z)(function*(){var S,G;if(_.activeServiceWorker=yield function(){return Mt.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new ja(_.activeServiceWorker);const le=yield _.sender._send("ping",{},800);!le||(null===(S=le[0])||void 0===S?void 0:S.fulfilled)&&(null===(G=le[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var S=this;return(0,s.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:_},S.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Fl();return yield ma(_,Ua,"1"),yield mi(_,Ua),!0}catch(_){}return!1})()}_withPendingWrite(_){var S=this;return(0,s.Z)(function*(){S.pendingWrites++;try{yield _()}finally{S.pendingWrites--}})()}_set(_,S){var G=this;return(0,s.Z)(function*(){return G._withPendingWrite((0,s.Z)(function*(){return yield G._withRetries(le=>ma(le,_,S)),G.localCache[_]=S,G.notifyServiceWorker(_)}))})()}_get(_){var S=this;return(0,s.Z)(function*(){const G=yield S._withRetries(le=>function(E,m){return vo.apply(this,arguments)}(le,_));return S.localCache[_]=G,G})()}_remove(_){var S=this;return(0,s.Z)(function*(){return S._withPendingWrite((0,s.Z)(function*(){return yield S._withRetries(G=>mi(G,_)),delete S.localCache[_],S.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,s.Z)(function*(){const S=yield _._withRetries(ze=>{const lt=wc(ze,!1).getAll();return new xs(lt).toPromise()});if(!S)return[];if(0!==_.pendingWrites)return[];const G=[],le=new Set;for(const{fbase_key:ze,value:lt}of S)le.add(ze),JSON.stringify(_.localCache[ze])!==JSON.stringify(lt)&&(_.notifyListeners(ze,lt),G.push(ze));for(const ze of Object.keys(_.localCache))_.localCache[ze]&&!le.has(ze)&&(_.notifyListeners(ze,null),G.push(ze));return G})()}notifyListeners(_,S){this.localCache[_]=S;const G=this.listeners[_];if(G)for(const le of Array.from(G))le(S)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(S)}_removeListener(_,S){this.listeners[_]&&(this.listeners[_].delete(S),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function _a(E,m){return $t(E,"POST","/v2/accounts/mfaSignIn:start",wt(E,m))}function rr(){return(rr=(0,s.Z)(function*(E){return(yield $t(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bo(E){return new Promise((m,_)=>{const S=document.createElement("script");S.setAttribute("src",E),S.onload=m,S.onerror=G=>{const le=Pe("internal-error");le.customData=G,_(le)},S.type="text/javascript",S.charset="UTF-8",function(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(S)})}function es(E){return`__${E}${Math.floor(1e6*Math.random())}`}const er=1e12;class us{constructor(m){this.auth=m,this.counter=er,this._widgets=new Map}render(m,_){const S=this.counter;return this._widgets.set(S,new za(m,this.auth.name,_||{})),this.counter++,S}reset(m){var _;const S=m||er;null===(_=this._widgets.get(S))||void 0===_||_.delete(),this._widgets.delete(S)}getResponse(m){var _;return(null===(_=this._widgets.get(m||er))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,s.Z)(function*(){var S;return null===(S=_._widgets.get(m||er))||void 0===S||S.execute(),""})()}}class za{constructor(m,_,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof m?document.getElementById(m):m;oe(G,"argument-error",{appName:_}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}();const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ga=es("rcb"),K_=new Ge(3e4,6e4);class Y_{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xr().grecaptcha}load(m,_=""){return oe((E=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(xr().grecaptcha):new Promise((S,G)=>{const le=xr().setTimeout(()=>{G(Pe(m,"network-request-failed"))},K_.get());xr()[Ga]=()=>{xr().clearTimeout(le),delete xr()[Ga];const lt=xr().grecaptcha;if(!lt)return void G(Pe(m,"internal-error"));const Lt=lt.render;lt.render=(jt,yn)=>{const Er=Lt(jt,yn);return this.counter++,Er},this.hostLanguage=_,S(lt)},bo(`https://www.google.com/recaptcha/api.js??${(0,b.xO)({onload:Ga,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(le),G(Pe(m,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!xr().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ui{load(m){return(0,s.Z)(function*(){return new us(m)})()}clearedOneInstance(){}}const hu="recaptcha",Vi={theme:"light",type:"image"};class ld{constructor(m,_=Object.assign({},Vi),S){this.parameters=_,this.type=hu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ar(S),this.isInvisible="invisible"===this.parameters.size,oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof m?document.getElementById(m):m;oe(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ui:new Y_,this.validateStartingState()}verify(){var m=this;return(0,s.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),S=m.getAssertedRecaptcha();return S.getResponse(_)||new Promise(le=>{const ze=lt=>{!lt||(m.tokenChangeListeners.delete(ze),le(lt))};m.tokenChangeListeners.add(ze),m.isInvisible&&S.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(S=>S(_)),"function"==typeof m)m(_);else if("string"==typeof m){const S=xr()[m];"function"==typeof S&&S(_)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,s.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const S=document.createElement("div");_.appendChild(S),_=S}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,s.Z)(function*(){oe(Ae()&&!vc(),m.auth,"internal-error"),yield function(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function(E){return rr.apply(this,arguments)}(m.auth);oe(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $a{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Si._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Vl(E,m,_){return cd.apply(this,arguments)}function cd(){return(cd=(0,s.Z)(function*(E,m,_){const S=ar(E),G=yield Zo(S,m,(0,b.m9)(_));return new $a(G,le=>_o(S,le))})).apply(this,arguments)}function jh(E,m,_){return ts.apply(this,arguments)}function ts(){return(ts=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E);yield Lo(!1,S,"phone");const G=yield Zo(S.auth,m,(0,b.m9)(_));return new $a(G,le=>yl(S,le))})).apply(this,arguments)}function Zs(E,m,_){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E),G=yield Zo(S.auth,m,(0,b.m9)(_));return new $a(G,le=>vl(S,le))})).apply(this,arguments)}function Zo(E,m,_){return wo.apply(this,arguments)}function wo(){return(wo=(0,s.Z)(function*(E,m,_){var S;const G=yield _.verify();try{let le;if(oe("string"==typeof G,E,"argument-error"),oe(_.type===hu,E,"argument-error"),le="string"==typeof m?{phoneNumber:m}:m,"session"in le){const ze=le.session;if("phoneNumber"in le)return oe("enroll"===ze.type,E,"internal-error"),(yield Ar(E,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:le.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{oe("signin"===ze.type,E,"internal-error");const lt=(null===(S=le.multiFactorHint)||void 0===S?void 0:S.uid)||le.multiFactorUid;return oe(lt,E,"missing-multi-factor-info"),(yield _a(E,{mfaPendingCredential:ze.credential,mfaEnrollmentId:lt,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield _l(E,{phoneNumber:le.phoneNumber,recaptchaToken:G});return ze}}finally{_._reset()}})).apply(this,arguments)}function fu(E,m){return pu.apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(E,m){yield zs((0,b.m9)(E),m)})).apply(this,arguments)}let gu=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=ar(_)}verifyPhoneNumber(_,S){return Zo(this.auth,_,(0,b.m9)(S))}static credential(_,S){return Si._fromVerification(_,S)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:S,temporaryProof:G}=_;return S&&G?Si._fromTokenResponse(S,G):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ko(E,m){return m?j(m):(oe(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class jl extends Sr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Dr(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Dr(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Dr(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function gn(E){return dc(E.auth,new jl(E),E.bypassAuthState)}function Ai(E){const{auth:m,user:_}=E;return oe(_,m,"internal-error"),ca(_,new jl(E),E.bypassAuthState)}function Ks(E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,s.Z)(function*(E){const{auth:m,user:_}=E;return oe(_,m,"internal-error"),zs(_,new jl(E),E.bypassAuthState)})).apply(this,arguments)}class ud{constructor(m,_,S,G,le=!1){this.auth=m,this.resolver=S,this.user=G,this.bypassAuthState=le,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,s.Z)(function*(S,G){m.pendingPromise={resolve:S,reject:G};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(le){m.reject(le)}});return function(S,G){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,s.Z)(function*(){const{urlResponse:S,sessionId:G,postBody:le,tenantId:ze,error:lt,type:Lt}=m;if(lt)return void _.reject(lt);const jt={auth:_.auth,requestUri:S,sessionId:G,tenantId:ze||void 0,postBody:le||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Lt)(jt))}catch(yn){_.reject(yn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return gn;case"linkViaPopup":case"linkViaRedirect":return Ks;case"reauthViaPopup":case"reauthViaRedirect":return Ai;default:Oe(this.auth,"internal-error")}}resolve(m){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){K(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hh=new Ge(2e3,1e4);function lg(E,m,_){return mu.apply(this,arguments)}function mu(){return(mu=(0,s.Z)(function*(E,m,_){const S=ar(E);be(E,m,D);const G=Ko(S,_);return new Ec(S,"signInViaPopup",m,G).executeNotNull()})).apply(this,arguments)}function Ys(E,m,_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E);be(S.auth,m,D);const G=Ko(S.auth,_);return new Ec(S.auth,"reauthViaPopup",m,G,S).executeNotNull()})).apply(this,arguments)}function _u(E,m,_){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E);be(S.auth,m,D);const G=Ko(S.auth,_);return new Ec(S.auth,"linkViaPopup",m,G,S).executeNotNull()})).apply(this,arguments)}let Ec=(()=>{class E extends ud{constructor(_,S,G,le,ze){super(_,S,le,ze),this.provider=G,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,s.Z)(function*(){const S=yield _.execute();return oe(S,_.auth,"internal-error"),S})()}onExecution(){var _=this;return(0,s.Z)(function*(){K(1===_.filter.length,"Popup operations only handle one event");const S=Ol();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],S),_.authWindow.associatedEvent=S,_.resolver._originValidation(_.auth).catch(G=>{_.reject(G)}),_.resolver._isIframeWebStorageSupported(_.auth,G=>{G||_.reject(Pe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var S,G;this.pollId=(null===(G=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Hh.get())};_()}}return E.currentPopupAction=null,E})();const ns=new Map;class Os extends ud{constructor(m,_,S=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,S),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,s.Z)(function*(){let S=ns.get(_.auth._key());if(!S){try{const le=(yield function(E,m){return Wa.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;S=()=>Promise.resolve(le)}catch(G){S=()=>Promise.reject(G)}ns.set(_.auth._key(),S)}return _.bypassAuthState||ns.set(_.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,S=this;return(0,s.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(S,m);if("unknown"!==m.type){if(m.eventId){const G=yield S.auth._redirectUserForId(m.eventId);if(G)return S.user=G,_().call(S,m);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Wa(){return(Wa=(0,s.Z)(function*(E,m){const _=P(m),S=k(E);if(!(yield S._isAvailable()))return!1;const G="true"===(yield S._get(_));return yield S._remove(_),G})).apply(this,arguments)}function zl(E,m){return yu.apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(E,m){return k(E)._set(P(m),"true")})).apply(this,arguments)}function hd(){ns.clear()}function vu(E,m){ns.set(E._key(),m)}function k(E){return j(E._redirectPersistence)}function P(E){return Xt("pendingRedirect",E.config.apiKey,E.name)}function Z(E,m,_){return function(E,m,_){return Te.apply(this,arguments)}(E,m,_)}function Te(){return(Te=(0,s.Z)(function*(E,m,_){const S=ar(E);be(E,m,D);const G=Ko(S,_);return yield zl(G,S),G._openRedirect(S,m,"signInViaRedirect")})).apply(this,arguments)}function We(E,m,_){return function(E,m,_){return It.apply(this,arguments)}(E,m,_)}function It(){return(It=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E);be(S.auth,m,D);const G=Ko(S.auth,_);yield zl(G,S.auth);const le=yield ds(S);return G._openRedirect(S.auth,m,"reauthViaRedirect",le)})).apply(this,arguments)}function rn(E,m,_){return function(E,m,_){return xn.apply(this,arguments)}(E,m,_)}function xn(){return(xn=(0,s.Z)(function*(E,m,_){const S=(0,b.m9)(E);be(S.auth,m,D);const G=Ko(S.auth,_);yield Lo(!1,S,m.providerId),yield zl(G,S.auth);const le=yield ds(S);return G._openRedirect(S.auth,m,"linkViaRedirect",le)})).apply(this,arguments)}function fn(E,m){return Br.apply(this,arguments)}function Br(){return(Br=(0,s.Z)(function*(E,m){return yield ar(E)._initializationPromise,Yn(E,m,!1)})).apply(this,arguments)}function Yn(E,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,s.Z)(function*(E,m,_=!1){const S=ar(E),G=Ko(S,m),ze=yield new Os(S,G,_).execute();return ze&&!_&&(delete ze.user._redirectEventId,yield S._persistUserIfCurrent(ze.user),yield S._setRedirectUser(null,m)),ze})).apply(this,arguments)}function ds(E){return ya.apply(this,arguments)}function ya(){return(ya=(0,s.Z)(function*(E){const m=Ol(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class hs{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(m,S)&&(_=!0,this.sendToConsumer(m,S),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fd(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var S;if(m.error&&!fd(m)){const G=(null===(S=m.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";_.onError(Pe(this.auth,G))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const S=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&S}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(va(m))}saveEventToCache(m){this.cachedEventUids.add(va(m)),this.lastProcessedEventTime=Date.now()}}function va(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function fd({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===(null==m?void 0:m.code)}function cg(E){return qa.apply(this,arguments)}function qa(){return(qa=(0,s.Z)(function*(E,m={}){return $t(E,"GET","/v1/projects",m)})).apply(this,arguments)}const Za=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X_=/^https?/;function pd(){return(pd=(0,s.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield cg(E);for(const _ of m)try{if(J_(_))return}catch(S){}Oe(E,"unauthorized-domain")})).apply(this,arguments)}function J_(E){const m=J(),{protocol:_,hostname:S}=new URL(m);if(E.startsWith("chrome-extension://")){const ze=new URL(E);return""===ze.hostname&&""===S?"chrome-extension:"===_&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ze.hostname===S}if(!X_.test(_))return!1;if(Za.test(E))return S===E;const G=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(S)}const nw=new Ge(3e4,6e4);function zh(){const E=xr().___jsl;if(null==E?void 0:E.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let Cc=null;function Xs(E){return Cc=Cc||function(E){return new Promise((m,_)=>{var S,G,le;function ze(){zh(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{zh(),_(Pe(E,"network-request-failed"))},timeout:nw.get()})}if(null===(G=null===(S=xr().gapi)||void 0===S?void 0:S.iframes)||void 0===G?void 0:G.Iframe)m(gapi.iframes.getContext());else{if(!(null===(le=xr().gapi)||void 0===le?void 0:le.load)){const lt=es("iframefcb");return xr()[lt]=()=>{gapi.load?ze():_(Pe(E,"network-request-failed"))},bo(`https://apis.google.com/js/api.js?onload=${lt}`).catch(Lt=>_(Lt))}ze()}}).catch(m=>{throw Cc=null,m})}(E),Cc}const Ka=new Ge(5e3,15e3),ey={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ic=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bu(E){const m=E.config;oe(m.authDomain,E,"auth-domain-config-required");const _=m.emulator?Ye(m,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,S={apiKey:m.apiKey,appName:E.name,v:v.SDK_VERSION},G=Ic.get(E.config.apiHost);G&&(S.eid=G);const le=E._getFrameworks();return le.length&&(S.fw=le.join(",")),`${_}?${(0,b.xO)(S).slice(1)}`}function $l(){return $l=(0,s.Z)(function*(E){const m=yield Xs(E),_=xr().gapi;return oe(_,E,"internal-error"),m.open({where:document.body,url:bu(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ey,dontclear:!0},S=>new Promise(function(){var G=(0,s.Z)(function*(le,ze){yield S.restyle({setHideOnLeave:!1});const lt=Pe(E,"network-request-failed"),Lt=xr().setTimeout(()=>{ze(lt)},Ka.get());function jt(){xr().clearTimeout(Lt),le(S)}S.ping(jt).then(jt,()=>{ze(lt)})});return function(le,ze){return G.apply(this,arguments)}}()))}),$l.apply(this,arguments)}const Wh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dg{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function Wl(E,m,_,S,G,le){oe(E.config.authDomain,E,"auth-domain-config-required"),oe(E.config.apiKey,E,"invalid-api-key");const ze={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:S,v:v.SDK_VERSION,eventId:G};if(m instanceof D){m.setDefaultLanguage(E.languageCode),ze.providerId=m.providerId||"",(0,b.xb)(m.getCustomParameters())||(ze.customParameters=JSON.stringify(m.getCustomParameters()));for(const[Lt,jt]of Object.entries(le||{}))ze[Lt]=jt}if(m instanceof N){const Lt=m.getScopes().filter(jt=>""!==jt);Lt.length>0&&(ze.scopes=Lt.join(","))}E.tenantId&&(ze.tid=E.tenantId);const lt=ze;for(const Lt of Object.keys(lt))void 0===lt[Lt]&&delete lt[Lt];return`${function({config:E}){return E.emulator?Ye(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,b.xO)(lt).slice(1)}`}const Cu="webStorageSupport",Kh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ei,this._completeRedirectFn=Yn,this._overrideRedirectResult=vu}_openPopup(m,_,S,G){var le=this;return(0,s.Z)(function*(){var ze;K(null===(ze=le.eventManagers[m._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const lt=Wl(m,_,S,J(),G);return function(E,m,_,S=500,G=600){const le=Math.max((window.screen.availHeight-G)/2,0).toString(),ze=Math.max((window.screen.availWidth-S)/2,0).toString();let lt="";const Lt=Object.assign(Object.assign({},Wh),{width:S.toString(),height:G.toString(),top:le,left:ze}),jt=(0,b.z$)().toLowerCase();_&&(lt=st(jt)?"_blank":_),Re(jt)&&(m=m||"http://localhost",Lt.scrollbars="yes");const yn=Object.entries(Lt).reduce((wa,[Zl,Ea])=>`${wa}${Zl}=${Ea},`,"");if(function(E=(0,b.z$)()){var m;return In(E)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(jt)&&"_self"!==lt)return function(E,m){const _=document.createElement("a");_.href=E,_.target=m;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(S)}(m||"",lt),new dg(null);const Er=window.open(m||"",lt,yn);oe(Er,E,"popup-blocked");try{Er.focus()}catch(wa){}return new dg(Er)}(m,lt,Ol())})()}_openRedirect(m,_,S,G){var le=this;return(0,s.Z)(function*(){return yield le._originValidation(m),E=Wl(m,_,S,J(),G),xr().location.href=E,new Promise(()=>{});var E})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:G,promise:le}=this.eventManagers[_];return G?Promise.resolve(G):(K(le,"If manager is not set, promise should be"),le)}const S=this.initAndGetManager(m);return this.eventManagers[_]={promise:S},S.catch(()=>{delete this.eventManagers[_]}),S}initAndGetManager(m){var _=this;return(0,s.Z)(function*(){const S=yield function(E){return $l.apply(this,arguments)}(m),G=new hs(m);return S.register("authEvent",le=>(oe(null==le?void 0:le.authEvent,m,"invalid-auth-event"),{status:G.onEvent(le.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:G},_.iframes[m._key()]=S,G})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Cu,{type:Cu},G=>{var le;const ze=null===(le=null==G?void 0:G[0])||void 0===le?void 0:le[Cu];void 0!==ze&&_(!!ze),Oe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return pd.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Vt()||Me()||In()}};class Sc extends class{constructor(m){this.factorId=m}_process(m,_,S){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,S);case"signin":return this._finalizeSignIn(m,_.credential);default:return Ie("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Sc(m)}_finalizeEnroll(m,_,S){return function(E,m){return $t(E,"POST","/v2/accounts/mfaEnrollment:finalize",wt(E,m))}(m,{idToken:_,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function(E,m){return $t(E,"POST","/v2/accounts/mfaSignIn:finalize",wt(E,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ry=(()=>{class E{constructor(){}static assertion(_){return Sc._fromCredential(_)}}return E.FACTOR_ID="phone",E})();var E,fg="@firebase/auth";class gg{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,s.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(S=>{var G;m((null===(G=S)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ql(E=(0,v.getApp)()){const m=(0,v._getProvider)(E,"auth");return m.isInitialized()?m.getImmediate():function(E,m){const _=(0,v._getProvider)(E,"auth");if(_.isInitialized()){const G=_.getImmediate(),le=_.getOptions();if((0,b.vZ)(le,null!=m?m:{}))return G;Oe(G,"already-initialized")}return _.initialize({options:m})}(E,{popupRedirectResolver:Kh,persistence:[Nr,Ct,ei]})}E="Browser",(0,v._registerComponent)(new B.wA("auth",(m,{options:_})=>{const S=m.getProvider("app").getImmediate(),G=m.getProvider("heartbeat"),{apiKey:le,authDomain:ze}=S.options;return((lt,Lt)=>{oe(le&&!le.includes(":"),"invalid-api-key",{appName:lt.name}),oe(!(null==ze?void 0:ze.includes(":")),"argument-error",{appName:lt.name});const jt={apiKey:le,authDomain:ze,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qr(E)},yn=new Tr(lt,Lt,jt);return function(E,m){const _=(null==m?void 0:m.persistence)||[],S=(Array.isArray(_)?_:[_]).map(j);(null==m?void 0:m.errorMap)&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(S,null==m?void 0:m.popupRedirectResolver)}(yn,_),yn})(S,G)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,S)=>{m.getProvider("auth-internal").initialize()})),(0,v._registerComponent)(new B.wA("auth-internal",m=>{const _=ar(m.getProvider("auth").getImmediate());return new gg(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,v.registerVersion)(fg,"0.20.1",void 0),(0,v.registerVersion)(fg,"0.20.1","esm2017")},4213:(bt,C,A)=>{"use strict";A.d(C,{BH:()=>Ze,LL:()=>J,ZR:()=>re,gQ:()=>gr,zI:()=>L,hu:()=>b,g5:()=>v,US:()=>B,tV:()=>ee,h$:()=>H,L:()=>Y,$s:()=>Lr,r3:()=>wt,Sg:()=>je,ne:()=>Ci,p$:()=>Q,vZ:()=>Or,ZB:()=>te,gK:()=>Un,pd:()=>Yr,m9:()=>Hn,z$:()=>Ue,GJ:()=>hn,jU:()=>de,ru:()=>ce,d:()=>Pe,xb:()=>sn,w1:()=>Qe,hl:()=>Ie,uI:()=>qe,UG:()=>Ee,Yr:()=>Ne,b$:()=>Oe,G6:()=>oe,Mn:()=>be,w9:()=>Bt,cI:()=>pt,UI:()=>Rr,xO:()=>Ni,zd:()=>Ei,DV:()=>$t,ug:()=>En,dS:()=>Fi,Pz:()=>rt,Dv:()=>Zn,Wj:()=>Jn,lb:()=>An,eu:()=>K});const b=function(De,Ce){if(!De)throw v(Ce)},v=function(De){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+De)},x=function(De){const Ce=[];let ke=0;for(let et=0;et<De.length;et++){let Se=De.charCodeAt(et);Se<128?Ce[ke++]=Se:Se<2048?(Ce[ke++]=Se>>6|192,Ce[ke++]=63&Se|128):55296==(64512&Se)&&et+1<De.length&&56320==(64512&De.charCodeAt(et+1))?(Se=65536+((1023&Se)<<10)+(1023&De.charCodeAt(++et)),Ce[ke++]=Se>>18|240,Ce[ke++]=Se>>12&63|128,Ce[ke++]=Se>>6&63|128,Ce[ke++]=63&Se|128):(Ce[ke++]=Se>>12|224,Ce[ke++]=Se>>6&63|128,Ce[ke++]=63&Se|128)}return Ce},B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(De,Ce){if(!Array.isArray(De))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,et=[];for(let Se=0;Se<De.length;Se+=3){const Ve=De[Se],ot=Se+1<De.length,mt=ot?De[Se+1]:0,Wt=Se+2<De.length,an=Wt?De[Se+2]:0;let _r=(15&mt)<<2|an>>6,He=63&an;Wt||(He=64,ot||(_r=64)),et.push(ke[Ve>>2],ke[(3&Ve)<<4|mt>>4],ke[_r],ke[He])}return et.join("")},encodeString(De,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(De):this.encodeByteArray(x(De),Ce)},decodeString(De,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(De):function(De){const Ce=[];let ke=0,et=0;for(;ke<De.length;){const Se=De[ke++];if(Se<128)Ce[et++]=String.fromCharCode(Se);else if(Se>191&&Se<224){const Ve=De[ke++];Ce[et++]=String.fromCharCode((31&Se)<<6|63&Ve)}else if(Se>239&&Se<365){const Wt=((7&Se)<<18|(63&De[ke++])<<12|(63&De[ke++])<<6|63&De[ke++])-65536;Ce[et++]=String.fromCharCode(55296+(Wt>>10)),Ce[et++]=String.fromCharCode(56320+(1023&Wt))}else{const Ve=De[ke++],ot=De[ke++];Ce[et++]=String.fromCharCode((15&Se)<<12|(63&Ve)<<6|63&ot)}}return Ce.join("")}(this.decodeStringToByteArray(De,Ce))},decodeStringToByteArray(De,Ce){this.init_();const ke=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,et=[];for(let Se=0;Se<De.length;){const Ve=ke[De.charAt(Se++)],mt=Se<De.length?ke[De.charAt(Se)]:0;++Se;const an=Se<De.length?ke[De.charAt(Se)]:64;++Se;const Xt=Se<De.length?ke[De.charAt(Se)]:64;if(++Se,null==Ve||null==mt||null==an||null==Xt)throw Error();et.push(Ve<<2|mt>>4),64!==an&&(et.push(mt<<4&240|an>>2),64!==Xt&&et.push(an<<6&192|Xt))}return et},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let De=0;De<this.ENCODED_VALS.length;De++)this.byteToCharMap_[De]=this.ENCODED_VALS.charAt(De),this.charToByteMap_[this.byteToCharMap_[De]]=De,this.byteToCharMapWebSafe_[De]=this.ENCODED_VALS_WEBSAFE.charAt(De),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[De]]=De,De>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(De)]=De,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(De)]=De)}}},H=function(De){const Ce=x(De);return B.encodeByteArray(Ce,!0)},Y=function(De){return H(De).replace(/\./g,"")},ee=function(De){try{return B.decodeString(De,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function Q(De){return te(void 0,De)}function te(De,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:return new Date(Ce.getTime());case Object:void 0===De&&(De={});break;case Array:De=[];break;default:return Ce}for(const ke in Ce)!Ce.hasOwnProperty(ke)||!me(ke)||(De[ke]=te(De[ke],Ce[ke]));return De}function me(De){return"__proto__"!==De}class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ce,ke)=>{this.resolve=Ce,this.reject=ke})}wrapCallback(Ce){return(ke,et)=>{ke?this.reject(ke):this.resolve(et),"function"==typeof Ce&&(this.promise.catch(()=>{}),1===Ce.length?Ce(ke):Ce(ke,et))}}}function je(De,Ce){if(De.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const et=Ce||"demo-project",Se=De.iat||0,Ve=De.sub||De.user_id;if(!Ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${et}`,aud:et,iat:Se,exp:Se+3600,auth_time:Se,sub:Ve,user_id:Ve,firebase:{sign_in_provider:"custom",identities:{}}},De);return[Y(JSON.stringify({alg:"none",type:"JWT"})),Y(JSON.stringify(ot)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(De){return!1}}function de(){return"object"==typeof self&&self.self===self}function ce(){const De="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof De&&void 0!==De.id}function Oe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return Ue().indexOf("Electron/")>=0}function Qe(){const De=Ue();return De.indexOf("MSIE ")>=0||De.indexOf("Trident/")>=0}function be(){return Ue().indexOf("MSAppHost/")>=0}function Ne(){return!1}function oe(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){return"object"==typeof indexedDB}function K(){return new Promise((De,Ce)=>{try{let ke=!0;const et="validate-browser-context-for-indexeddb-analytics-module",Se=self.indexedDB.open(et);Se.onsuccess=()=>{Se.result.close(),ke||self.indexedDB.deleteDatabase(et),De(!0)},Se.onupgradeneeded=()=>{ke=!1},Se.onerror=()=>{var Ve;Ce((null===(Ve=Se.error)||void 0===Ve?void 0:Ve.message)||"")}}catch(ke){Ce(ke)}})}function L(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class re extends Error{constructor(Ce,ke,et){super(ke),this.code=Ce,this.customData=et,this.name="FirebaseError",Object.setPrototypeOf(this,re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}}class J{constructor(Ce,ke,et){this.service=Ce,this.serviceName=ke,this.errors=et}create(Ce,...ke){const et=ke[0]||{},Se=`${this.service}/${Ce}`,Ve=this.errors[Ce],ot=Ve?function(De,Ce){return De.replace(Ke,(ke,et)=>{const Se=Ce[et];return null!=Se?String(Se):`<${et}?>`})}(Ve,et):"Error";return new re(Se,`${this.serviceName}: ${ot} (${Se}).`,et)}}const Ke=/\{\$([^}]+)}/g;function pt(De){return JSON.parse(De)}function rt(De){return JSON.stringify(De)}const Ge=function(De){let Ce={},ke={},et={},Se="";try{const Ve=De.split(".");Ce=pt(ee(Ve[0])||""),ke=pt(ee(Ve[1])||""),Se=Ve[2],et=ke.d||{},delete ke.d}catch(Ve){}return{header:Ce,claims:ke,data:et,signature:Se}},Bt=function(De){const ke=Ge(De).claims;return!!ke&&"object"==typeof ke&&ke.hasOwnProperty("iat")},hn=function(De){const Ce=Ge(De).claims;return"object"==typeof Ce&&!0===Ce.admin};function wt(De,Ce){return Object.prototype.hasOwnProperty.call(De,Ce)}function $t(De,Ce){if(Object.prototype.hasOwnProperty.call(De,Ce))return De[Ce]}function sn(De){for(const Ce in De)if(Object.prototype.hasOwnProperty.call(De,Ce))return!1;return!0}function Rr(De,Ce,ke){const et={};for(const Se in De)Object.prototype.hasOwnProperty.call(De,Se)&&(et[Se]=Ce.call(ke,De[Se],Se,De));return et}function Or(De,Ce){if(De===Ce)return!0;const ke=Object.keys(De),et=Object.keys(Ce);for(const Se of ke){if(!et.includes(Se))return!1;const Ve=De[Se],ot=Ce[Se];if(Xn(Ve)&&Xn(ot)){if(!Or(Ve,ot))return!1}else if(Ve!==ot)return!1}for(const Se of et)if(!ke.includes(Se))return!1;return!0}function Xn(De){return null!==De&&"object"==typeof De}function Ni(De){const Ce=[];for(const[ke,et]of Object.entries(De))Array.isArray(et)?et.forEach(Se=>{Ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(Se))}):Ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(et));return Ce.length?"&"+Ce.join("&"):""}function Ei(De){const Ce={};return De.replace(/^\?/,"").split("&").forEach(et=>{if(et){const[Se,Ve]=et.split("=");Ce[decodeURIComponent(Se)]=decodeURIComponent(Ve)}}),Ce}function Yr(De){const Ce=De.indexOf("?");if(!Ce)return"";const ke=De.indexOf("#",Ce);return De.substring(Ce,ke>0?ke:void 0)}class gr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let Ce=1;Ce<this.blockSize;++Ce)this.pad_[Ce]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(Ce,ke){ke||(ke=0);const et=this.W_;if("string"==typeof Ce)for(let Xt=0;Xt<16;Xt++)et[Xt]=Ce.charCodeAt(ke)<<24|Ce.charCodeAt(ke+1)<<16|Ce.charCodeAt(ke+2)<<8|Ce.charCodeAt(ke+3),ke+=4;else for(let Xt=0;Xt<16;Xt++)et[Xt]=Ce[ke]<<24|Ce[ke+1]<<16|Ce[ke+2]<<8|Ce[ke+3],ke+=4;for(let Xt=16;Xt<80;Xt++){const _r=et[Xt-3]^et[Xt-8]^et[Xt-14]^et[Xt-16];et[Xt]=4294967295&(_r<<1|_r>>>31)}let an,Pn,Se=this.chain_[0],Ve=this.chain_[1],ot=this.chain_[2],mt=this.chain_[3],Wt=this.chain_[4];for(let Xt=0;Xt<80;Xt++){Xt<40?Xt<20?(an=mt^Ve&(ot^mt),Pn=1518500249):(an=Ve^ot^mt,Pn=1859775393):Xt<60?(an=Ve&ot|mt&(Ve|ot),Pn=2400959708):(an=Ve^ot^mt,Pn=3395469782);const _r=(Se<<5|Se>>>27)+an+Wt+Pn+et[Xt]&4294967295;Wt=mt,mt=ot,ot=4294967295&(Ve<<30|Ve>>>2),Ve=Se,Se=_r}this.chain_[0]=this.chain_[0]+Se&4294967295,this.chain_[1]=this.chain_[1]+Ve&4294967295,this.chain_[2]=this.chain_[2]+ot&4294967295,this.chain_[3]=this.chain_[3]+mt&4294967295,this.chain_[4]=this.chain_[4]+Wt&4294967295}update(Ce,ke){if(null==Ce)return;void 0===ke&&(ke=Ce.length);const et=ke-this.blockSize;let Se=0;const Ve=this.buf_;let ot=this.inbuf_;for(;Se<ke;){if(0===ot)for(;Se<=et;)this.compress_(Ce,Se),Se+=this.blockSize;if("string"==typeof Ce){for(;Se<ke;)if(Ve[ot]=Ce.charCodeAt(Se),++ot,++Se,ot===this.blockSize){this.compress_(Ve),ot=0;break}}else for(;Se<ke;)if(Ve[ot]=Ce[Se],++ot,++Se,ot===this.blockSize){this.compress_(Ve),ot=0;break}}this.inbuf_=ot,this.total_+=ke}digest(){const Ce=[];let ke=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Se=this.blockSize-1;Se>=56;Se--)this.buf_[Se]=255&ke,ke/=256;this.compress_(this.buf_);let et=0;for(let Se=0;Se<5;Se++)for(let Ve=24;Ve>=0;Ve-=8)Ce[et]=this.chain_[Se]>>Ve&255,++et;return Ce}}function Ci(De,Ce){const ke=new hi(De,Ce);return ke.subscribe.bind(ke)}class hi{constructor(Ce,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{Ce(this)}).catch(et=>{this.error(et)})}next(Ce){this.forEachObserver(ke=>{ke.next(Ce)})}error(Ce){this.forEachObserver(ke=>{ke.error(Ce)}),this.close(Ce)}complete(){this.forEachObserver(Ce=>{Ce.complete()}),this.close()}subscribe(Ce,ke,et){let Se;if(void 0===Ce&&void 0===ke&&void 0===et)throw new Error("Missing Observer.");Se=function(De,Ce){if("object"!=typeof De||null===De)return!1;for(const ke of["next","error","complete"])if(ke in De&&"function"==typeof De[ke])return!0;return!1}(Ce)?Ce:{next:Ce,error:ke,complete:et},void 0===Se.next&&(Se.next=Wn),void 0===Se.error&&(Se.error=Wn),void 0===Se.complete&&(Se.complete=Wn);const Ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Se.error(this.finalError):Se.complete()}catch(ot){}}),this.observers.push(Se),Ve}unsubscribeOne(Ce){void 0===this.observers||void 0===this.observers[Ce]||(delete this.observers[Ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ce){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,Ce)}sendOne(Ce,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ce])try{ke(this.observers[Ce])}catch(et){"undefined"!=typeof console&&console.error&&console.error(et)}})}close(Ce){this.finalized||(this.finalized=!0,void 0!==Ce&&(this.finalError=Ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}const Zn=function(De,Ce,ke,et){let Se;if(et<Ce?Se="at least "+Ce:et>ke&&(Se=0===ke?"none":"no more than "+ke),Se)throw new Error(De+" failed: Was called with "+et+(1===et?" argument.":" arguments.")+" Expects "+Se+".")};function Un(De,Ce){return`${De} failed: ${Ce} argument `}function Jn(De,Ce,ke,et){if((!et||ke)&&"function"!=typeof ke)throw new Error(Un(De,Ce)+"must be a valid function.")}function An(De,Ce,ke,et){if((!et||ke)&&("object"!=typeof ke||null===ke))throw new Error(Un(De,Ce)+"must be a valid context object.")}const Fi=function(De){const Ce=[];let ke=0;for(let et=0;et<De.length;et++){let Se=De.charCodeAt(et);if(Se>=55296&&Se<=56319){const Ve=Se-55296;et++,b(et<De.length,"Surrogate pair missing trail surrogate."),Se=65536+(Ve<<10)+(De.charCodeAt(et)-56320)}Se<128?Ce[ke++]=Se:Se<2048?(Ce[ke++]=Se>>6|192,Ce[ke++]=63&Se|128):Se<65536?(Ce[ke++]=Se>>12|224,Ce[ke++]=Se>>6&63|128,Ce[ke++]=63&Se|128):(Ce[ke++]=Se>>18|240,Ce[ke++]=Se>>12&63|128,Ce[ke++]=Se>>6&63|128,Ce[ke++]=63&Se|128)}return Ce},En=function(De){let Ce=0;for(let ke=0;ke<De.length;ke++){const et=De.charCodeAt(ke);et<128?Ce++:et<2048?Ce+=2:et>=55296&&et<=56319?(Ce+=4,ke++):Ce+=3}return Ce};function Lr(De,Ce=1e3,ke=2){const et=Ce*Math.pow(ke,De),Se=Math.round(.5*et*(Math.random()-.5)*2);return Math.min(144e5,et+Se)}function Hn(De){return De&&De._delegate?De._delegate:De}},7713:(bt,C,A)=>{"use strict";A.d(C,{Mq:()=>s.getApp,C6:()=>s.getApps});var s=A(1572);(0,s.registerVersion)("firebase","9.8.1","app")},7892:(bt,C,A)=>{"use strict";A.d(C,{Z:()=>s.Z});var s=A(6293);s.Z.registerVersion("firebase","9.8.1","app-compat")},2115:(bt,C,A)=>{"use strict";A.r(C);var s=A(8239),b=A(6293),v=A(6670),x=A(4213),H=(A(1572),A(3855),A(1177));function Y(){return window}function te(){return(te=(0,s.Z)(function*(He,Re,Me){var st;const{BuildInfo:yt}=Y();(0,v.aq)(Re.sessionId,"AuthEvent did not contain a session ID");const Qt=yield de(Re.sessionId),zt={};return(0,v.ar)()?zt.ibi=yt.packageName:(0,v.as)()?zt.apn=yt.packageName:(0,v.at)(He,"operation-not-supported-in-this-environment"),yt.displayName&&(zt.appDisplayName=yt.displayName),zt.sessionId=Qt,(0,v.au)(He,Me,Re.type,void 0,null!==(st=Re.eventId)&&void 0!==st?st:void 0,zt)})).apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*(He){const{BuildInfo:Re}=Y(),Me={};(0,v.ar)()?Me.iosBundleId=Re.packageName:(0,v.as)()?Me.androidPackageName=Re.packageName:(0,v.at)(He,"operation-not-supported-in-this-environment"),yield(0,v.av)(He,Me)})).apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(He,Re,Me){const{cordova:st}=Y();let yt=()=>{};try{yield new Promise((Qt,zt)=>{let ln=null;function In(){var ct;Qt();const Vt=null===(ct=st.plugins.browsertab)||void 0===ct?void 0:ct.close;"function"==typeof Vt&&Vt(),"function"==typeof(null==Me?void 0:Me.close)&&Me.close()}function zn(){ln||(ln=window.setTimeout(()=>{zt((0,v.aw)(He,"redirect-cancelled-by-user"))},2e3))}function or(){"visible"===(null==document?void 0:document.visibilityState)&&zn()}Re.addPassiveListener(In),document.addEventListener("resume",zn,!1),(0,v.as)()&&document.addEventListener("visibilitychange",or,!1),yt=()=>{Re.removePassiveListener(In),document.removeEventListener("resume",zn,!1),document.removeEventListener("visibilitychange",or,!1),ln&&window.clearTimeout(ln)}})}finally{yt()}})).apply(this,arguments)}function de(He){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.Z)(function*(He){const Re=Oe(He),Me=yield crypto.subtle.digest("SHA-256",Re);return Array.from(new Uint8Array(Me)).map(yt=>yt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Oe(He){if((0,v.aq)(/[0-9a-zA-Z]+/.test(He),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(He);const Re=new ArrayBuffer(He.length),Me=new Uint8Array(Re);for(let st=0;st<He.length;st++)Me[st]=He.charCodeAt(st);return Me}class Qe extends v.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(Re=>{this.resolveInialized=Re})}addPassiveListener(Re){this.passiveListeners.add(Re)}removePassiveListener(Re){this.passiveListeners.delete(Re)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(Re){return this.resolveInialized(),this.passiveListeners.forEach(Me=>Me(Re)),super.onEvent(Re)}initialized(){var Re=this;return(0,s.Z)(function*(){yield Re.initPromise})()}}function oe(He){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)(function*(He){const Re=yield j()._get(X(He));return Re&&(yield j()._remove(X(He))),Re})).apply(this,arguments)}function L(){const He=[],Re="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Me=0;Me<20;Me++){const st=Math.floor(Math.random()*Re.length);He.push(Re.charAt(st))}return He.join("")}function j(){return(0,v.ay)(v.b)}function X(He){return(0,v.az)("authEvent",He.config.apiKey,He.name)}function Ae(He){if(!(null==He?void 0:He.includes("?")))return{};const[Re,...Me]=He.split("?");return(0,x.zd)(Me.join("?"))}function Ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,v.aw)("no-auth-event")}}function wt(){var He;return(null===(He=null==self?void 0:self.location)||void 0===He?void 0:He.protocol)||null}function sn(He=(0,x.z$)()){return!("file:"!==wt()&&"ionic:"!==wt()||!He.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ei(){try{const He=self.localStorage,Re=v.aI();if(He)return He.setItem(Re,"1"),He.removeItem(Re),!function(He=(0,x.z$)()){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)||function(He=(0,x.z$)()){return/Edge\/\d+/.test(He)}(He)}()||(0,x.hl)()}catch(He){return Yr()&&(0,x.hl)()}return!1}function Yr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gr(){return("http:"===wt()||"https:"===wt()||(0,x.ru)()||sn())&&!((0,x.b$)()||(0,x.UG)())&&Ei()&&!Yr()}function Ci(){return sn()&&"undefined"!=typeof document}function Zt(){return(Zt=(0,s.Z)(function*(){return!!Ci()&&new Promise(He=>{const Re=setTimeout(()=>{He(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(Re),He(!0)})})})).apply(this,arguments)}const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=v.ax,Un="persistence";function Jn(He){return An.apply(this,arguments)}function An(){return(An=(0,s.Z)(function*(He){yield He._initializationPromise;const Re=En(),Me=v.az(Un,He.config.apiKey,He.name);Re&&Re.setItem(Me,He._getPersistence())})).apply(this,arguments)}function En(){var He;try{return(null===(He="undefined"!=typeof window?window:null)||void 0===He?void 0:He.sessionStorage)||null}catch(Re){return null}}const kt=v.ax;class Rt{constructor(){this.browserResolver=v.ay(v.k),this.cordovaResolver=v.ay(class{constructor(){this._redirectPersistence=v.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(Re){var Me=this;return(0,s.Z)(function*(){const st=Re._key();let yt=Me.eventManagers.get(st);return yt||(yt=new Qe(Re),Me.eventManagers.set(st,yt),Me.attachCallbackListeners(Re,yt)),yt})()}_openPopup(Re){(0,v.at)(Re,"operation-not-supported-in-this-environment")}_openRedirect(Re,Me,st,yt){var Qt=this;return(0,s.Z)(function*(){!function(He){var Re,Me,st,yt,Qt,zt,ln,In,zn,or;const ct=Y();(0,v.ax)("function"==typeof(null===(Re=null==ct?void 0:ct.universalLinks)||void 0===Re?void 0:Re.subscribe),He,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,v.ax)(void 0!==(null===(Me=null==ct?void 0:ct.BuildInfo)||void 0===Me?void 0:Me.packageName),He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,v.ax)("function"==typeof(null===(Qt=null===(yt=null===(st=null==ct?void 0:ct.cordova)||void 0===st?void 0:st.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===Qt?void 0:Qt.openUrl),He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(In=null===(ln=null===(zt=null==ct?void 0:ct.cordova)||void 0===zt?void 0:zt.plugins)||void 0===ln?void 0:ln.browsertab)||void 0===In?void 0:In.isAvailable),He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,v.ax)("function"==typeof(null===(or=null===(zn=null==ct?void 0:ct.cordova)||void 0===zn?void 0:zn.InAppBrowser)||void 0===or?void 0:or.open),He,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(Re);const zt=yield Qt._initialize(Re);yield zt.initialized(),zt.resetRedirect(),(0,v.aD)(),yield Qt._originValidation(Re);const ln=function(He,Re,Me=null){return{type:Re,eventId:Me,urlResponse:null,sessionId:L(),postBody:null,tenantId:He.tenantId,error:(0,v.aw)(He,"no-auth-event")}}(Re,st,yt);yield function(He,Re){return j()._set(X(He),Re)}(Re,ln);const In=yield function(He,Re,Me){return te.apply(this,arguments)}(Re,ln,Me),zn=yield function(He){const{cordova:Re}=Y();return new Promise(Me=>{Re.plugins.browsertab.isAvailable(st=>{let yt=null;st?Re.plugins.browsertab.openUrl(He):yt=Re.InAppBrowser.open(He,(0,v.ap)()?"_blank":"_system","location=yes"),Me(yt)})})}(In);return function(He,Re,Me){return qe.apply(this,arguments)}(Re,zt,zn)})()}_isIframeWebStorageSupported(Re,Me){throw new Error("Method not implemented.")}_originValidation(Re){const Me=Re._key();return this.originValidationPromises[Me]||(this.originValidationPromises[Me]=function(He){return Ze.apply(this,arguments)}(Re)),this.originValidationPromises[Me]}attachCallbackListeners(Re,Me){const{universalLinks:st,handleOpenURL:yt,BuildInfo:Qt}=Y(),zt=setTimeout((0,s.Z)(function*(){yield oe(Re),Me.onEvent(Ge())}),500),ln=function(){var or=(0,s.Z)(function*(ct){clearTimeout(zt);const Vt=yield oe(Re);let Nn=null;Vt&&(null==ct?void 0:ct.url)&&(Nn=function(He,Re){var Me,st;const yt=function(He){const Re=Ae(He),Me=Re.link?decodeURIComponent(Re.link):void 0,st=Ae(Me).link,yt=Re.deep_link_id?decodeURIComponent(Re.deep_link_id):void 0;return Ae(yt).link||yt||st||Me||He}(Re);if(yt.includes("/__/auth/callback")){const Qt=Ae(yt),zt=Qt.firebaseError?function(He){try{return JSON.parse(He)}catch(Re){return null}}(decodeURIComponent(Qt.firebaseError)):null,ln=null===(st=null===(Me=null==zt?void 0:zt.code)||void 0===Me?void 0:Me.split("auth/"))||void 0===st?void 0:st[1],In=ln?(0,v.aw)(ln):null;return In?{type:He.type,eventId:He.eventId,tenantId:He.tenantId,error:In,urlResponse:null,sessionId:null,postBody:null}:{type:He.type,eventId:He.eventId,tenantId:He.tenantId,sessionId:He.sessionId,urlResponse:yt,postBody:null}}return null}(Vt,ct.url)),Me.onEvent(Nn||Ge())});return function(Vt){return or.apply(this,arguments)}}();void 0!==st&&"function"==typeof st.subscribe&&st.subscribe(null,ln);const In=yt,zn=`${Qt.packageName.toLowerCase()}://`;Y().handleOpenURL=function(){var or=(0,s.Z)(function*(ct){if(ct.toLowerCase().startsWith(zn)&&ln({url:ct}),"function"==typeof In)try{In(ct)}catch(Vt){console.error(Vt)}});return function(ct){return or.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=v.a,this._completeRedirectFn=v.aB,this._overrideRedirectResult=v.aC}_initialize(Re){var Me=this;return(0,s.Z)(function*(){return yield Me.selectUnderlyingResolver(),Me.assertedUnderlyingResolver._initialize(Re)})()}_openPopup(Re,Me,st,yt){var Qt=this;return(0,s.Z)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openPopup(Re,Me,st,yt)})()}_openRedirect(Re,Me,st,yt){var Qt=this;return(0,s.Z)(function*(){return yield Qt.selectUnderlyingResolver(),Qt.assertedUnderlyingResolver._openRedirect(Re,Me,st,yt)})()}_isIframeWebStorageSupported(Re,Me){this.assertedUnderlyingResolver._isIframeWebStorageSupported(Re,Me)}_originValidation(Re){return this.assertedUnderlyingResolver._originValidation(Re)}get _shouldInitProactively(){return Ci()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return kt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var Re=this;return(0,s.Z)(function*(){if(Re.underlyingResolver)return;const Me=yield function(){return Zt.apply(this,arguments)}();Re.underlyingResolver=Me?Re.cordovaResolver:Re.browserResolver})()}}function ri(He){return He.unwrap()}function Lr(He){return jn(He)}function jn(He){const{_tokenResponse:Re}=He instanceof x.ZR?He.customData:He;if(!Re)return null;if(!(He instanceof x.ZR)&&"temporaryProof"in Re&&"phoneNumber"in Re)return v.P.credentialFromResult(He);const Me=Re.providerId;if(!Me||Me===v.o.PASSWORD)return null;let st;switch(Me){case v.o.GOOGLE:st=v.Q;break;case v.o.FACEBOOK:st=v.N;break;case v.o.GITHUB:st=v.T;break;case v.o.TWITTER:st=v.W;break;default:const{oauthIdToken:yt,oauthAccessToken:Qt,oauthTokenSecret:zt,pendingToken:ln,nonce:In}=Re;return Qt||zt||yt||ln?ln?Me.startsWith("saml.")?v.aL._create(Me,ln):v.J._fromParams({providerId:Me,signInMethod:Me,pendingToken:ln,idToken:yt,accessToken:Qt}):new v.U(Me).credential({idToken:yt,accessToken:Qt,rawNonce:In}):null}return He instanceof x.ZR?st.credentialFromError(He):st.credentialFromResult(He)}function Hn(He,Re){return Re.catch(Me=>{throw Me instanceof x.ZR&&function(He,Re){var Me;const st=null===(Me=Re.customData)||void 0===Me?void 0:Me._tokenResponse;if("auth/multi-factor-auth-required"===Re.code)Re.resolver=new ke(He,v.an(He,Re));else if(st){const yt=jn(Re),Qt=Re;yt&&(Qt.credential=yt,Qt.tenantId=st.tenantId||void 0,Qt.email=st.email||void 0,Qt.phoneNumber=st.phoneNumber||void 0)}}(He,Me),Me}).then(Me=>{const yt=Me.user;return{operationType:Me.operationType,credential:Lr(Me),additionalUserInfo:v.al(Me),user:et.getOrCreate(yt)}})}function De(He,Re){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,s.Z)(function*(He,Re){const Me=yield Re;return{verificationId:Me.verificationId,confirm:st=>Hn(He,Me.confirm(st))}})).apply(this,arguments)}class ke{constructor(Re,Me){this.resolver=Me,this.auth=Re.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(Re){return Hn(ri(this.auth),this.resolver.resolveSignIn(Re))}}class et{constructor(Re){this._delegate=Re,this.multiFactor=v.ao(Re)}static getOrCreate(Re){return et.USER_MAP.has(Re)||et.USER_MAP.set(Re,new et(Re)),et.USER_MAP.get(Re)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(Re){return this._delegate.getIdTokenResult(Re)}getIdToken(Re){return this._delegate.getIdToken(Re)}linkAndRetrieveDataWithCredential(Re){return this.linkWithCredential(Re)}linkWithCredential(Re){var Me=this;return(0,s.Z)(function*(){return Hn(Me.auth,v.Z(Me._delegate,Re))})()}linkWithPhoneNumber(Re,Me){var st=this;return(0,s.Z)(function*(){return De(st.auth,v.l(st._delegate,Re,Me))})()}linkWithPopup(Re){var Me=this;return(0,s.Z)(function*(){return Hn(Me.auth,v.d(Me._delegate,Re,Rt))})()}linkWithRedirect(Re){var Me=this;return(0,s.Z)(function*(){return yield Jn(v.aE(Me.auth)),v.g(Me._delegate,Re,Rt)})()}reauthenticateAndRetrieveDataWithCredential(Re){return this.reauthenticateWithCredential(Re)}reauthenticateWithCredential(Re){var Me=this;return(0,s.Z)(function*(){return Hn(Me.auth,v._(Me._delegate,Re))})()}reauthenticateWithPhoneNumber(Re,Me){return De(this.auth,v.r(this._delegate,Re,Me))}reauthenticateWithPopup(Re){return Hn(this.auth,v.e(this._delegate,Re,Rt))}reauthenticateWithRedirect(Re){var Me=this;return(0,s.Z)(function*(){return yield Jn(v.aE(Me.auth)),v.h(Me._delegate,Re,Rt)})()}sendEmailVerification(Re){return v.ab(this._delegate,Re)}unlink(Re){var Me=this;return(0,s.Z)(function*(){return yield v.ak(Me._delegate,Re),Me})()}updateEmail(Re){return v.ag(this._delegate,Re)}updatePassword(Re){return v.ah(this._delegate,Re)}updatePhoneNumber(Re){return v.u(this._delegate,Re)}updateProfile(Re){return v.af(this._delegate,Re)}verifyBeforeUpdateEmail(Re,Me){return v.ac(this._delegate,Re,Me)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}et.USER_MAP=new WeakMap;const Se=v.ax;let Ve=(()=>{class He{constructor(Me,st){if(this.app=Me,st.isInitialized())return this._delegate=st.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:yt}=Me.options;Se(yt,"invalid-api-key",{appName:Me.name}),Se(yt,"invalid-api-key",{appName:Me.name});const Qt="undefined"!=typeof window?Rt:void 0;this._delegate=st.initialize({options:{persistence:mt(yt,Me.name),popupRedirectResolver:Qt}}),this._delegate._updateErrorMap(v.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?et.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Me){this._delegate.languageCode=Me}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Me){this._delegate.tenantId=Me}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Me,st){v.G(this._delegate,Me,st)}applyActionCode(Me){return v.a2(this._delegate,Me)}checkActionCode(Me){return v.a3(this._delegate,Me)}confirmPasswordReset(Me,st){return v.a1(this._delegate,Me,st)}createUserWithEmailAndPassword(Me,st){var yt=this;return(0,s.Z)(function*(){return Hn(yt._delegate,v.a5(yt._delegate,Me,st))})()}fetchProvidersForEmail(Me){return this.fetchSignInMethodsForEmail(Me)}fetchSignInMethodsForEmail(Me){return v.aa(this._delegate,Me)}isSignInWithEmailLink(Me){return v.a8(this._delegate,Me)}getRedirectResult(){var Me=this;return(0,s.Z)(function*(){Se(gr(),Me._delegate,"operation-not-supported-in-this-environment");const st=yield v.j(Me._delegate,Rt);return st?Hn(Me._delegate,Promise.resolve(st)):{credential:null,user:null}})()}addFrameworkForLogging(Me){!function(He,Re){(0,v.aE)(He)._logFramework(Re)}(this._delegate,Me)}onAuthStateChanged(Me,st,yt){const{next:Qt,error:zt,complete:ln}=ot(Me,st,yt);return this._delegate.onAuthStateChanged(Qt,zt,ln)}onIdTokenChanged(Me,st,yt){const{next:Qt,error:zt,complete:ln}=ot(Me,st,yt);return this._delegate.onIdTokenChanged(Qt,zt,ln)}sendSignInLinkToEmail(Me,st){return v.a7(this._delegate,Me,st)}sendPasswordResetEmail(Me,st){return v.a0(this._delegate,Me,st||void 0)}setPersistence(Me){var st=this;return(0,s.Z)(function*(){let yt;switch(function(He,Re){Zn(Object.values(Wn).includes(Re),He,"invalid-persistence-type"),(0,x.b$)()?Zn(Re!==Wn.SESSION,He,"unsupported-persistence-type"):(0,x.UG)()?Zn(Re===Wn.NONE,He,"unsupported-persistence-type"):Yr()?Zn(Re===Wn.NONE||Re===Wn.LOCAL&&(0,x.hl)(),He,"unsupported-persistence-type"):Zn(Re===Wn.NONE||Ei(),He,"unsupported-persistence-type")}(st._delegate,Me),Me){case Wn.SESSION:yt=v.a;break;case Wn.LOCAL:yt=(yield v.ay(v.i)._isAvailable())?v.i:v.b;break;case Wn.NONE:yt=v.L;break;default:return v.at("argument-error",{appName:st._delegate.name})}return st._delegate.setPersistence(yt)})()}signInAndRetrieveDataWithCredential(Me){return this.signInWithCredential(Me)}signInAnonymously(){return Hn(this._delegate,v.X(this._delegate))}signInWithCredential(Me){return Hn(this._delegate,v.Y(this._delegate,Me))}signInWithCustomToken(Me){return Hn(this._delegate,v.$(this._delegate,Me))}signInWithEmailAndPassword(Me,st){return Hn(this._delegate,v.a6(this._delegate,Me,st))}signInWithEmailLink(Me,st){return Hn(this._delegate,v.a9(this._delegate,Me,st))}signInWithPhoneNumber(Me,st){return De(this._delegate,v.s(this._delegate,Me,st))}signInWithPopup(Me){var st=this;return(0,s.Z)(function*(){return Se(gr(),st._delegate,"operation-not-supported-in-this-environment"),Hn(st._delegate,v.c(st._delegate,Me,Rt))})()}signInWithRedirect(Me){var st=this;return(0,s.Z)(function*(){return Se(gr(),st._delegate,"operation-not-supported-in-this-environment"),yield Jn(st._delegate),v.f(st._delegate,Me,Rt)})()}updateCurrentUser(Me){return this._delegate.updateCurrentUser(Me)}verifyPasswordResetCode(Me){return v.a4(this._delegate,Me)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return He.Persistence=Wn,He})();function ot(He,Re,Me){let st=He;"function"!=typeof He&&({next:st,error:Re,complete:Me}=He);const yt=st;return{next:zt=>yt(zt&&et.getOrCreate(zt)),error:Re,complete:Me}}function mt(He,Re){const Me=function(He,Re){const Me=En();if(!Me)return[];const st=v.az(Un,He,Re);switch(Me.getItem(st)){case Wn.NONE:return[v.L];case Wn.LOCAL:return[v.i,v.a];case Wn.SESSION:return[v.a];default:return[]}}(He,Re);if("undefined"!=typeof self&&!Me.includes(v.i)&&Me.push(v.i),"undefined"!=typeof window)for(const st of[v.b,v.a])Me.includes(st)||Me.push(st);return Me.includes(v.L)||Me.push(v.L),Me}class Wt{constructor(){this.providerId="phone",this._delegate=new v.P(ri(b.Z.auth()))}static credential(Re,Me){return v.P.credential(Re,Me)}verifyPhoneNumber(Re,Me){return this._delegate.verifyPhoneNumber(Re,Me)}unwrap(){return this._delegate}}Wt.PHONE_SIGN_IN_METHOD=v.P.PHONE_SIGN_IN_METHOD,Wt.PROVIDER_ID=v.P.PROVIDER_ID;const an=v.ax;var He;(He=b.Z).INTERNAL.registerComponent(new H.wA("auth-compat",Re=>{const Me=Re.getProvider("app-compat").getImmediate(),st=Re.getProvider("auth");return new Ve(Me,st)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:v.A.EMAIL_SIGNIN,PASSWORD_RESET:v.A.PASSWORD_RESET,RECOVER_EMAIL:v.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:v.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:v.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:v.A.VERIFY_EMAIL}},EmailAuthProvider:v.M,FacebookAuthProvider:v.N,GithubAuthProvider:v.T,GoogleAuthProvider:v.Q,OAuthProvider:v.U,SAMLAuthProvider:v.V,PhoneAuthProvider:Wt,PhoneMultiFactorGenerator:v.m,RecaptchaVerifier:class{constructor(Re,Me,st=b.Z.app()){var yt;an(null===(yt=st.options)||void 0===yt?void 0:yt.apiKey,"invalid-api-key",{appName:st.name}),this._delegate=new v.R(Re,Me,st.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:v.W,Auth:Ve,AuthCredential:v.H,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),He.registerVersion("@firebase/auth-compat","0.2.14")},5477:(bt,C,A)=>{bt=A.nmd(bt);var b="__lodash_hash_undefined__",O=9007199254740991,B="[object Arguments]",me="[object Function]",Ee="[object Object]",rt=/^\[object .+?Constructor\]$/,Ge=/^(?:0|[1-9]\d*)$/,Ye={};Ye["[object Float32Array]"]=Ye["[object Float64Array]"]=Ye["[object Int8Array]"]=Ye["[object Int16Array]"]=Ye["[object Int32Array]"]=Ye["[object Uint8Array]"]=Ye["[object Uint8ClampedArray]"]=Ye["[object Uint16Array]"]=Ye["[object Uint32Array]"]=!0,Ye[B]=Ye["[object Array]"]=Ye["[object ArrayBuffer]"]=Ye["[object Boolean]"]=Ye["[object DataView]"]=Ye["[object Date]"]=Ye["[object Error]"]=Ye[me]=Ye["[object Map]"]=Ye["[object Number]"]=Ye[Ee]=Ye["[object RegExp]"]=Ye["[object Set]"]=Ye["[object String]"]=Ye["[object WeakMap]"]=!1;var Dt="object"==typeof global&&global&&global.Object===Object&&global,Bt="object"==typeof self&&self&&self.Object===Object&&self,hn=Dt||Bt||Function("return this")(),wt=C&&!C.nodeType&&C,$t=wt&&bt&&!bt.nodeType&&bt,sn=$t&&$t.exports===wt,Rr=sn&&Dt.process,Or=function(){try{return $t&&$t.require&&$t.require("util").types||Rr&&Rr.binding&&Rr.binding("util")}catch(ge){}}(),Xn=Or&&Or.isTypedArray;function Ni(z,ge,we){switch(we.length){case 0:return z.call(ge);case 1:return z.call(ge,we[0]);case 2:return z.call(ge,we[0],we[1]);case 3:return z.call(ge,we[0],we[1],we[2])}return z.apply(ge,we)}var z,hi=Array.prototype,Mn=Object.prototype,Wn=hn["__core-js_shared__"],Zn=Function.prototype.toString,Un=Mn.hasOwnProperty,Ki=(z=/[^.]+$/.exec(Wn&&Wn.keys&&Wn.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",Jn=Mn.toString,An=Zn.call(Object),Fi=RegExp("^"+Zn.call(Un).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),En=sn?hn.Buffer:void 0,kt=hn.Symbol,Rt=hn.Uint8Array,ii=function(z,ge){return function(we){return z(ge(we))}}(Object.getPrototypeOf,Object),Lr=Object.create,Cn=Mn.propertyIsEnumerable,jn=hi.splice,Hn=kt?kt.toStringTag:void 0,De=function(){try{var z=co(Object,"defineProperty");return z({},"",{}),z}catch(ge){}}(),Ce=En?En.isBuffer:void 0,ke=Math.max,et=Date.now,Se=co(hn,"Map"),Ve=co(Object,"create"),ot=function(){function z(){}return function(ge){if(!fe(ge))return{};if(Lr)return Lr(ge);z.prototype=ge;var we=new z;return z.prototype=void 0,we}}();function mt(z){var ge=-1,we=null==z?0:z.length;for(this.clear();++ge<we;){var $e=z[ge];this.set($e[0],$e[1])}}function He(z){var ge=-1,we=null==z?0:z.length;for(this.clear();++ge<we;){var $e=z[ge];this.set($e[0],$e[1])}}function zt(z){var ge=-1,we=null==z?0:z.length;for(this.clear();++ge<we;){var $e=z[ge];this.set($e[0],$e[1])}}function Vt(z){var ge=this.__data__=new He(z);this.size=ge.size}function Li(z,ge,we){(void 0!==we&&!po(z[ge],we)||void 0===we&&!(ge in z))&&Yi(z,ge,we)}function Ss(z,ge,we){var $e=z[ge];(!Un.call(z,ge)||!po($e,we)||void 0===we&&!(ge in z))&&Yi(z,ge,we)}function nn(z,ge){for(var we=z.length;we--;)if(po(z[we][0],ge))return we;return-1}function Yi(z,ge,we){"__proto__"==ge&&De?De(z,ge,{configurable:!0,enumerable:!0,value:we,writable:!0}):z[ge]=we}mt.prototype.clear=function(){this.__data__=Ve?Ve(null):{},this.size=0},mt.prototype.delete=function(z){var ge=this.has(z)&&delete this.__data__[z];return this.size-=ge?1:0,ge},mt.prototype.get=function(z){var ge=this.__data__;if(Ve){var we=ge[z];return we===b?void 0:we}return Un.call(ge,z)?ge[z]:void 0},mt.prototype.has=function(z){var ge=this.__data__;return Ve?void 0!==ge[z]:Un.call(ge,z)},mt.prototype.set=function(z,ge){var we=this.__data__;return this.size+=this.has(z)?0:1,we[z]=Ve&&void 0===ge?b:ge,this},He.prototype.clear=function(){this.__data__=[],this.size=0},He.prototype.delete=function(z){var ge=this.__data__,we=nn(ge,z);return!(we<0||(we==ge.length-1?ge.pop():jn.call(ge,we,1),--this.size,0))},He.prototype.get=function(z){var ge=this.__data__,we=nn(ge,z);return we<0?void 0:ge[we][1]},He.prototype.has=function(z){return nn(this.__data__,z)>-1},He.prototype.set=function(z,ge){var we=this.__data__,$e=nn(we,z);return $e<0?(++this.size,we.push([z,ge])):we[$e][1]=ge,this},zt.prototype.clear=function(){this.size=0,this.__data__={hash:new mt,map:new(Se||He),string:new mt}},zt.prototype.delete=function(z){var ge=li(this,z).delete(z);return this.size-=ge?1:0,ge},zt.prototype.get=function(z){return li(this,z).get(z)},zt.prototype.has=function(z){return li(this,z).has(z)},zt.prototype.set=function(z,ge){var we=li(this,z),$e=we.size;return we.set(z,ge),this.size+=we.size==$e?0:1,this},Vt.prototype.clear=function(){this.__data__=new He,this.size=0},Vt.prototype.delete=function(z){var ge=this.__data__,we=ge.delete(z);return this.size=ge.size,we},Vt.prototype.get=function(z){return this.__data__.get(z)},Vt.prototype.has=function(z){return this.__data__.has(z)},Vt.prototype.set=function(z,ge){var we=this.__data__;if(we instanceof He){var $e=we.__data__;if(!Se||$e.length<199)return $e.push([z,ge]),this.size=++we.size,this;we=this.__data__=new zt($e)}return we.set(z,ge),this.size=we.size,this};var Ti=function(ge,we,$e){for(var dt=-1,At=Object(ge),xt=$e(ge),Nt=xt.length;Nt--;){var Jt=xt[++dt];if(!1===we(At[Jt],Jt,At))break}return ge};function Sr(z){return null==z?void 0===z?"[object Undefined]":"[object Null]":Hn&&Hn in Object(z)?function(z){var ge=Un.call(z,Hn),we=z[Hn];try{z[Hn]=void 0;var $e=!0}catch(At){}var dt=Jn.call(z);return $e&&(ge?z[Hn]=we:delete z[Hn]),dt}(z):function(z){return Jn.call(z)}(z)}function fi(z){return q(z)&&Sr(z)==B}function Gr(z,ge,we,$e,dt){z!==ge&&Ti(ge,function(At,xt){if(dt||(dt=new Vt),fe(At))!function(z,ge,we,$e,dt,At,xt){var Nt=Ds(z,we),Jt=Ds(ge,we),Gn=xt.get(Jt);if(Gn)Li(z,we,Gn);else{var yr=At?At(Nt,Jt,we+"",z,ge,xt):void 0,wn=void 0===yr;if(wn){var mo=aa(Jt),zs=!mo&&la(Jt),ur=!mo&&!zs&&N(Jt);yr=Jt,mo||zs||ur?aa(Nt)?yr=Nt:function(z){return q(z)&&go(z)}(Nt)?yr=function(z,ge){var we=-1,$e=z.length;for(ge||(ge=Array($e));++we<$e;)ge[we]=z[we];return ge}(Nt):zs?(wn=!1,yr=function(z,ge){return z.slice()}(Jt)):ur?(wn=!1,yr=function(z,ge){var we=function(z){var ge=new z.constructor(z.byteLength);return new Rt(ge).set(new Rt(z)),ge}(z.buffer);return new z.constructor(we,z.byteOffset,z.length)}(Jt)):yr=[]:function(z){if(!q(z)||Sr(z)!=Ee)return!1;var ge=ii(z);if(null===ge)return!0;var we=Un.call(ge,"constructor")&&ge.constructor;return"function"==typeof we&&we instanceof we&&Zn.call(we)==An}(Jt)||oa(Jt)?(yr=Nt,oa(Nt)?yr=function(z){return function(z,ge,we,$e){var dt=!we;we||(we={});for(var At=-1,xt=ge.length;++At<xt;){var Nt=ge[At],Jt=void 0;void 0===Jt&&(Jt=z[Nt]),dt?Yi(we,Nt,Jt):Ss(we,Nt,Jt)}return we}(z,ae(z))}(Nt):(!fe(Nt)||Na(Nt))&&(yr=function(z){return"function"!=typeof z.constructor||ho(z)?{}:ot(ii(z))}(Jt))):wn=!1}wn&&(xt.set(Jt,yr),dt(yr,Jt,$e,At,xt),xt.delete(Jt)),Li(z,we,yr)}}(z,ge,xt,we,Gr,$e,dt);else{var Nt=$e?$e(Ds(z,xt),At,xt+"",z,ge,dt):void 0;void 0===Nt&&(Nt=At),Li(z,xt,Nt)}},ae)}function Pa(z,ge){return Ji(function(z,ge,we){return ge=ke(void 0===ge?z.length-1:ge,0),function(){for(var $e=arguments,dt=-1,At=ke($e.length-ge,0),xt=Array(At);++dt<At;)xt[dt]=$e[ge+dt];dt=-1;for(var Nt=Array(ge+1);++dt<ge;)Nt[dt]=$e[dt];return Nt[ge]=we(xt),Ni(z,this,Nt)}}(z,ge,ye),z+"")}var ls=De?function(z,ge){return De(z,"toString",{configurable:!0,enumerable:!1,value:ue(ge),writable:!0})}:ye;function Jr(z,ge,we,$e,dt,At){return fe(z)&&fe(ge)&&(At.set(ge,z),Gr(z,ge,void 0,Jr,At),At.delete(ge)),z}function li(z,ge){var we=z.__data__;return function(z){var ge=typeof z;return"string"==ge||"number"==ge||"symbol"==ge||"boolean"==ge?"__proto__"!==z:null===z}(ge)?we["string"==typeof ge?"string":"hash"]:we.map}function co(z,ge){var we=function(z,ge){return null==z?void 0:z[ge]}(z,ge);return function(z){return!(!fe(z)||function(z){return!!Ki&&Ki in z}(z))&&(Na(z)?Fi:rt).test(function(z){if(null!=z){try{return Zn.call(z)}catch(ge){}try{return z+""}catch(ge){}}return""}(z))}(we)?we:void 0}function $r(z,ge){var we=typeof z;return!!(ge=null==ge?O:ge)&&("number"==we||"symbol"!=we&&Ge.test(z))&&z>-1&&z%1==0&&z<ge}function ho(z){var ge=z&&z.constructor;return z===("function"==typeof ge&&ge.prototype||Mn)}function Ds(z,ge){if(("constructor"!==ge||"function"!=typeof z[ge])&&"__proto__"!=ge)return z[ge]}var Ji=function(z){var ge=0,we=0;return function(){var $e=et(),dt=16-($e-we);if(we=$e,dt>0){if(++ge>=800)return arguments[0]}else ge=0;return z.apply(void 0,arguments)}}(ls);function po(z,ge){return z===ge||z!=z&&ge!=ge}var oa=fi(function(){return arguments}())?fi:function(z){return q(z)&&Un.call(z,"callee")&&!Cn.call(z,"callee")},aa=Array.isArray;function go(z){return null!=z&&ne(z.length)&&!Na(z)}var la=Ce||function(){return!1};function Na(z){if(!fe(z))return!1;var ge=Sr(z);return ge==me||"[object GeneratorFunction]"==ge||"[object AsyncFunction]"==ge||"[object Proxy]"==ge}function ne(z){return"number"==typeof z&&z>-1&&z%1==0&&z<=O}function fe(z){var ge=typeof z;return null!=z&&("object"==ge||"function"==ge)}function q(z){return null!=z&&"object"==typeof z}var N=Xn?function(z){return function(ge){return z(ge)}}(Xn):function(z){return q(z)&&ne(z.length)&&!!Ye[Sr(z)]},U=Pa(function(z){return z.push(void 0,Jr),Ni(pe,void 0,z)});function ae(z){return go(z)?function(z,ge){var we=aa(z),$e=!we&&oa(z),dt=!we&&!$e&&la(z),At=!we&&!$e&&!dt&&N(z),xt=we||$e||dt||At,Nt=xt?function(z,ge){for(var we=-1,$e=Array(z);++we<z;)$e[we]=ge(we);return $e}(z.length,String):[],Jt=Nt.length;for(var Gn in z)(ge||Un.call(z,Gn))&&(!xt||!("length"==Gn||dt&&("offset"==Gn||"parent"==Gn)||At&&("buffer"==Gn||"byteLength"==Gn||"byteOffset"==Gn)||$r(Gn,Jt)))&&Nt.push(Gn);return Nt}(z,!0):function(z){if(!fe(z))return function(z){var ge=[];if(null!=z)for(var we in Object(z))ge.push(we);return ge}(z);var ge=ho(z),we=[];for(var $e in z)"constructor"==$e&&(ge||!Un.call(z,$e))||we.push($e);return we}(z)}var pe=function(z){return Pa(function(ge,we){var $e=-1,dt=we.length,At=dt>1?we[dt-1]:void 0,xt=dt>2?we[2]:void 0;for(At=z.length>3&&"function"==typeof At?(dt--,At):void 0,xt&&function(z,ge,we){if(!fe(we))return!1;var $e=typeof ge;return!!("number"==$e?go(we)&&$r(ge,we.length):"string"==$e&&ge in we)&&po(we[ge],z)}(we[0],we[1],xt)&&(At=dt<3?void 0:At,dt=1),ge=Object(ge);++$e<dt;){var Nt=we[$e];Nt&&z(ge,Nt,$e,At)}return ge})}(function(z,ge,we,$e){Gr(z,ge,we,$e)});function ue(z){return function(){return z}}function ye(z){return z}bt.exports=U},8305:(bt,C,A)=>{"use strict";A.d(C,{y:()=>Q});var s=A(584),b=A(7908),v=A(4816),x=A(4623);var H=A(5367),Y=A(5044),ee=A(8706);let Q=(()=>{class je{constructor(qe){qe&&(this._subscribe=qe)}lift(qe){const Ee=new je;return Ee.source=this,Ee.operator=qe,Ee}subscribe(qe,Ee,de){const ce=function(je){return je&&je instanceof s.Lv||function(je){return je&&(0,Y.m)(je.next)&&(0,Y.m)(je.error)&&(0,Y.m)(je.complete)}(je)&&(0,b.Nn)(je)}(qe)?qe:new s.Hp(qe,Ee,de);return(0,ee.x)(()=>{const{operator:Oe,source:Pe}=this;ce.add(Oe?Oe.call(ce,Pe):Pe?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(qe){try{return this._subscribe(qe)}catch(Ee){qe.error(Ee)}}forEach(qe,Ee){return new(Ee=te(Ee))((de,ce)=>{let Oe;Oe=this.subscribe(Pe=>{try{qe(Pe)}catch(Qe){ce(Qe),null==Oe||Oe.unsubscribe()}},ce,de)})}_subscribe(qe){var Ee;return null===(Ee=this.source)||void 0===Ee?void 0:Ee.subscribe(qe)}[v.L](){return this}pipe(...qe){return function(je){return 0===je.length?x.y:1===je.length?je[0]:function(qe){return je.reduce((Ee,de)=>de(Ee),qe)}}(qe)(this)}toPromise(qe){return new(qe=te(qe))((Ee,de)=>{let ce;this.subscribe(Oe=>ce=Oe,Oe=>de(Oe),()=>Ee(ce))})}}return je.create=Ue=>new je(Ue),je})();function te(je){var Ue;return null!==(Ue=null!=je?je:H.v.Promise)&&void 0!==Ue?Ue:Promise}},273:(bt,C,A)=>{"use strict";A.d(C,{x:()=>H});var s=A(8305),b=A(7908);const x=(0,A(4893).d)(ee=>function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=A(3980),B=A(8706);let H=(()=>{class ee extends s.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(te){const me=new Y(this,this);return me.operator=te,me}_throwIfClosed(){if(this.closed)throw new x}next(te){(0,B.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const me=this.observers.slice();for(const Ze of me)Ze.next(te)}})}error(te){(0,B.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=te;const{observers:me}=this;for(;me.length;)me.shift().error(te)}})}complete(){(0,B.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:te}=this;for(;te.length;)te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var te;return(null===(te=this.observers)||void 0===te?void 0:te.length)>0}_trySubscribe(te){return this._throwIfClosed(),super._trySubscribe(te)}_subscribe(te){return this._throwIfClosed(),this._checkFinalizedStatuses(te),this._innerSubscribe(te)}_innerSubscribe(te){const{hasError:me,isStopped:Ze,observers:je}=this;return me||Ze?b.Lc:(je.push(te),new b.w0(()=>(0,O.P)(je,te)))}_checkFinalizedStatuses(te){const{hasError:me,thrownError:Ze,isStopped:je}=this;me?te.error(Ze):je&&te.complete()}asObservable(){const te=new s.y;return te.source=this,te}}return ee.create=(Q,te)=>new Y(Q,te),ee})();class Y extends H{constructor(Q,te){super(),this.destination=Q,this.source=te}next(Q){var te,me;null===(me=null===(te=this.destination)||void 0===te?void 0:te.next)||void 0===me||me.call(te,Q)}error(Q){var te,me;null===(me=null===(te=this.destination)||void 0===te?void 0:te.error)||void 0===me||me.call(te,Q)}complete(){var Q,te;null===(te=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===te||te.call(Q)}_subscribe(Q){var te,me;return null!==(me=null===(te=this.source)||void 0===te?void 0:te.subscribe(Q))&&void 0!==me?me:b.Lc}}},584:(bt,C,A)=>{"use strict";A.d(C,{Hp:()=>Ze,Lv:()=>me});var s=A(5044),b=A(7908),v=A(5367),x=A(5160),O=A(6921);const B=ee("C",void 0,void 0);function ee(de,ce,Oe){return{kind:de,value:ce,error:Oe}}var Q=A(2496),te=A(8706);class me extends b.w0{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,b.Nn)(ce)&&ce.add(this)):this.destination=Ee}static create(ce,Oe,Pe){return new Ze(ce,Oe,Pe)}next(ce){this.isStopped?qe(ee("N",ce,void 0),this):this._next(ce)}error(ce){this.isStopped?qe(ee("E",void 0,ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?qe(B,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Ze extends me{constructor(ce,Oe,Pe){let Qe;if(super(),(0,s.m)(ce))Qe=ce;else if(ce){let be;({next:Qe,error:Oe,complete:Pe}=ce),this&&v.v.useDeprecatedNextContext?(be=Object.create(ce),be.unsubscribe=()=>this.unsubscribe()):be=ce,Qe=null==Qe?void 0:Qe.bind(be),Oe=null==Oe?void 0:Oe.bind(be),Pe=null==Pe?void 0:Pe.bind(be)}this.destination={next:Qe?je(Qe):O.Z,error:je(null!=Oe?Oe:Ue),complete:Pe?je(Pe):O.Z}}}function je(de,ce){return(...Oe)=>{try{de(...Oe)}catch(Pe){v.v.useDeprecatedSynchronousErrorHandling?(0,te.O)(Pe):(0,x.h)(Pe)}}}function Ue(de){throw de}function qe(de,ce){const{onStoppedNotification:Oe}=v.v;Oe&&Q.z.setTimeout(()=>Oe(de,ce))}const Ee={closed:!0,next:O.Z,error:Ue,complete:O.Z}},7908:(bt,C,A)=>{"use strict";A.d(C,{Lc:()=>B,w0:()=>O,Nn:()=>H});var s=A(5044);const v=(0,A(4893).d)(ee=>function(te){ee(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((me,Ze)=>`${Ze+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te});var x=A(3980);class O{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:te}=this;if(te)if(this._parentage=null,Array.isArray(te))for(const je of te)je.remove(this);else te.remove(this);const{initialTeardown:me}=this;if((0,s.m)(me))try{me()}catch(je){Q=je instanceof v?je.errors:[je]}const{_teardowns:Ze}=this;if(Ze){this._teardowns=null;for(const je of Ze)try{Y(je)}catch(Ue){Q=null!=Q?Q:[],Ue instanceof v?Q=[...Q,...Ue.errors]:Q.push(Ue)}}if(Q)throw new v(Q)}}add(Q){var te;if(Q&&Q!==this)if(this.closed)Y(Q);else{if(Q instanceof O){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._teardowns=null!==(te=this._teardowns)&&void 0!==te?te:[]).push(Q)}}_hasParent(Q){const{_parentage:te}=this;return te===Q||Array.isArray(te)&&te.includes(Q)}_addParent(Q){const{_parentage:te}=this;this._parentage=Array.isArray(te)?(te.push(Q),te):te?[te,Q]:Q}_removeParent(Q){const{_parentage:te}=this;te===Q?this._parentage=null:Array.isArray(te)&&(0,x.P)(te,Q)}remove(Q){const{_teardowns:te}=this;te&&(0,x.P)(te,Q),Q instanceof O&&Q._removeParent(this)}}O.EMPTY=(()=>{const ee=new O;return ee.closed=!0,ee})();const B=O.EMPTY;function H(ee){return ee instanceof O||ee&&"closed"in ee&&(0,s.m)(ee.remove)&&(0,s.m)(ee.add)&&(0,s.m)(ee.unsubscribe)}function Y(ee){(0,s.m)(ee)?ee():ee.unsubscribe()}},5367:(bt,C,A)=>{"use strict";A.d(C,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(bt,C,A)=>{"use strict";A.d(C,{E:()=>b});const b=new(A(8305).y)(O=>O.complete())},5947:(bt,C,A)=>{"use strict";A.d(C,{D:()=>Qe});var s=A(9985),b=A(4763),v=A(5222),B=A(8305),Y=A(5497),ee=A(5044),Q=A(8395);function me(be,Ne){if(!be)throw new Error("Iterable cannot be null");return new B.y(oe=>{(0,Q.f)(oe,Ne,()=>{const Ie=be[Symbol.asyncIterator]();(0,Q.f)(oe,Ne,()=>{Ie.next().then(K=>{K.done?oe.complete():oe.next(K.value)})},0,!0)})})}var Ze=A(1073),je=A(2442),Ue=A(1537),qe=A(2317),Ee=A(9908),de=A(3754),ce=A(7751);function Qe(be,Ne){return Ne?function(be,Ne){if(null!=be){if((0,Ze.c)(be))return function(be,Ne){return(0,s.Xf)(be).pipe((0,v.R)(Ne),(0,b.Q)(Ne))}(be,Ne);if((0,Ue.z)(be))return function(be,Ne){return new B.y(oe=>{let Ie=0;return Ne.schedule(function(){Ie===be.length?oe.complete():(oe.next(be[Ie++]),oe.closed||this.schedule())})})}(be,Ne);if((0,je.t)(be))return function(be,Ne){return(0,s.Xf)(be).pipe((0,v.R)(Ne),(0,b.Q)(Ne))}(be,Ne);if((0,Ee.D)(be))return me(be,Ne);if((0,qe.T)(be))return function(be,Ne){return new B.y(oe=>{let Ie;return(0,Q.f)(oe,Ne,()=>{Ie=be[Y.h](),(0,Q.f)(oe,Ne,()=>{let K,L;try{({value:K,done:L}=Ie.next())}catch(j){return void oe.error(j)}L?oe.complete():oe.next(K)},0,!0)}),()=>(0,ee.m)(null==Ie?void 0:Ie.return)&&Ie.return()})}(be,Ne);if((0,ce.L)(be))return function(be,Ne){return me((0,ce.Q)(be),Ne)}(be,Ne)}throw(0,de.z)(be)}(be,Ne):(0,s.Xf)(be)}},9985:(bt,C,A)=>{"use strict";A.d(C,{Xf:()=>Ze});var s=A(9162),b=A(1537),v=A(2442),x=A(8305),O=A(1073),B=A(9908),H=A(3754),Y=A(2317),ee=A(7751),Q=A(5044),te=A(5160),me=A(4816);function Ze(Pe){if(Pe instanceof x.y)return Pe;if(null!=Pe){if((0,O.c)(Pe))return function(Pe){return new x.y(Qe=>{const be=Pe[me.L]();if((0,Q.m)(be.subscribe))return be.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,b.z)(Pe))return function(Pe){return new x.y(Qe=>{for(let be=0;be<Pe.length&&!Qe.closed;be++)Qe.next(Pe[be]);Qe.complete()})}(Pe);if((0,v.t)(Pe))return function(Pe){return new x.y(Qe=>{Pe.then(be=>{Qe.closed||(Qe.next(be),Qe.complete())},be=>Qe.error(be)).then(null,te.h)})}(Pe);if((0,B.D)(Pe))return de(Pe);if((0,Y.T)(Pe))return function(Pe){return new x.y(Qe=>{for(const be of Pe)if(Qe.next(be),Qe.closed)return;Qe.complete()})}(Pe);if((0,ee.L)(Pe))return function(Pe){return de((0,ee.Q)(Pe))}(Pe)}throw(0,H.z)(Pe)}function de(Pe){return new x.y(Qe=>{(function(Pe,Qe){var be,Ne,oe,Ie;return(0,s.mG)(this,void 0,void 0,function*(){try{for(be=(0,s.KL)(Pe);!(Ne=yield be.next()).done;)if(Qe.next(Ne.value),Qe.closed)return}catch(K){oe={error:K}}finally{try{Ne&&!Ne.done&&(Ie=be.return)&&(yield Ie.call(be))}finally{if(oe)throw oe.error}}Qe.complete()})})(Pe,Qe).catch(be=>Qe.error(be))})}},3719:(bt,C,A)=>{"use strict";A.d(C,{T:()=>B});var s=A(5373),b=A(9985),v=A(5583),x=A(7613),O=A(5947);function B(...H){const Y=(0,x.yG)(H),ee=(0,x._6)(H,1/0),Q=H;return Q.length?1===Q.length?(0,b.Xf)(Q[0]):(0,s.J)(ee)((0,O.D)(Q,Y)):v.E}},8889:(bt,C,A)=>{"use strict";A.d(C,{Q:()=>b});var s=A(584);class b extends s.Lv{constructor(x,O,B,H,Y){super(x),this.onFinalize=Y,this._next=O?function(ee){try{O(ee)}catch(Q){x.error(Q)}}:super._next,this._error=H?function(ee){try{H(ee)}catch(Q){x.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(ee){x.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;const{closed:O}=this;super.unsubscribe(),!O&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}},4753:(bt,C,A)=>{"use strict";A.d(C,{U:()=>v});var s=A(9947),b=A(8889);function v(x,O){return(0,s.e)((B,H)=>{let Y=0;B.subscribe(new b.Q(H,ee=>{H.next(x.call(O,ee,Y++))}))})}},5373:(bt,C,A)=>{"use strict";A.d(C,{J:()=>v});var s=A(5724),b=A(4623);function v(x=1/0){return(0,s.z)(b.y,x)}},5724:(bt,C,A)=>{"use strict";A.d(C,{z:()=>Y});var s=A(4753),b=A(9985),v=A(9947),O=(A(8395),A(8889)),H=A(5044);function Y(ee,Q,te=1/0){return(0,H.m)(Q)?Y((me,Ze)=>(0,s.U)((je,Ue)=>Q(me,je,Ze,Ue))((0,b.Xf)(ee(me,Ze))),te):("number"==typeof Q&&(te=Q),(0,v.e)((me,Ze)=>function(ee,Q,te,me,Ze,je,Ue,qe){const Ee=[];let de=0,ce=0,Oe=!1;const Pe=()=>{Oe&&!Ee.length&&!de&&Q.complete()},Qe=Ne=>de<me?be(Ne):Ee.push(Ne),be=Ne=>{de++;let oe=!1;(0,b.Xf)(te(Ne,ce++)).subscribe(new O.Q(Q,Ie=>{Q.next(Ie)},()=>{oe=!0},void 0,()=>{if(oe)try{for(de--;Ee.length&&de<me;){const Ie=Ee.shift();be(Ie)}Pe()}catch(Ie){Q.error(Ie)}}))};return ee.subscribe(new O.Q(Q,Qe,()=>{Oe=!0,Pe()})),()=>{}}(me,Ze,ee,te)))}},4763:(bt,C,A)=>{"use strict";A.d(C,{Q:()=>x});var s=A(8395),b=A(9947),v=A(8889);function x(O,B=0){return(0,b.e)((H,Y)=>{H.subscribe(new v.Q(Y,ee=>(0,s.f)(Y,O,()=>Y.next(ee),B),()=>(0,s.f)(Y,O,()=>Y.complete(),B),ee=>(0,s.f)(Y,O,()=>Y.error(ee),B)))})}},3174:(bt,C,A)=>{"use strict";A.d(C,{B:()=>B});var s=A(5947),b=A(9468),v=A(273),x=A(584),O=A(9947);function B(Y={}){const{connector:ee=(()=>new v.x),resetOnError:Q=!0,resetOnComplete:te=!0,resetOnRefCountZero:me=!0}=Y;return Ze=>{let je=null,Ue=null,qe=null,Ee=0,de=!1,ce=!1;const Oe=()=>{null==Ue||Ue.unsubscribe(),Ue=null},Pe=()=>{Oe(),je=qe=null,de=ce=!1},Qe=()=>{const be=je;Pe(),null==be||be.unsubscribe()};return(0,O.e)((be,Ne)=>{Ee++,!ce&&!de&&Oe();const oe=qe=null!=qe?qe:ee();Ne.add(()=>{Ee--,0===Ee&&!ce&&!de&&(Ue=H(Qe,me))}),oe.subscribe(Ne),je||(je=new x.Hp({next:Ie=>oe.next(Ie),error:Ie=>{ce=!0,Oe(),Ue=H(Pe,Q,Ie),oe.error(Ie)},complete:()=>{de=!0,Oe(),Ue=H(Pe,te),oe.complete()}}),(0,s.D)(be).subscribe(je))})(Ze)}}function H(Y,ee,...Q){return!0===ee?(Y(),null):!1===ee?null:ee(...Q).pipe((0,b.q)(1)).subscribe(()=>Y())}},5222:(bt,C,A)=>{"use strict";A.d(C,{R:()=>b});var s=A(9947);function b(v,x=0){return(0,s.e)((O,B)=>{B.add(v.schedule(()=>O.subscribe(B),x))})}},9468:(bt,C,A)=>{"use strict";A.d(C,{q:()=>x});var s=A(5583),b=A(9947),v=A(8889);function x(O){return O<=0?()=>s.E:(0,b.e)((B,H)=>{let Y=0;B.subscribe(new v.Q(H,ee=>{++Y<=O&&(H.next(ee),O<=Y&&H.complete())}))})}},7384:(bt,C,A)=>{"use strict";A.d(C,{b:()=>O});var s=A(5044),b=A(9947),v=A(8889),x=A(4623);function O(B,H,Y){const ee=(0,s.m)(B)||H||Y?{next:B,error:H,complete:Y}:B;return ee?(0,b.e)((Q,te)=>{var me;null===(me=ee.subscribe)||void 0===me||me.call(ee);let Ze=!0;Q.subscribe(new v.Q(te,je=>{var Ue;null===(Ue=ee.next)||void 0===Ue||Ue.call(ee,je),te.next(je)},()=>{var je;Ze=!1,null===(je=ee.complete)||void 0===je||je.call(ee),te.complete()},je=>{var Ue;Ze=!1,null===(Ue=ee.error)||void 0===Ue||Ue.call(ee,je),te.error(je)},()=>{var je,Ue;Ze&&(null===(je=ee.unsubscribe)||void 0===je||je.call(ee)),null===(Ue=ee.finalize)||void 0===Ue||Ue.call(ee)}))}):x.y}},2869:(bt,C,A)=>{"use strict";A.d(C,{o:()=>O});var s=A(7908);class b extends s.w0{constructor(H,Y){super()}schedule(H,Y=0){return this}}const v={setInterval(...B){const{delegate:H}=v;return((null==H?void 0:H.setInterval)||setInterval)(...B)},clearInterval(B){const{delegate:H}=v;return((null==H?void 0:H.clearInterval)||clearInterval)(B)},delegate:void 0};var x=A(3980);class O extends b{constructor(H,Y){super(H,Y),this.scheduler=H,this.work=Y,this.pending=!1}schedule(H,Y=0){if(this.closed)return this;this.state=H;const ee=this.id,Q=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(Q,ee,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(Q,this.id,Y),this}requestAsyncId(H,Y,ee=0){return v.setInterval(H.flush.bind(H,this),ee)}recycleAsyncId(H,Y,ee=0){if(null!=ee&&this.delay===ee&&!1===this.pending)return Y;v.clearInterval(Y)}execute(H,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(H,Y);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(H,Y){let Q,ee=!1;try{this.work(H)}catch(te){ee=!0,Q=te||new Error("Scheduled action threw falsy error")}if(ee)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:H,scheduler:Y}=this,{actions:ee}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,x.P)(ee,this),null!=H&&(this.id=this.recycleAsyncId(Y,H,null)),this.delay=null,super.unsubscribe()}}}},8843:(bt,C,A)=>{"use strict";A.d(C,{v:()=>v});var s=A(1733);class b{constructor(O,B=b.now){this.schedulerActionCtor=O,this.now=B}schedule(O,B=0,H){return new this.schedulerActionCtor(this,O).schedule(H,B)}}b.now=s.l.now;class v extends b{constructor(O,B=b.now){super(O,B),this.actions=[],this._active=!1,this._scheduled=void 0}flush(O){const{actions:B}=this;if(this._active)return void B.push(O);let H;this._active=!0;do{if(H=O.execute(O.state,O.delay))break}while(O=B.shift());if(this._active=!1,H){for(;O=B.shift();)O.unsubscribe();throw H}}}},2210:(bt,C,A)=>{"use strict";A.d(C,{z:()=>v,P:()=>x});var s=A(2869);const v=new(A(8843).v)(s.o),x=v},1733:(bt,C,A)=>{"use strict";A.d(C,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},2496:(bt,C,A)=>{"use strict";A.d(C,{z:()=>s});const s={setTimeout(...b){const{delegate:v}=s;return((null==v?void 0:v.setTimeout)||setTimeout)(...b)},clearTimeout(b){const{delegate:v}=s;return((null==v?void 0:v.clearTimeout)||clearTimeout)(b)},delegate:void 0}},5497:(bt,C,A)=>{"use strict";A.d(C,{h:()=>b});const b="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(bt,C,A)=>{"use strict";A.d(C,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(bt,C,A)=>{"use strict";A.d(C,{jO:()=>x,yG:()=>O,_6:()=>B});var s=A(5044),b=A(7398);function v(H){return H[H.length-1]}function x(H){return(0,s.m)(v(H))?H.pop():void 0}function O(H){return(0,b.K)(v(H))?H.pop():void 0}function B(H,Y){return"number"==typeof v(H)?H.pop():Y}},3980:(bt,C,A)=>{"use strict";function s(b,v){if(b){const x=b.indexOf(v);0<=x&&b.splice(x,1)}}A.d(C,{P:()=>s})},4893:(bt,C,A)=>{"use strict";function s(b){const x=b(O=>{Error.call(O),O.stack=(new Error).stack});return x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x}A.d(C,{d:()=>s})},8706:(bt,C,A)=>{"use strict";A.d(C,{x:()=>v,O:()=>x});var s=A(5367);let b=null;function v(O){if(s.v.useDeprecatedSynchronousErrorHandling){const B=!b;if(B&&(b={errorThrown:!1,error:null}),O(),B){const{errorThrown:H,error:Y}=b;if(b=null,H)throw Y}}else O()}function x(O){s.v.useDeprecatedSynchronousErrorHandling&&b&&(b.errorThrown=!0,b.error=O)}},8395:(bt,C,A)=>{"use strict";function s(b,v,x,O=0,B=!1){const H=v.schedule(function(){x(),B?b.add(this.schedule(null,O)):this.unsubscribe()},O);if(b.add(H),!B)return H}A.d(C,{f:()=>s})},4623:(bt,C,A)=>{"use strict";function s(b){return b}A.d(C,{y:()=>s})},1537:(bt,C,A)=>{"use strict";A.d(C,{z:()=>s});const s=b=>b&&"number"==typeof b.length&&"function"!=typeof b},9908:(bt,C,A)=>{"use strict";A.d(C,{D:()=>b});var s=A(5044);function b(v){return Symbol.asyncIterator&&(0,s.m)(null==v?void 0:v[Symbol.asyncIterator])}},5044:(bt,C,A)=>{"use strict";function s(b){return"function"==typeof b}A.d(C,{m:()=>s})},1073:(bt,C,A)=>{"use strict";A.d(C,{c:()=>v});var s=A(4816),b=A(5044);function v(x){return(0,b.m)(x[s.L])}},2317:(bt,C,A)=>{"use strict";A.d(C,{T:()=>v});var s=A(5497),b=A(5044);function v(x){return(0,b.m)(null==x?void 0:x[s.h])}},2442:(bt,C,A)=>{"use strict";A.d(C,{t:()=>b});var s=A(5044);function b(v){return(0,s.m)(null==v?void 0:v.then)}},7751:(bt,C,A)=>{"use strict";A.d(C,{Q:()=>v,L:()=>x});var s=A(9162),b=A(5044);function v(O){return(0,s.FC)(this,arguments,function*(){const H=O.getReader();try{for(;;){const{value:Y,done:ee}=yield(0,s.qq)(H.read());if(ee)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(Y)}}finally{H.releaseLock()}})}function x(O){return(0,b.m)(null==O?void 0:O.getReader)}},7398:(bt,C,A)=>{"use strict";A.d(C,{K:()=>b});var s=A(5044);function b(v){return v&&(0,s.m)(v.schedule)}},9947:(bt,C,A)=>{"use strict";A.d(C,{A:()=>b,e:()=>v});var s=A(5044);function b(x){return(0,s.m)(null==x?void 0:x.lift)}function v(x){return O=>{if(b(O))return O.lift(function(B){try{return x(B,this)}catch(H){this.error(H)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(bt,C,A)=>{"use strict";function s(){}A.d(C,{Z:()=>s})},5160:(bt,C,A)=>{"use strict";A.d(C,{h:()=>v});var s=A(5367),b=A(2496);function v(x){b.z.setTimeout(()=>{const{onUnhandledError:O}=s.v;if(!O)throw x;O(x)})}},3754:(bt,C,A)=>{"use strict";function s(b){return new TypeError(`You provided ${null!==b&&"object"==typeof b?"an invalid object":`'${b}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(C,{z:()=>s})},6945:(bt,C,A)=>{"use strict";var s=A(3668);let b=null;function v(){return b}const H=new s.OlP("DocumentToken");let Y=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.LFG)(te)},providedIn:"platform"}),n})();const Q=new s.OlP("Location Initialized");let te=(()=>{class n extends Y{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return v().getBaseHref(this._doc)}onPopState(t){const r=v().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=v().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){me()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){me()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(){return new te((0,s.LFG)(H))},providedIn:"platform"}),n})();function me(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function(n){const e=(0,s.LFG)(H).location;return new Oe((0,s.LFG)(Y),e&&e.origin||"")}()},providedIn:"root"}),n})();const ce=new s.OlP("appBaseHref");let Oe=(()=>{class n extends Ee{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const u=this.prepareExternalUrl(i+qe(o));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){const u=this.prepareExternalUrl(i+qe(o));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Y),s.LFG(ce,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n extends Ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let u=this.prepareExternalUrl(i+qe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,o){let u=this.prepareExternalUrl(i+qe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformLocation).historyGo)||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Y),s.LFG(ce,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(t,r){this._subject=new s.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(oe(i)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,oe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null==(i=(r=this._platformStrategy).historyGo)||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qe,n.joinWithSlash=je,n.stripTrailingSlash=Ue,n.\u0275fac=function(t){return new(t||n)(s.LFG(Ee),s.LFG(Y))},n.\u0275prov=s.Yz7({token:n,factory:function(){return new Qe((0,s.LFG)(Ee),(0,s.LFG)(Y))},providedIn:"root"}),n})();function oe(n){return n.replace(/\/index.html$/,"")}var L=(()=>((L=L||{})[L.Zero=0]="Zero",L[L.One=1]="One",L[L.Two=2]="Two",L[L.Few=3]="Few",L[L.Many=4]="Many",L[L.Other=5]="Other",L))();const Yr=s.kL8;class Sr{}let kn=(()=>{class n extends Sr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Yr(r||this.locale)(t)){case L.Zero:return"zero";case L.One:return"one";case L.Two:return"two";case L.Few:return"few";case L.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.soG))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function zr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class Pa{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ls=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((i,o,u)=>{if(null==i.previousIndex){const h=this._viewContainer.createEmbeddedView(this._template,new Pa(null,this._ngForOf,-1,-1),null===u?void 0:u),p=new Bi(i,h);r.push(p)}else if(null==u)this._viewContainer.remove(null===o?void 0:o);else if(null!==o){const h=this._viewContainer.get(o);this._viewContainer.move(h,u);const p=new Bi(i,h);r.push(p)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,o=this._viewContainer.length;i<o;i++){const u=this._viewContainer.get(i);u.context.index=i,u.context.count=o,u.context.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Bi{constructor(e,t){this.record=e,this.view=t}}let Xr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new js,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){cs("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){cs("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class js{constructor(){this.$implicit=null,this.ngIf=null}}function cs(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(e)}'.`)}class cr{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let No=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Jr=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new cr(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(No,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),$r=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split(".");null!=(r=null!=r&&o?`${r}${o}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Sr,useClass:kn}]}),n})();const Fe="browser";function $e(n){return n===Fe}function dt(n){return"server"===n}let Jt=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Gn((0,s.LFG)(H),window)}),n})();class Gn{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const u=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=yr(this.window.history)||yr(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function yr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zs{}class Lo extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Lo,b||(b=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Bo=Bo||document.querySelector("base"),Bo?Bo.getAttribute("href"):null);return null==t?null:function(n){ci=ci||document.createElement("a"),ci.setAttribute("href",n);const e=ci.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zr(document.cookie,e)}}let ci,Bo=null;const Vo=new s.OlP("TRANSITION_ID"),qn=[{provide:s.ip1,useFactory:function(n,e,t){return()=>{t.get(s.CZH).donePromise.then(()=>{const r=v(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[Vo,H,s.zs3],multi:!0}];class yl{static init(){(0,s.VLi)(new yl)}addToWindow(e){s.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(r=>{const i=s.dqk.getAllAngularTestabilities();let o=i.length,u=!1;const h=function(p){u=u||p,o--,0==o&&r(u)};i.forEach(function(p){p.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?v().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let ua=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const vl=new s.OlP("EventManagerPlugins");let Di=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const u=i[o];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(vl),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class hc{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=v().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Uo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),en=(()=>{class n extends Uo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bl),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bl))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function bl(n){v().remove(n)}const jo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Fa=/%COMP%/g;function yo(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?yo(n,i,t):(i=i.replace(Fa,n),t.push(i))}return t}function Pr(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ho=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new pi(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case s.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new rg(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case s.ifc.ShadowDom:return new Nh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=yo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Di),s.LFG(en),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class pi{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(jo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=jo[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=jo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(s.JOm.DashCase|s.JOm.Important)?e.style.setProperty(t,r,i&s.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&s.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pr(r)):this.eventManager.addEventListener(e,t,Pr(r))}}class rg extends pi{constructor(e,t,r,i){super(e),this.component=r;const o=yo(i+"-"+r.id,r.styles,[]);t.addStyles(o),this.contentAttr="_ngcontent-%COMP%".replace(Fa,i+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Fa,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Nh extends pi{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=yo(i.id,i.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let La=(()=>{class n extends hc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=["alt","control","meta","shift"],As={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zo={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gs=(()=>{class n extends hc{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),u=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>v().onAndCancel(t,o.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let u="";if(Il.forEach(p=>{const y=r.indexOf(p);y>-1&&(r.splice(y,1),u+=p+".")}),u+=o,0!=r.length||0===o.length)return null;const h={};return h.domEventName=i,h.fullKey=u,h}static getEventFullKey(t){let r="",i=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Tl.hasOwnProperty(e)&&(e=Tl[e]))}return As[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Il.forEach(o=>{o!=i&&zo[o](t)&&(r+=o+".")}),r+=i,r}static eventCallback(t,r,i){return o=>{n.getEventFullKey(o)===t&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const fc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Fe},{provide:s.g9A,useValue:function(){Lo.makeCurrent(),yl.init()},multi:!0},{provide:H,useFactory:function(){return(0,s.RDi)(document),document},deps:[]}]),Ba=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function(){return new s.qLn},deps:[]},{provide:vl,useClass:La,multi:!0,deps:[H,s.R0b,s.Lbi]},{provide:vl,useClass:Gs,multi:!0,deps:[H]},{provide:Ho,useClass:Ho,deps:[Di,en,s.AFp]},{provide:s.FYo,useExisting:Ho},{provide:Uo,useExisting:en},{provide:en,useClass:en,deps:[H]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b]},{provide:Di,useClass:Di,deps:[vl,s.R0b]},{provide:zs,useClass:ua,deps:[]}];let Al=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:s.AFp,useValue:t.appId},{provide:Vo,useExisting:s.AFp},qn]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(n,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:Ba,imports:[ye,s.hGG]}),n})();"undefined"!=typeof window&&window;let Ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):s.LFG(Bh),r},providedIn:"root"}),n})(),Bh=(()=>{class n extends Ua{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case s.q3G.NONE:return r;case s.q3G.HTML:return(0,s.qzn)(r,"HTML")?(0,s.z3N)(r):(0,s.EiD)(this._doc,String(r)).toString();case s.q3G.STYLE:return(0,s.qzn)(r,"Style")?(0,s.z3N)(r):r;case s.q3G.SCRIPT:if((0,s.qzn)(r,"Script"))return(0,s.z3N)(r);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.yhl)(r),(0,s.qzn)(r,"URL")?(0,s.z3N)(r):(0,s.mCW)(String(r));case s.q3G.RESOURCE_URL:if((0,s.qzn)(r,"ResourceURL"))return(0,s.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,s.JVY)(t)}bypassSecurityTrustStyle(t){return(0,s.L6k)(t)}bypassSecurityTrustScript(t){return(0,s.eBb)(t)}bypassSecurityTrustUrl(t){return(0,s.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,s.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new Bh(n.get(H))}(s.LFG(s.zs3)),r},providedIn:"root"}),n})();var dr=A(5947),pa=A(7613);function Ct(...n){const e=(0,pa.yG)(n);return(0,dr.D)(n,e)}var Yt=A(273);class ei extends Yt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var mr=A(8305);const{isArray:ga}=Array,{getPrototypeOf:Ol,prototype:ja,keys:xr}=Object;function Pl(n){if(1===n.length){const e=n[0];if(ga(e))return{args:e,keys:null};if(function(n){return n&&"object"==typeof n&&Ol(n)===ja}(e)){const t=xr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Wo=A(4623),Mt=A(4753);const{isArray:Vh}=Array;function qo(n){return(0,Mt.U)(e=>function(n,e){return Vh(e)?n(...e):n(e)}(n,e))}function bc(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Kn=A(8889),Nl=A(8395);function xs(...n){const e=(0,pa.yG)(n),t=(0,pa.jO)(n),{args:r,keys:i}=Pl(n);if(0===r.length)return(0,dr.D)([],e);const o=new mr.y(function(n,e,t=Wo.y){return r=>{Ms(e,()=>{const{length:i}=n,o=new Array(i);let u=i,h=i;for(let p=0;p<i;p++)Ms(e,()=>{const y=(0,dr.D)(n[p],e);let T=!1;y.subscribe(new Kn.Q(r,R=>{o[p]=R,T||(T=!0,h--),h||r.next(t(o.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>bc(i,u):Wo.y));return t?o.pipe(qo(t)):o}function Ms(n,e,t){n?(0,Nl.f)(t,n,e):e()}const ma=(0,A(4893).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var $s=A(5373);function vo(...n){return(0,$s.J)(1)((0,dr.D)(n,(0,pa.yG)(n)))}var mi=A(9985);function Ws(n){return new mr.y(e=>{(0,mi.Xf)(n()).subscribe(e)})}var Ha=A(5583),qs=A(7908),Nr=A(9947);function _a(){return(0,Nr.e)((n,e)=>{let t=null;n._refCount++;const r=new Kn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ll extends mr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qs.w0;const t=this.getSubject();e.add(this.source.subscribe(new Kn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qs.w0.EMPTY)}return e}refCount(){return _a()(this)}}function Fr(n,e){return(0,Nr.e)((t,r)=>{let i=null,o=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe(new Kn.Q(r,p=>{null==i||i.unsubscribe();let y=0;const T=o++;(0,mi.Xf)(n(p,T)).subscribe(i=new Kn.Q(r,R=>r.next(e?e(p,R,T,y++):R),()=>{i=null,h()}))},()=>{u=!0,h()}))})}var rr=A(9468);function _i(...n){const e=(0,pa.yG)(n);return(0,Nr.e)((t,r)=>{(e?vo(n,t,e):vo(n,t)).subscribe(r)})}function bo(n,e,t,r,i){return(o,u)=>{let h=t,p=e,y=0;o.subscribe(new Kn.Q(u,T=>{const R=y++;p=h?n(p,T,R):(h=!0,T),r&&u.next(p)},i&&(()=>{h&&u.next(p),u.complete()})))}}function es(n,e){return(0,Nr.e)(bo(n,e,arguments.length>=2,!0))}function Fn(n,e){return(0,Nr.e)((t,r)=>{let i=0;t.subscribe(new Kn.Q(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ks(n){return(0,Nr.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe(new Kn.Q(t,void 0,void 0,u=>{o=(0,mi.Xf)(n(u,ks(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}var er=A(5724),us=A(5044);function za(n,e){return(0,us.m)(e)?(0,er.z)(n,e,1):(0,er.z)(n,1)}function wr(n){return n<=0?()=>Ha.E:(0,Nr.e)((e,t)=>{let r=[];e.subscribe(new Kn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ga(n=K_){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe(new Kn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function K_(){return new ma}function ag(n){return(0,Nr.e)((e,t)=>{let r=!1;e.subscribe(new Kn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Bl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,o)=>n(i,o,r)):Wo.y,(0,rr.q)(1),t?ag(e):Ga(()=>new ma))}var ui=A(7384);function hu(n){return(0,Nr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Vi{constructor(e,t){this.id=e,this.url=t}}class ld extends Vi{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Mr extends Vi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $a extends Vi{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vl extends Vi{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cd extends Vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jh extends Vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ts extends Vi{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zs extends Vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ul extends Vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zo{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wo{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fu{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pu{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const gn="primary";class Ai{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ks(n){return new Ai(n)}const Rs="ngNavigationCancelingError";function ud(n){const e=Error("NavigationCancelingError: "+n);return e[Rs]=!0,e}function lg(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const u=r[o],h=n[o];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ys(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Eo(n[i],e[i]))return!1;return!0}function Eo(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function _u(n){return Array.prototype.concat.apply([],n)}function Hl(n){return n.length>0?n[n.length-1]:null}function hr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ns(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,dr.D)(Promise.resolve(n)):Ct(n)}const dd={exact:function hd(n,e,t){if(!It(n.segments,e.segments)||!Z(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!hd(n.children[r],e.children[r],t))return!1;return!0},subset:k},Wa={exact:function(n,e){return Ys(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Eo(n[t],e[t]))},ignored:()=>!0};function zl(n,e,t){return dd[t.paths](n.root,e.root,t.matrixParams)&&Wa[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function k(n,e,t){return P(n,e,e.segments,t)}function P(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!It(i,t)||e.hasChildren()||!Z(i,t,r))}if(n.segments.length===t.length){if(!It(n.segments,t)||!Z(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!k(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(It(n.segments,i)&&Z(n.segments,i,r)&&n.children[gn])&&P(n.children[gn],e,o,r)}}function Z(n,e,t){return e.every((r,i)=>Wa[t](n[i].parameters,r.parameters))}class ve{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ks(this.queryParams)),this._queryParamMap}toString(){return fn.serialize(this)}}class Te{constructor(e,t){this.segments=e,this.children=t,this.parent=null,hr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Br(this)}}class We{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ks(this.parameters)),this._parameterMap}toString(){return fd(this)}}function It(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class un{}class xn{parse(e){const t=new nw(e);return new ve(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Yn(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ds(t)}=${ds(i)}`).join("&"):`${ds(t)}=${ds(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const fn=new xn;function Br(n){return n.segments.map(e=>fd(e)).join("/")}function Yn(n,e){if(!n.hasChildren())return Br(n);if(e){const t=n.children[gn]?Yn(n.children[gn],!1):"",r=[];return hr(n.children,(i,o)=>{o!==gn&&r.push(`${o}:${Yn(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return hr(n.children,(r,i)=>{i===gn&&(t=t.concat(e(r,i)))}),hr(n.children,(r,i)=>{i!==gn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===gn?[Yn(n.children[gn],!1)]:[`${i}:${Yn(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gn]?`${Br(n)}/${t[0]}`:`${Br(n)}/(${t.join("//")})`}}function Yo(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ds(n){return Yo(n).replace(/%3B/gi,";")}function Qs(n){return Yo(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hs(n){return decodeURIComponent(n)}function va(n){return hs(n.replace(/\+/g,"%20"))}function fd(n){return`${Qs(n.path)}${function(n){return Object.keys(n).map(e=>`;${Qs(e)}=${Qs(n[e])}`).join("")}(n.parameters)}`}const qa=/^[^\/()?;=#]+/;function Za(n){const e=n.match(qa);return e?e[0]:""}const X_=/^[^=?&#]+/,pd=/^[^&#]+/;class nw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[gn]=new Te(e,t)),r}parseSegment(){const e=Za(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new We(hs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Za(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Za(this.remaining);i&&(r=i,this.capture(r))}e[hs(t)]=hs(r)}parseQueryParam(e){const t=function(n){const e=n.match(X_);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function(n){const e=n.match(pd);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=va(t),o=va(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Za(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let o;r.indexOf(":")>-1?(o=r.substr(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=gn);const u=this.parseChildren();t[o]=1===Object.keys(u).length?u[gn]:new Te([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class zh{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Cc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cc(e,this._root).map(t=>t.value)}}function Gh(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gh(n,t);if(r)return r}return null}function Cc(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Cc(n,t);if(r.length)return r.unshift(e),r}return[]}class Xs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ka(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Gl extends zh{constructor(e,t){super(e),this.snapshot=t,gd(this,e)}toString(){return this.snapshot.toString()}}function ug(n,e){const t=function(n,e){const u=new $l([],{},{},"",{},gn,e,null,n.root,-1,{});return new Wh("",new Xs(u,[]))}(n,e),r=new ei([new We("",{})]),i=new ei({}),o=new ei({}),u=new ei({}),h=new ei(""),p=new Ic(r,i,u,h,o,gn,e,t.root);return p.snapshot=t.root,new Gl(new Xs(p,[]),t)}class Ic{constructor(e,t,r,i,o,u,h,p){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(e=>Ks(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(e=>Ks(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bu(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Tt(Tt({},e.params),t.params),data:Tt(Tt({},e.data),t.data),resolve:Tt(Tt({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class $l{constructor(e,t,r,i,o,u,h,p,y,T,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=u,this.component=h,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=T,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ks(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ks(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wh extends zh{constructor(e,t){super(t),this.url=e,gd(this,t)}toString(){return Ya(this._root)}}function gd(n,e){e.value._routerState=n,e.children.forEach(t=>gd(n,t))}function Ya(n){const e=n.children.length>0?` { ${n.children.map(Ya).join(", ")} } `:"";return`${n.value}${e}`}function qh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ys(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ys(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ys(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ys(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Zh(n,e){const t=Ys(n.params,e.params)&&function(n,e){return It(n,e)&&n.every((t,r)=>Ys(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Zh(n.parent,e.parent))}function wu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return wu(n,r,i);return wu(n,r)})}(n,e,t);return new Xs(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>wu(n,h)),u}}const r=function(n){return new Ic(new ei(n.url),new ei(n.params),new ei(n.queryParams),new ei(n.fragment),new ei(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>wu(n,o));return new Xs(r,i)}}function Wl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Eu(n){return"object"==typeof n&&null!=n&&n.outlets}function Cu(n,e,t,r,i){let o={};return r&&hr(r,(u,h)=>{o[h]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),new ve(t.root===n?e:hg(t.root,n,e),o,i)}function hg(n,e,t){const r={};return hr(n.children,(i,o)=>{r[o]=i===e?t:hg(i,e,t)}),new Te(n.segments,r)}class Kh{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wl(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Eu);if(i&&i!==Hl(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sc{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function gg(n,e,t){if(n||(n=new Te([],{})),0===n.segments.length&&n.hasChildren())return Yh(n,e,t);const r=function(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const u=n.segments[i],h=t[r];if(Eu(h))break;const p=`${h}`,y=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!_(p,y,u))return o;r+=2}else{if(!_(p,{},u))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Te(n.segments.slice(0,r.pathIndex),{});return o.children[gn]=new Te(n.segments.slice(r.pathIndex),n.children),Yh(o,0,i)}return r.match&&0===i.length?new Te(n.segments,{}):r.match&&!n.hasChildren()?ql(n,e,t):r.match?Yh(n,0,i):ql(n,e,t)}function Yh(n,e,t){if(0===t.length)return new Te(n.segments,{});{const r=function(n){return Eu(n[0])?n[0].outlets:{[gn]:n}}(t),i={};return hr(r,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[u]=gg(n.children[u],e,o))}),hr(n.children,(o,u)=>{void 0===r[u]&&(i[u]=o)}),new Te(n.segments,i)}}function ql(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Eu(o)){const p=E(o.outlets);return new Te(r,p)}if(0===i&&Wl(t[0])){r.push(new We(n.segments[e].path,m(t[0]))),i++;continue}const u=Eu(o)?o.outlets[gn]:`${o}`,h=i<t.length-1?t[i+1]:null;u&&h&&Wl(h)?(r.push(new We(u,m(h))),i+=2):(r.push(new We(u,{})),i++)}return new Te(r,{})}function E(n){const e={};return hr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ql(new Te([],{}),0,t))}),e}function m(n){const e={};return hr(n,(t,r)=>e[r]=`${t}`),e}function _(n,e,t){return n==t.path&&Ys(e,t.parameters)}class G{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),qh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ka(t);e.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,i[u],r),delete i[u]}),hr(i,(o,u)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ka(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ka(e);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ka(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ko(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pu(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(qh(i),i===o)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),qh(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),p=h?h.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=p,u.outlet&&u.outlet.activateWith(i,p),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class ze{constructor(e,t){this.routes=e,this.module=t}}function lt(n){return"function"==typeof n}function jt(n){return n instanceof ve}const Ea=Symbol("INITIAL_VALUE");function Dc(){return Fr(n=>xs(n.map(e=>e.pipe((0,rr.q)(1),_i(Ea)))).pipe(es((e,t)=>{let r=!1;return t.reduce((i,o,u)=>i!==Ea?i:(o===Ea&&(r=!0),r||!1!==o&&u!==t.length-1&&!jt(o)?i:o),e)},Ea),Fn(e=>e!==Ea),(0,Mt.U)(e=>jt(e)?e:!0===e),(0,rr.q)(1)))}class Qh{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ac,this.attachRef=null}}class Ac{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Qh,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let md=(()=>{class n{constructor(t,r,i,o,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=o||gn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,p=new _d(t,h,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ac),s.Y36(s.s_b),s.Y36(s._Vd),s.$8M("name"),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class _d{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ic?this.route:e===Ac?this.childContexts:this.parent.get(e,t)}}let xc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&s._UZ(0,"router-outlet")},directives:[md],encapsulation:2}),n})();function yd(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Iu(r,mg(e,r))}}function Iu(n,e){n.children&&yd(n.children,e)}function mg(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Vr(n){const e=n.children&&n.children.map(Vr),t=e?Zi(Tt({},n),{children:e}):Tt({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==gn&&(t.component=xc),t}function fs(n){return n.outlet||gn}function _g(n,e){const t=n.filter(r=>fs(r)===e);return t.push(...n.filter(r=>fs(r)!==e)),t}const yg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xh(n,e,t){var h;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Tt({},yg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||lg)(t,n,e);if(!i)return Tt({},yg);const o={};hr(i.posParams,(p,y)=>{o[y]=p.path});const u=i.consumed.length>0?Tt(Tt({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:u,positionalParamSegments:null!=(h=i.posParams)?h:{}}}function vg(n,e,t,r,i="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>sy(n,e,r)&&fs(r)!==gn)}(n,t,r)){const u=new Te(e,function(n,e,t,r){const i={};i[gn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&fs(o)!==gn){const u=new Te([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[fs(o)]=u}return i}(n,e,r,new Te(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>sy(n,e,r))}(n,t,r)){const u=new Te(n.segments,function(n,e,t,r,i,o){const u={};for(const h of r)if(sy(n,t,h)&&!i[fs(h)]){const p=new Te([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===o?n.segments.length:e.length,u[fs(h)]=p}return Tt(Tt({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const o=new Te(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}function sy(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function LS(n,e,t,r){return!!(fs(n)===r||r!==gn&&sy(e,t,n))&&("**"===n.path||Xh(e,n,t).matched)}function vd(n,e,t){return 0===e.length&&!n.children[t]}class xi{constructor(e){this.segmentGroup=e||null}}class bg{constructor(e){this.urlTree=e}}function Jh(n){return new mr.y(e=>e.error(new xi(n)))}function oy(n){return new mr.y(e=>e.error(new bg(n)))}function ps(n){return new mr.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class BS{constructor(e,t,r,i,o){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.h0i)}apply(){const e=vg(this.urlTree.root,[],[],this.config).segmentGroup,t=new Te(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,gn).pipe((0,Mt.U)(o=>this.createUrlTree(wg(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ks(o=>{if(o instanceof bg)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof xi?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,gn).pipe((0,Mt.U)(i=>this.createUrlTree(wg(i),e.queryParams,e.fragment))).pipe(ks(i=>{throw i instanceof xi?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Te([],{[gn]:e}):e;return new ve(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Mt.U)(o=>new Te([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,dr.D)(i).pipe(za(o=>{const u=r.children[o],h=_g(t,o);return this.expandSegmentGroup(e,h,u,o).pipe((0,Mt.U)(p=>({segment:p,outlet:o})))}),es((o,u)=>(o[u.outlet]=u.segment,o),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fn((i,o)=>n(i,o,r)):Wo.y,wr(1),t?ag(e):Ga(()=>new ma))}())}expandSegment(e,t,r,i,o,u){return(0,dr.D)(r).pipe(za(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,o,u).pipe(ks(y=>{if(y instanceof xi)return Ct(null);throw y}))),Bl(h=>!!h),ks((h,p)=>{if(h instanceof ma||"EmptyError"===h.name){if(vd(t,i,o))return Ct(new Te([],{}));throw new xi(t)}throw h}))}expandSegmentAgainstRoute(e,t,r,i,o,u,h){return LS(i,t,o,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u):Jh(t):Jh(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?oy(o):this.lineralizeSegments(r,o).pipe((0,er.z)(u=>{const h=new Te(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,u){const{matched:h,consumedSegments:p,lastChild:y,positionalParamSegments:T}=Xh(t,i,o);if(!h)return Jh(t);const R=this.applyRedirectCommands(p,i.redirectTo,T);return i.redirectTo.startsWith("/")?oy(R):this.lineralizeSegments(i,R).pipe((0,er.z)(W=>this.expandSegment(e,t,r,W.concat(o.slice(y)),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Mt.U)(W=>(r._loadedConfig=W,new Te(i,{})))):Ct(new Te(i,{}));const{matched:u,consumedSegments:h,lastChild:p}=Xh(t,r,i);if(!u)return Jh(t);const y=i.slice(p);return this.getChildConfig(e,r,i).pipe((0,er.z)(R=>{const W=R.module,ie=R.routes,{segmentGroup:_e,slicedSegments:Le}=vg(t,h,y,ie),tt=new Te(_e.segments,_e.children);if(0===Le.length&&tt.hasChildren())return this.expandChildren(W,ie,tt).pipe((0,Mt.U)(Ft=>new Te(h,Ft)));if(0===ie.length&&0===Le.length)return Ct(new Te(h,{}));const vt=fs(r)===o;return this.expandSegment(W,tt,ie,Le,vt?gn:o,!0).pipe((0,Mt.U)(Gt=>new Te(h.concat(Gt.segments),Gt.children)))}))}getChildConfig(e,t,r){return t.children?Ct(new ze(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,er.z)(i=>{return i?this.configLoader.load(e.injector,t).pipe((0,Mt.U)(o=>(t._loadedConfig=o,o))):(n=t,new mr.y(e=>e.error(ud(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):Ct(new ze([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Ct(i.map(u=>{const h=e.get(u);let p;if((n=h)&&lt(n.canLoad))p=h.canLoad(t,r);else{if(!lt(h))throw new Error("Invalid CanLoad guard");p=h(t,r)}var n;return ns(p)})).pipe(Dc(),(0,ui.b)(u=>{if(!jt(u))return;const h=ud(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw h.url=u,h}),(0,Mt.U)(u=>!0===u)):Ct(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ct(r);if(i.numberOfChildren>1||!i.children[gn])return ps(e.redirectTo);i=i.children[gn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ve(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return hr(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[o]=t[h]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let u={};return hr(t.children,(h,p)=>{u[p]=this.createSegmentGroup(e,h,r,i)}),new Te(o,u)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function wg(n){const e={};for(const r of Object.keys(n.children)){const o=wg(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function(n){if(1===n.numberOfChildren&&n.children[gn]){const e=n.children[gn];return new Te(n.segments.concat(e.segments),e.children)}return n}(new Te(n.segments,e))}class ly{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Eg{constructor(e,t){this.component=e,this.route=t}}function rw(n,e,t){const r=n._root;return Tu(r,e?e._root:null,t,[r.value])}function Cg(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Tu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ka(e);return n.children.forEach(u=>{(function(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const p=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!It(n.url,e.url);case"pathParamsOrQueryParamsChange":return!It(n.url,e.url)||!Ys(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zh(n,e)||!Ys(n.queryParams,e.queryParams);default:return!Zh(n,e)}}(u,o,o.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new ly(r)):(o.data=u.data,o._resolvedData=u._resolvedData),Tu(n,e,o.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Eg(h.outlet.component,u))}else u&&Ig(e,h,i),i.canActivateChecks.push(new ly(r)),Tu(n,null,o.component?h?h.children:null:t,r,i)})(u,o[u.value.outlet],t,r.concat([u.value]),i),delete o[u.value.outlet]}),hr(o,(u,h)=>Ig(u,t.getContext(h),i)),i}function Ig(n,e,t){const r=Ka(n),i=n.value;hr(r,(o,u)=>{Ig(o,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Eg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class QS{}function uy(n){return new mr.y(e=>e.error(n))}class JS{constructor(e,t,r,i,o,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=u}recognize(){const e=vg(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,gn);if(null===t)return null;const r=new $l([],Object.freeze({}),Object.freeze(Tt({},this.urlTree.queryParams)),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xs(r,t),o=new Wh(this.url,i);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(e){const t=e.value,r=bu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const o of Object.keys(t.children)){const u=t.children[o],h=_g(e,o),p=this.processSegmentGroup(h,u,o);if(null===p)return null;r.push(...p)}const i=sw(r);return i.sort((e,t)=>e.value.outlet===gn?-1:t.value.outlet===gn?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,r,i){for(const o of e){const u=this.processSegmentAgainstRoute(o,t,r,i);if(null!==u)return u}return vd(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!LS(e,t,r,i))return null;let o,u=[],h=[];if("**"===e.path){const ie=r.length>0?Hl(r).parameters:{};o=new $l(r,ie,Object.freeze(Tt({},this.urlTree.queryParams)),this.urlTree.fragment,Ca(e),fs(e),e.component,e,ow(t),Su(t)+r.length,nD(e))}else{const ie=Xh(t,e,r);if(!ie.matched)return null;u=ie.consumedSegments,h=r.slice(ie.lastChild),o=new $l(u,ie.parameters,Object.freeze(Tt({},this.urlTree.queryParams)),this.urlTree.fragment,Ca(e),fs(e),e.component,e,ow(t),Su(t)+u.length,nD(e))}const p=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:y,slicedSegments:T}=vg(t,u,h,p.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);var n;if(0===T.length&&y.hasChildren()){const ie=this.processChildren(p,y);return null===ie?null:[new Xs(o,ie)]}if(0===p.length&&0===T.length)return[new Xs(o,[])];const R=fs(e)===i,W=this.processSegment(p,y,T,R?gn:i);return null===W?null:[new Xs(o,W)]}}function iw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function sw(n){const e=[],t=new Set;for(const r of n){if(!iw(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=sw(r.children);e.push(new Xs(r.value,i))}return e.filter(r=>!t.has(r))}function ow(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Su(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ca(n){return n.data||{}}function nD(n){return n.resolve||{}}function nf(n){return Fr(e=>{const t=n(e);return t?(0,dr.D)(t).pipe((0,Mt.U)(()=>e)):Ct(e)})}class rf extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tg=new s.OlP("ROUTES");class hy{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Mt.U)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=o.create(e);return new ze(_u(u.injector.get(Tg,void 0,s.XFs.Self|s.XFs.Optional)).map(Vr),u)}),ks(o=>{throw t._loader$=void 0,o}));return t._loader$=new Ll(i,()=>new Yt.x).pipe(_a()),t._loader$}loadModuleFactory(e){return ns(e()).pipe((0,er.z)(t=>t instanceof s.YKP?Ct(t):(0,dr.D)(this.compiler.compileModuleAsync(t))))}}class py{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function cw(n){throw n}function lP(n,e,t){return e.parse("/")}function Du(n,e){return Ct(null)}const gy={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rs=(()=>{class n{constructor(t,r,i,o,u,h,p){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=o,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Yt.x,this.errorHandler=cw,this.malformedUriErrorHandler=lP,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Du,afterPreactivation:Du},this.urlHandlingStrategy=new py,this.routeReuseStrategy=new rf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const R=u.get(s.R0b);this.isNgZoneEnabled=R instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=new ve(new Te([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new hy(u,h,W=>this.triggerEvent(new Zo(W)),W=>this.triggerEvent(new wo(W))),this.routerState=ug(this.currentUrlTree,this.rootComponentType),this.transitions=new ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Fn(i=>0!==i.id),(0,Mt.U)(i=>Zi(Tt({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Fr(i=>{let o=!1,u=!1;return Ct(i).pipe((0,ui.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Zi(Tt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Fr(h=>{const p=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Sg(h.source)&&(this.browserUrlTree=h.extractedUrl),Ct(h).pipe(Fr(R=>{const W=this.transitions.getValue();return r.next(new ld(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),W!==this.transitions.getValue()?Ha.E:Promise.resolve(R)}),function(n,e,t,r){return Fr(i=>function(n,e,t,r,i){return new BS(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Mt.U)(o=>Zi(Tt({},i),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ui.b)(R=>{this.currentNavigation=Zi(Tt({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,e,t,r,i){return(0,er.z)(o=>function(n,e,t,r,i="emptyOnly",o="legacy"){try{const u=new JS(n,e,t,r,i,o).recognize();return null===u?uy(new QS):Ct(u)}catch(u){return uy(u)}}(n,e,o.urlAfterRedirects,t(o.urlAfterRedirects),r,i).pipe((0,Mt.U)(u=>Zi(Tt({},o),{targetSnapshot:u}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ui.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const ie=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(ie,R)}this.browserUrlTree=R.urlAfterRedirects}const W=new cd(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(W)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:W,extractedUrl:ie,source:_e,restoredState:Le,extras:tt}=h,vt=new ld(W,this.serializeUrl(ie),_e,Le);r.next(vt);const Pt=ug(ie,this.rootComponentType).snapshot;return Ct(Zi(Tt({},h),{targetSnapshot:Pt,urlAfterRedirects:ie,extras:Zi(Tt({},tt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),Ha.E}),nf(h=>{const{targetSnapshot:p,id:y,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:W,replaceUrl:ie}}=h;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!W,replaceUrl:!!ie})}),(0,ui.b)(h=>{const p=new jh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(p)}),(0,Mt.U)(h=>Zi(Tt({},h),{guards:rw(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function(n,e){return(0,er.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:u}}=t;return 0===u.length&&0===o.length?Ct(Zi(Tt({},t),{guardsResult:!0})):function(n,e,t,r){return(0,dr.D)(n).pipe((0,er.z)(i=>function(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ct(o.map(h=>{const p=Cg(h,e,i);let y;if(function(n){return n&&lt(n.canDeactivate)}(p))y=ns(p.canDeactivate(n,e,t,r));else{if(!lt(p))throw new Error("Invalid CanDeactivate guard");y=ns(p(n,e,t,r))}return y.pipe(Bl())})).pipe(Dc()):Ct(!0)}(i.component,i.route,t,e,r)),Bl(i=>!0!==i,!0))}(u,r,i,n).pipe((0,er.z)(h=>h&&function(n){return"boolean"==typeof n}(h)?function(n,e,t,r){return(0,dr.D)(e).pipe(za(i=>vo(function(n,e){return null!==n&&e&&e(new fu(n)),Ct(!0)}(i.route.parent,r),function(n,e){return null!==n&&e&&e(new gu(n)),Ct(!0)}(i.route,r),function(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(u=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Ws(()=>Ct(u.guards.map(p=>{const y=Cg(p,u.node,t);let T;if(function(n){return n&&lt(n.canActivateChild)}(y))T=ns(y.canActivateChild(r,n));else{if(!lt(y))throw new Error("Invalid CanActivateChild guard");T=ns(y(r,n))}return T.pipe(Bl())})).pipe(Dc())));return Ct(o).pipe(Dc())}(n,i.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ct(!0);const i=r.map(o=>Ws(()=>{const u=Cg(o,e,t);let h;if(function(n){return n&&lt(n.canActivate)}(u))h=ns(u.canActivate(e,n));else{if(!lt(u))throw new Error("Invalid CanActivate guard");h=ns(u(e,n))}return h.pipe(Bl())}));return Ct(i).pipe(Dc())}(n,i.route,t))),Bl(i=>!0!==i,!0))}(r,o,n,e):Ct(h)),(0,Mt.U)(h=>Zi(Tt({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ui.b)(h=>{if(jt(h.guardsResult)){const y=ud(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const p=new ts(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(p)}),Fn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),nf(h=>{if(h.guards.canActivateChecks.length)return Ct(h).pipe((0,ui.b)(p=>{const y=new Zs(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),Fr(p=>{let y=!1;return Ct(p).pipe(function(n,e){return(0,er.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ct(t);let o=0;return(0,dr.D)(i).pipe(za(u=>function(n,e,t,r){return function(n,e,t,r){const i=Object.keys(n);if(0===i.length)return Ct({});const o={};return(0,dr.D)(i).pipe((0,er.z)(u=>function(n,e,t,r){const i=Cg(n,e,r);return ns(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,ui.b)(h=>{o[u]=h}))),wr(1),(0,er.z)(()=>Object.keys(o).length===i.length?Ct(o):Ha.E))}(n._resolve,n,e,r).pipe((0,Mt.U)(o=>(n._resolvedData=o,n.data=Tt(Tt({},n.data),bu(n,t).resolve),null)))}(u.route,r,n,e)),(0,ui.b)(()=>o++),wr(1),(0,er.z)(u=>o===i.length?Ct(t):Ha.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ui.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,ui.b)(p=>{const y=new Ul(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),nf(h=>{const{targetSnapshot:p,id:y,extractedUrl:T,rawUrl:R,extras:{skipLocationChange:W,replaceUrl:ie}}=h;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:T,rawUrlTree:R,skipLocationChange:!!W,replaceUrl:!!ie})}),(0,Mt.U)(h=>{const p=function(n,e,t){const r=wu(n,e._root,t?t._root:void 0);return new Gl(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Zi(Tt({},h),{targetRouterState:p})}),(0,ui.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Mt.U)(r=>(new G(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ui.b)({next(){o=!0},complete(){o=!0}}),hu(()=>{var h;o||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null==(h=this.currentNavigation)?void 0:h.id)===i.id&&(this.currentNavigation=null)}),ks(h=>{if(u=!0,function(n){return n&&n[Rs]}(h)){const p=jt(h.url);p||(this.navigated=!0,this.restoreHistory(i,!0));const y=new $a(i.id,this.serializeUrl(i.extractedUrl),h.message);r.next(y),p?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),R={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Sg(i.source)};this.scheduleNavigation(T,"imperative",null,R,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const p=new Vl(i.id,this.serializeUrl(i.extractedUrl),h);r.next(p);try{i.resolve(this.errorHandler(h))}catch(y){i.reject(y)}}return Ha.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Tt(Tt({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var h;const i={replaceUrl:!0},o=(null==(h=t.state)?void 0:h.navigationId)?t.state:null;if(o){const p=Tt({},o);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(i.state=p)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,o,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){yd(t),this.config=t.map(Vr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:p}=r,y=i||this.routerState.root,T=p?this.currentUrlTree.fragment:u;let R=null;switch(h){case"merge":R=Tt(Tt({},this.currentUrlTree.queryParams),o);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=o||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,e,t,r,i){if(0===t.length)return Cu(e.root,e.root,e,r,i);const o=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kh(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return hr(o.outlets,(p,y)=>{h[y]="string"==typeof p?p.split("/"):p}),[...i,{outlets:h}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===u?(o.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,o]},[]);return new Kh(t,e,r)}(t);if(o.toRoot())return Cu(e.root,new Te([],{}),e,r,i);const u=function(n,e,t){if(n.isAbsolute)return new Sc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const o=t.snapshot._urlSegment;return new Sc(o,o===e.root,0)}const r=Wl(n.commands[0])?0:1;return function(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Sc(r,!1,i-o)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(o,e,n),h=u.processChildren?Yh(u.segmentGroup,u.index,o.commands):gg(u.segmentGroup,u.index,o.commands);return Cu(u.segmentGroup,h,e,r,i)}(y,this.currentUrlTree,t,R,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=jt(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Tt({},gy):!1===r?Tt({},uw):r,jt(t))return zl(this.currentUrlTree,t,i);const o=this.parseUrl(t);return zl(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Mr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,o,u){var vt,Pt,Gt;if(this.disposed)return Promise.resolve(!1);const h=this.transitions.value,p=Sg(r)&&h&&!Sg(h.source),y=h.rawUrl.toString()===t.toString(),T=h.id===(null==(vt=this.currentNavigation)?void 0:vt.id);if(p&&y&&T)return Promise.resolve(!0);let W,ie,_e;u?(W=u.resolve,ie=u.reject,_e=u.promise):_e=new Promise((Ft,_n)=>{W=Ft,ie=_n});const Le=++this.navigationId;let tt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),tt=i&&i.\u0275routerPageId?i.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!=(Pt=this.browserPageId)?Pt:0:(null!=(Gt=this.browserPageId)?Gt:0)+1):tt=0,this.setTransition({id:Le,targetPageId:tt,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:o,resolve:W,reject:ie,promise:_e,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_e.catch(Ft=>Promise.reject(Ft))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),o=Tt(Tt({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",o):this.location.go(i,"",o)}restoreHistory(t,r=!1){var i,o;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(i=this.currentNavigation)?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null==(o=this.currentNavigation)?void 0:o.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new $a(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Sg(n){return"imperative"!==n}let bd=(()=>{class n{constructor(t,r,i,o,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new Yt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:wd(this.skipLocationChange),replaceUrl:wd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(rs),s.Y36(Ic),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&s.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),Dg=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Yt.x,this.subscription=t.events.subscribe(o=>{o instanceof Mr&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,o,u){if(0!==t||r||i||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:wd(this.skipLocationChange),replaceUrl:wd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wd(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(rs),s.Y36(Ic),s.Y36(Ee))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&s.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&s.uIk("target",r.target)("href",r.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})();function wd(n){return""===n||!!n}class _y{}class vy{preload(e,t){return Ct(null)}}let Ag=(()=>{class n{constructor(t,r,i,o){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=new hy(i,r,p=>t.triggerEvent(new Zo(p)),p=>t.triggerEvent(new wo(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(Fn(t=>t instanceof Mr),za(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(s.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const u=o._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else o.loadChildren&&!o.canLoad?i.push(this.preloadConfig(t,o)):o.children&&i.push(this.processRoutes(t,o.children));return(0,dr.D)(i).pipe((0,$s.J)(),(0,Mt.U)(o=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,er.z)(o=>(r._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(rs),s.LFG(s.Sil),s.LFG(s.zs3),s.LFG(_y))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),by=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ld?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new jl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Mc=new s.OlP("ROUTER_CONFIGURATION"),wy=new s.OlP("ROUTER_FORROOT_GUARD"),Au=[Qe,{provide:un,useClass:xn},{provide:rs,useFactory:function(n,e,t,r,i,o,u={},h,p){const y=new rs(null,n,e,t,r,i,_u(o));return h&&(y.urlHandlingStrategy=h),p&&(y.routeReuseStrategy=p),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,y),u.enableTracing&&y.events.subscribe(T=>{var R,W;null==(R=console.group)||R.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null==(W=console.groupEnd)||W.call(console)}),y},deps:[un,Ac,Qe,s.zs3,s.Sil,Tg,Mc,[class{},new s.FiY],[class{},new s.FiY]]},Ac,{provide:Ic,useFactory:function(n){return n.routerState.root},deps:[rs]},Ag,vy,class{preload(e,t){return t().pipe(ks(()=>Ct(null)))}},{provide:Mc,useValue:{enableTracing:!1}}];function dw(){return new s.PXZ("Router",rs)}let Ed=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Au,Ey(t),{provide:wy,useFactory:aD,deps:[[rs,new s.FiY,new s.tp0]]},{provide:Mc,useValue:r||{}},{provide:Ee,useFactory:xg,deps:[Y,[new s.tBr(ce),new s.FiY],Mc]},{provide:by,useFactory:oD,deps:[rs,Jt,Mc]},{provide:_y,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:vy},{provide:s.PXZ,multi:!0,useFactory:dw},[Mg,{provide:s.ip1,multi:!0,useFactory:kg,deps:[Mg]},{provide:Iy,useFactory:Rg,deps:[Mg]},{provide:s.tb,multi:!0,useExisting:Iy}]]}}static forChild(t){return{ngModule:n,providers:[Ey(t)]}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(wy,8),s.LFG(rs,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function oD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new by(n,e,t)}function xg(n,e,t={}){return t.useHash?new Pe(n,e):new Oe(n,e)}function aD(n){return"guarded"}function Ey(n){return[{provide:s.deG,multi:!0,useValue:n},{provide:Tg,multi:!0,useValue:n}]}let Mg=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Yt.x}appInitializer(){return this.injector.get(Q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),o=this.injector.get(rs),u=this.injector.get(Mc);return"disabled"===u.initialNavigation?(o.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),o.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Mc),i=this.injector.get(Ag),o=this.injector.get(by),u=this.injector.get(rs),h=this.injector.get(s.z2F);t===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),o.init(),u.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function kg(n){return n.appInitializer.bind(n)}function Rg(n){return n.bootstrapListener.bind(n)}const Iy=new s.OlP("Router Initializer"),Sy=[];let sf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Ed.forRoot(Sy)],Ed]}),n})();class Og{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Yt.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}var af=A(6921);function Ur(n){return(0,Nr.e)((e,t)=>{(0,mi.Xf)(n).subscribe(new Kn.Q(t,()=>t.complete(),af.Z)),!t.closed&&e.subscribe(t)})}function jr(n){return null!=n&&"false"!=`${n}`}function Mi(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function lf(n){return Array.isArray(n)?n:[n]}function yi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kl(n){return n instanceof s.SBq?n.nativeElement:n}const pD=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,s.f3M)(H)}}),gD=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Cd=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new s.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?gD.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(pD,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();class yw extends class{constructor(){this.expansionModel=new Og(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(r=>this._trackByValue(r)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(r=>this._trackByValue(r)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}{constructor(e,t,r){super(),this.getLevel=e,this.isExpandable=t,this.options=r,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(e){const r=[];for(let i=this.dataNodes.indexOf(e)+1;i<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[i]);i++)r.push(this.dataNodes[i]);return r}expandAll(){this.expansionModel.select(...this.dataNodes.map(e=>this._trackByValue(e)))}}const Js=new s.OlP("CDK_TREE_NODE_OUTLET_NODE");let Td=(()=>{class n{constructor(t,r){this.viewContainer=t,this._node=r}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(Js,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTreeNodeOutlet",""]]}),n})();class _D{constructor(e){this.$implicit=e}}let Sd=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),n})(),Xa=(()=>{class n{constructor(t,r){this._differs=t,this._changeDetectorRef=r,this._onDestroy=new Yt.x,this._levels=new Map,this.viewChange=new ei({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}ngOnInit(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const t=this._nodeDefs.filter(r=>!r.when);this._defaultNodeDef=t[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(t){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),t||this._nodeOutlet.viewContainer.clear(),this._dataSource=t,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let t;!function(n){return n&&"function"==typeof n.connect}(this._dataSource)?function(n){return!!n&&(n instanceof mr.y||(0,us.m)(n.lift)&&(0,us.m)(n.subscribe))}(this._dataSource)?t=this._dataSource:Array.isArray(this._dataSource)&&(t=Ct(this._dataSource)):t=this._dataSource.connect(this),t&&(this._dataSubscription=t.pipe(Ur(this._onDestroy)).subscribe(r=>this.renderNodeChanges(r)))}renderNodeChanges(t,r=this._dataDiffer,i=this._nodeOutlet.viewContainer,o){const u=r.diff(t);!u||(u.forEachOperation((h,p,y)=>{if(null==h.previousIndex)this.insertNode(t[y],y,i,o);else if(null==y)i.remove(p),this._levels.delete(h.item);else{const T=i.get(p);i.move(T,y)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(t,r){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find(o=>o.when&&o.when(r,t))||this._defaultNodeDef}insertNode(t,r,i,o){const u=this._getNodeDef(t,r),h=new _D(t);h.level=this.treeControl.getLevel?this.treeControl.getLevel(t):void 0!==o&&this._levels.has(o)?this._levels.get(o)+1:0,this._levels.set(t,h.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(u.template,h,r),Yl.mostRecentTreeNode&&(Yl.mostRecentTreeNode.data=t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.ZZ4),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-tree"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,Sd,5),2&t){let o;s.iGM(o=s.CRH())&&(r._nodeDefs=o)}},viewQuery:function(t,r){if(1&t&&s.Gf(Td,7),2&t){let i;s.iGM(i=s.CRH())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,r){1&t&&s.GkF(0,0)},directives:[Td],encapsulation:2}),n})(),Yl=(()=>{class n{constructor(t,r){this._elementRef=t,this._tree=r,this._destroyed=new Yt.x,this._dataChanges=new Yt.x,n.mostRecentTreeNode=this,this.role="treeitem"}get role(){return"treeitem"}set role(t){this._elementRef.nativeElement.setAttribute("role",t)}get data(){return this._data}set data(t){t!==this._data&&(this._data=t,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):this._parentNodeAriaLevel}ngOnInit(){this._parentNodeAriaLevel=function(n){let e=n.parentElement;for(;e&&!Ng(e);)e=e.parentElement;return e?e.classList.contains("cdk-nested-tree-node")?Mi(e.getAttribute("aria-level")):0:-1}(this._elementRef.nativeElement),this._elementRef.nativeElement.setAttribute("aria-level",`${this.level+1}`)}ngOnDestroy(){n.mostRecentTreeNode===this&&(n.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){this.role="treeitem"}}return n.mostRecentTreeNode=null,n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(Xa))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:1,hostBindings:function(t,r){2&t&&s.uIk("aria-expanded",r.isExpanded)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),n})();function Ng(n){const e=n.classList;return!(!(null==e?void 0:e.contains("cdk-nested-tree-node"))&&!(null==e?void 0:e.contains("cdk-tree")))}const Ay=/([A-Za-z%]+)$/;let xy,uf=(()=>{class n{constructor(t,r,i,o){this._treeNode=t,this._tree=r,this._element=i,this._dir=o,this._destroyed=new Yt.x,this.indentUnits="px",this._indent=40,this._setPadding(),o&&o.change.pipe(Ur(this._destroyed)).subscribe(()=>this._setPadding(!0)),t._dataChanges.subscribe(()=>this._setPadding())}get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){const t=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,r=null==this._level?t:this._level;return"number"==typeof r?`${r*this._indent}${this.indentUnits}`:null}_setPadding(t=!1){const r=this._paddingIndent();if(r!==this._currentPadding||t){const i=this._element.nativeElement,o=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",u="paddingLeft"===o?"paddingRight":"paddingLeft";i.style[o]=r||"",i.style[u]="",this._currentPadding=r}}_setLevelInput(t){this._level=Mi(t,null),this._setPadding()}_setIndentInput(t){let r=t,i="px";if("string"==typeof t){const o=t.split(Ay);r=o[0],i=o[1]||i}this.indentUnits=i,this._indent=Mi(r),this._setPadding()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Yl),s.Y36(Xa),s.Y36(s.SBq),s.Y36(Cd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),n})(),ww=(()=>{class n{constructor(t,r){this._tree=t,this._treeNode=r,this._recursive=!1}get recursive(){return this._recursive}set recursive(t){this._recursive=jr(t)}_toggle(t){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Xa),s.Y36(Yl))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(t,r){1&t&&s.NdJ("click",function(o){return r._toggle(o)})},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),n})(),vD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();try{xy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xy=!1}let df,ki=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?$e(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ew=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function wD(){if(df)return df;if("object"!=typeof document||!document)return df=new Set(Ew),df;let n=document.createElement("input");return df=new Set(Ew.filter(e=>(n.setAttribute("type",e),n.type===e))),df}let Dd,Ad,xd,Iw;function Fg(n){return function(){if(null==Dd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Dd=!0}))}finally{Dd=Dd||!1}return Dd}()?n:!!n.capture}function ED(){if(null==xd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return xd=!1,xd;if("scrollBehavior"in document.documentElement.style)xd=!0;else{const n=Element.prototype.scrollTo;xd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return xd}function Lg(){if("object"!=typeof document||!document)return 0;if(null==Ad){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),Ad=0,0===n.scrollLeft&&(n.scrollLeft=1,Ad=0===n.scrollLeft?1:2),n.remove()}return Ad}function CD(n){if(function(){if(null==Iw){const n="undefined"!=typeof document?document.head:null;Iw=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Iw}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Md(n){return n.composedPath?n.composedPath()[0]:n.target}function Tw(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function _f(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Oc=A(2210);function yf(n,e=Oc.z){return(0,Nr.e)((t,r)=>{let i=null,o=null,u=null;const h=()=>{if(i){i.unsubscribe(),i=null;const y=o;o=null,r.next(y)}};function p(){const y=u+n,T=e.now();if(T<y)return i=this.schedule(void 0,y-T),void r.add(i);h()}t.subscribe(new Kn.Q(r,y=>{o=y,u=e.now(),i||(i=e.schedule(p,n),r.add(i))},()=>{h(),r.complete()},void 0,()=>{o=i=null}))})}function Zw(n){return Fn((e,t)=>n<=t)}function jg(n,e=Wo.y){return n=null!=n?n:eA,(0,Nr.e)((t,r)=>{let i,o=!0;t.subscribe(new Kn.Q(r,u=>{const h=e(u);(o||!n(i,h))&&(o=!1,i=h,r.next(u))}))})}function eA(n,e){return n===e}class Ta extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Yt.x,this._typeaheadSubscription=qs.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Yt.x,this.change=new Yt.x,e instanceof s.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ui.b)(t=>this._pressedLetters.push(t)),yf(e),Fn(()=>this._pressedLetters.length>0),(0,Mt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const o=(this._activeItemIndex+i)%r.length,u=r[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||_f(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let iA=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(e){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===Hg(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),o=Hg(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==o:"video"===i?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nE(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ki))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Hg(n){if(!nE(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class cA{constructor(e,t,r,i,o=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,rr.q)(1)).subscribe(e)}}let uA=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new cA(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(iA),s.LFG(s.R0b),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rE(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Gg(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const el=new s.OlP("cdk-input-modality-detector-options"),bf={ignoreKeys:[18,17,224,91,16]},Xo=Fg({passive:!0,capture:!0});let $g=(()=>{class n{constructor(t,r,i,o){this._platform=t,this._mostRecentTarget=null,this._modality=new ei(null),this._lastTouchMs=0,this._onKeydown=u=>{var h,p;(null==(p=null==(h=this._options)?void 0:h.ignoreKeys)?void 0:p.some(y=>y===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Md(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(rE(u)?"keyboard":"mouse"),this._mostRecentTarget=Md(u))},this._onTouchstart=u=>{Gg(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Md(u))},this._options=Tt(Tt({},bf),o),this.modalityDetected=this._modality.pipe(Zw(1)),this.modalityChanged=this.modalityDetected.pipe(jg()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Xo),i.addEventListener("mousedown",this._onMousedown,Xo),i.addEventListener("touchstart",this._onTouchstart,Xo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xo),document.removeEventListener("mousedown",this._onMousedown,Xo),document.removeEventListener("touchstart",this._onTouchstart,Xo))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ki),s.LFG(s.R0b),s.LFG(H),s.LFG(el,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jo=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Rd=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Mu=(()=>{class n{constructor(t,r,i,o){this._ngZone=r,this._defaultOptions=o,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let o,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[o,u]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),null==u&&i&&(u=i.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null==(t=this._liveElement)||t.remove(),this._liveElement=null,null==(r=this._currentResolve)||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Jo,8),s.LFG(s.R0b),s.LFG(H),s.LFG(Rd,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Od=new s.OlP("cdk-focus-monitor-default-options"),Xl=Fg({passive:!0,capture:!0});let Pc=(()=>{class n{constructor(t,r,i,o,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Yt.x,this._rootNodeFocusAndBlurListener=h=>{const p=Md(h),y="focus"===h.type?this._onFocus:this._onBlur;for(let T=p;T;T=T.parentElement)y.call(this,h,T)},this._document=o,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=Kl(t);if(!this._platform.isBrowser||1!==i.nodeType)return Ct(null);const o=CD(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const h={checkChildren:r,subject:new Yt.x,rootNode:o};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=Kl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const o=Kl(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,p])=>this._originChanged(h,r,p)):(this._setOrigin(r),"function"==typeof o.focus&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),o=Md(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xl),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xl)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ur(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xl),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xl),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(ki),s.LFG($g),s.LFG(H,8),s.LFG(Od,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ku="cdk-high-contrast-black-on-white",Ru="cdk-high-contrast-white-on-black",Wg="cdk-high-contrast-active";let iE=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Wg),t.remove(ku),t.remove(Ru),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Wg),t.add(ku)):2===r&&(t.add(Wg),t.add(Ru))}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ki),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class jy{}const tl="*";function qg(n,e){return{type:7,name:n,definitions:e,options:{}}}function Pd(n,e=null){return{type:4,styles:e,timings:n}}function Hy(n,e=null){return{type:2,steps:n,options:e}}function Jl(n){return{type:6,styles:n,offset:null}}function Nd(n,e,t){return{type:0,name:n,styles:e,options:t}}function Cf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function oE(n){Promise.resolve(null).then(n)}class If{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){oE(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?oE(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==o&&this._onFinish()}),u.onDestroy(()=>{++r==o&&this._onDestroy()}),u.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Zg(){return"undefined"!=typeof window&&void 0!==window.document}function zy(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ou(n){switch(n.length){case 0:return new If;case 1:return n[0];default:return new aE(n)}}function gA(n,e,t,r,i={},o={}){const u=[],h=[];let p=-1,y=null;if(r.forEach(T=>{const R=T.offset,W=R==p,ie=W&&y||{};Object.keys(T).forEach(_e=>{let Le=_e,tt=T[_e];if("offset"!==_e)switch(Le=e.normalizePropertyName(Le,u),tt){case"!":tt=i[_e];break;case tl:tt=o[_e];break;default:tt=e.normalizeStyleValue(_e,Le,tt,u)}ie[Le]=tt}),W||h.push(ie),y=ie,p=R}),u.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${u.join(T)}`)}return h}function lE(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Gy(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Gy(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Gy(t,"destroy",n)))}}function Gy(n,e,t){const r=t.totalTime,o=Kg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(o._data=u),o}function Kg(n,e,t,r,i="",o=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!u}}function ea(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function cE(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Nc=(n,e)=>!1,$y=(n,e)=>!1,Wy=(n,e,t)=>[];const uE=zy();(uE||"undefined"!=typeof Element)&&(Nc=Zg()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),$y=(()=>{if(uE||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):$y}})(),Wy=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let o=0;o<i.length;o++)r.push(i[o])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let nl=null,hE=!1;function Yg(n){nl||(nl=("undefined"!=typeof document?document.body:null)||{},hE=!!nl.style&&"WebkitAppearance"in nl.style);let e=!0;return nl.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in nl.style,!e&&hE&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in nl.style)),e}const qy=$y,Zy=Nc,Ky=Wy;function fE(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Yy=(()=>{class n{validateStyleProperty(t){return Yg(t)}matchesElement(t,r){return qy(t,r)}containsElement(t,r){return Zy(t,r)}query(t,r,i){return Ky(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,u,h=[],p){return new If(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Qy=(()=>{class n{}return n.NOOP=new Yy,n})();const gE="ng-enter",Fd="ng-leave",Fc="ng-trigger",Sf=".ng-trigger",Qg="ng-animating",Df=".ng-animating";function Pu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Af(parseFloat(e[1]),e[2])}function Af(n,e){return"s"===e?1e3*n:n}function Ld(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let i,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=Af(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(o=Af(parseFloat(p),h[4]));const y=h[5];y&&(u=y)}else i=n;if(!t){let h=!1,p=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),h=!0),o<0&&(e.push("Delay values below 0 are not allowed for this animation step."),h=!0),h&&e.splice(p,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:o,easing:u}}(n,e,t)}function xf(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function rl(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else xf(n,t);return t}function Xg(n,e,t){return t?e+":"+t+";":""}function ev(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Xg(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Xg(0,bE(t),n.style[t]));n.setAttribute("style",e)}function Sa(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Rf(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),zy()&&ev(n))}function ec(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Rf(t);n.style[r]=""}),zy()&&ev(n))}function Bd(n){return Array.isArray(n)?1==n.length?n[0]:Hy(n):n}const Mf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jg(n){let e=[];if("string"==typeof n){let t;for(;t=Mf.exec(n);)e.push(t[1]);Mf.lastIndex=0}return e}function em(n,e,t){const r=n.toString(),i=r.replace(Mf,(o,u)=>{let h=e[u];return e.hasOwnProperty(u)||(t.push(`Please provide a value for the animation param ${u}`),h=""),h.toString()});return i==r?n:i}function kf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const vE=/-+([a-z0-9])/g;function Rf(n){return n.replace(vE,(...e)=>e[1].toUpperCase())}function bE(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wE(n,e){return 0===n||0===e}function tv(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let o=e[0],u=[];if(r.forEach(h=>{o.hasOwnProperty(h)||u.push(h),o[h]=t[h]}),u.length)for(var i=1;i<e.length;i++){let h=e[i];u.forEach(function(p){h[p]=tm(n,p)})}}return e}function eo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function tm(n,e){return window.getComputedStyle(n)[e]}function EE(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const p=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],o=r[2],u=r[3];e.push(nv(i,u));"<"==o[0]&&!("*"==i&&"*"==u)&&e.push(nv(u,i))}(r,t,e)):t.push(n),t}const Of=new Set(["true","1"]),Pf=new Set(["false","0"]);function nv(n,e){const t=Of.has(n)||Pf.has(n),r=Of.has(e)||Pf.has(e);return(i,o)=>{let u="*"==n||n==i,h="*"==e||e==o;return!u&&t&&"boolean"==typeof i&&(u=i?Of.has(n):Pf.has(n)),!h&&r&&"boolean"==typeof o&&(h=o?Of.has(e):Pf.has(e)),u&&h}}const TE=new RegExp("s*:selfs*,?","g");function SE(n,e,t){return new _A(n).build(e,t)}class _A{constructor(e){this._driver=e}build(e,t){const r=new Ri(t);return this._resetContextStyleTimingState(r),eo(this,Bd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const p=h,y=p.name;y.toString().split(/\s*,\s*/).forEach(T=>{p.name=T,o.push(this.visitState(p,t))}),p.name=y}else if(1==h.type){const p=this.visitTransition(h,t);r+=p.queryCount,i+=p.depCount,u.push(p)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:o,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,u=i||{};if(r.styles.forEach(h=>{if(nm(h)){const p=h;Object.keys(p).forEach(y=>{Jg(p[y]).forEach(T=>{u.hasOwnProperty(T)||o.add(T)})})}}),o.size){const h=kf(o.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${h.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=eo(this,Bd(e.animation),t);return{type:1,matchers:EE(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Lc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>eo(this,r,t)),options:Lc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(u=>{t.currentTime=r;const h=eo(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:o,options:Lc(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return iv(Ld(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=iv(0,0,"");return o.dynamic=!0,o.strValue=r,o}return t=t||Ld(r,e),iv(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:Jl({});if(5==o.type)i=this.visitKeyframes(o,t);else{let u=e.styles,h=!1;if(!u){h=!0;const y={};r.easing&&(y.easing=r.easing),u=Jl(y)}t.currentTime+=r.duration+r.delay;const p=this.visitStyle(u,t);p.isEmptyStep=h,i=p}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==tl?r.push(u):t.errors.push(`The provided style string value ${u} is not allowed.`):r.push(u)}):r.push(e.styles);let i=!1,o=null;return r.forEach(u=>{if(nm(u)){const h=u,p=h.easing;if(p&&(o=p,delete h.easing),!i)for(let y in h)if(h[y].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(h=>{if(!this._driver.validateStyleProperty(h))return void t.errors.push(`The provided animation property "${h}" is not a supported CSS property for animations`);const p=t.collectedStyles[t.currentQuerySelector],y=p[h];let T=!0;y&&(o!=i&&o>=y.startTime&&i<=y.endTime&&(t.errors.push(`The CSS property "${h}" that exists between the times of "${y.startTime}ms" and "${y.endTime}ms" is also being animated in a parallel animation between the times of "${o}ms" and "${i}ms"`),T=!1),o=y.startTime),T&&(p[h]={startTime:o,endTime:i}),t.options&&function(n,e,t){const r=e.params||{},i=Jg(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(`Unable to resolve the local animation param ${o} in the given list of values`)})}(u[h],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let o=0;const u=[];let h=!1,p=!1,y=0;const T=e.steps.map(vt=>{const Pt=this._makeStyleAst(vt,t);let Gt=null!=Pt.offset?Pt.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(nm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(nm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Pt.styles),Ft=0;return null!=Gt&&(o++,Ft=Pt.offset=Gt),p=p||Ft<0||Ft>1,h=h||Ft<y,y=Ft,u.push(Ft),Pt});p&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),h&&t.errors.push("Please ensure that all keyframe offsets are in order");const R=e.steps.length;let W=0;o>0&&o<R?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==o&&(W=1/(R-1));const ie=R-1,_e=t.currentTime,Le=t.currentAnimateTimings,tt=Le.duration;return T.forEach((vt,Pt)=>{const Gt=W>0?Pt==ie?1:W*Pt:u[Pt],Ft=Gt*tt;t.currentTime=_e+Le.delay+Ft,Le.duration=Ft,this._validateStyleAst(vt,t),vt.offset=Gt,r.styles.push(vt)}),r}visitReference(e,t){return{type:8,animation:eo(this,Bd(e.animation),t),options:Lc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Lc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,u]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(TE,"")),n=n.replace(/@\*/g,Sf).replace(/@\w+/g,t=>Sf+"-"+t.substr(1)).replace(/:animating/g,Df),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,ea(t.collectedStyles,t.currentQuerySelector,{});const h=eo(this,Bd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Lc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ld(e.timings,t.errors,!0);return{type:12,animation:eo(this,Bd(e.animation),t),timings:r,options:null}}}class Ri{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function nm(n){return!Array.isArray(n)&&"object"==typeof n}function Lc(n){return n?(n=xf(n)).params&&(n.params=function(n){return n?xf(n):null}(n.params)):n={},n}function iv(n,e,t){return{duration:n,delay:e,easing:t}}function rm(n,e,t,r,i,o,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:u,subTimeline:h}}class Nf{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const wA=new RegExp(":enter","g"),EA=new RegExp(":leave","g");function im(n,e,t,r,i,o={},u={},h,p,y=[]){return(new hN).buildKeyframes(n,e,t,r,i,o,u,h,p,y)}class hN{buildKeyframes(e,t,r,i,o,u,h,p,y,T=[]){y=y||new Nf;const R=new Ff(e,t,y,i,o,T,[]);R.options=p,R.currentTimeline.setStyles([u],null,R.errors,p),eo(this,r,R);const W=R.timelines.filter(ie=>ie.containsAnimation());if(W.length&&Object.keys(h).length){const ie=W[W.length-1];ie.allowOnlyTimelineStyles()||ie.setStyles([h],null,R.errors,p)}return W.length?W.map(ie=>ie.buildKeyframes()):[rm(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);o!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const u=null!=r.duration?Pu(r.duration):null,h=null!=r.delay?Pu(r.delay):null;return 0!==u&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,u,h);o=Math.max(o,y.duration+y.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),eo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=jd);const u=Pu(o.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>eo(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Pu(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),eo(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Ld(t.params?em(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*o),h.setStyles(p.styles,p.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Pu(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=jd);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let p=null;h.forEach((y,T)=>{t.currentQueryIndex=T;const R=t.createSubContext(e.options,y);o&&R.delayNextStep(o),y===t.element&&(p=R.currentTimeline),eo(this,e.animation,R),R.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,R.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,u=Math.abs(o.duration),h=u*(t.currentQueryTotal-1);let p=u*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=h-p;break;case"full":p=r.currentStaggerTime}const T=t.currentTimeline;p&&T.delayNextStep(p);const R=T.currentTime;eo(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-R+(i.startTime-r.currentTimeline.startTime)}}const jd={};class Ff{constructor(e,t,r,i,o,u,h,p){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=jd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Co(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Pu(r.duration)),null!=r.delay&&(i.delay=Pu(r.delay));const o=r.params;if(o){let u=i.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=em(o[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new Ff(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=jd,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},o=new CA(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(wA,"."+this._enterClassName)).replace(EA,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),h.push(...y)}return!o&&0==h.length&&u.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),h}}class Co{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Co(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||tl,this._currentKeyframe[t]=tl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const o=i&&i.params||{},u=function(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(o=>{t[o]=tl})):rl(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(h=>{const p=em(u[h],o,r);this._pendingStyles[h]=p,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:tl),this._updateStyle(h,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,p)=>{const y=rl(h,!0);Object.keys(y).forEach(T=>{const R=y[T];"!"==R?e.add(T):R==tl&&t.add(T)}),r||(y.offset=p/this.duration),i.push(y)});const o=e.size?kf(e.values()):[],u=t.size?kf(t.values()):[];if(r){const h=i[0],p=xf(h);h.offset=0,p.offset=1,i=[h,p]}return rm(this.element,i,o,u,this.duration,this.startTime,this.easing,!1)}}class CA extends Co{constructor(e,t,r,i,o,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],u=r+t,h=t/u,p=rl(e[0],!1);p.offset=0,o.push(p);const y=rl(e[0],!1);y.offset=kE(h),o.push(y);const T=e.length-1;for(let R=1;R<=T;R++){let W=rl(e[R],!1);W.offset=kE((t+W.offset*r)/u),o.push(W)}r=u,t=0,i="",e=o}return rm(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function kE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Io{}class RE extends Io{normalizePropertyName(e,t){return Rf(e)}normalizeStyleValue(e,t,r,i){let o="";const u=r.toString().trim();if(TA[t]&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return u+o}}const TA=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function OE(n,e,t,r,i,o,u,h,p,y,T,R,W){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:u,timelines:h,queriedElements:p,preStyleProps:y,postStyleProps:T,totalTime:R,errors:W}}const sv={};class sm{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],o=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return o?o.buildStyles(t,r):u}build(e,t,r,i,o,u,h,p,y,T){const R=[],W=this.ast.options&&this.ast.options.params||sv,_e=this.buildStyles(r,h&&h.params||sv,R),Le=p&&p.params||sv,tt=this.buildStyles(i,Le,R),vt=new Set,Pt=new Map,Gt=new Map,Ft="void"===i,_n={params:Tt(Tt({},W),Le)},Dn=T?[]:im(e,t,this.ast.animation,o,u,_e,tt,_n,y,R);let pr=0;if(Dn.forEach(ed=>{pr=Math.max(ed.duration+ed.delay,pr)}),R.length)return OE(t,this._triggerName,r,i,Ft,_e,tt,[],[],Pt,Gt,pr,R);Dn.forEach(ed=>{const td=ed.element,az=ea(Pt,td,{});ed.preStyleProps.forEach(tg=>az[tg]=!0);const Xb=ea(Gt,td,{});ed.postStyleProps.forEach(tg=>Xb[tg]=!0),td!==t&&vt.add(td)});const Po=kf(vt.values());return OE(t,this._triggerName,r,i,Ft,_e,tt,Dn,Po,Pt,Gt,pr)}}class DA{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=xf(this.defaultParams);return Object.keys(e).forEach(o=>{const u=e[o];null!=u&&(i[o]=u)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const u=o;Object.keys(u).forEach(h=>{let p=u[h];p.length>1&&(p=em(p,i,t));const y=this.normalizer.normalizePropertyName(h,t);p=this.normalizer.normalizeStyleValue(h,y,p,t),r[y]=p})}}),r}}class AA{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new DA(i.style,i.options&&i.options.params||{},r)}),ov(this.states,"true","1"),ov(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new sm(e,i,this.states))}),this.fallbackTransition=function(n,e,t){return new sm(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function ov(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const om=new Nf;class xA{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=SE(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,o=gA(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations[e];let u;const h=new Map;if(o?(u=im(this._driver,t,o,gE,Fd,{},{},r,om,i),u.forEach(T=>{const R=ea(h,T.element,{});T.postStyleProps.forEach(W=>R[W]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),u=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);h.forEach((T,R)=>{Object.keys(T).forEach(W=>{T[W]=this._driver.computeStyle(R,W,tl)})});const y=Ou(u.map(T=>{const R=h.get(T.element);return this._buildPlayer(T,{},R)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const o=Kg(t,"","","");return lE(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const av="ng-animate-queued",am="ng-animate-disabled",Bf=".ng-animate-disabled",BE=[],cv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},To="__ng_removed";class lm{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const o=xf(e);delete o.value,this.options=o}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Hd="void",uv=new lm(Hd);class MA{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ta(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const o=ea(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};o.push(u);const h=ea(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(ta(e,Fc),ta(e,Fc+"-"+t),h[t]=uv),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(u);p>=0&&o.splice(p,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),u=new dv(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(ta(e,Fc),ta(e,Fc+"-"+t),this._engine.statesByElement.set(e,h={}));let p=h[t];const y=new lm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),h[t]=y,p||(p=uv),y.value!==Hd&&p.value===y.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(p.params,y.params)){const Le=[],tt=o.matchStyles(p.value,p.params,Le),vt=o.matchStyles(y.value,y.params,Le);Le.length?this._engine.reportError(Le):this._engine.afterFlush(()=>{ec(e,tt),Sa(e,vt)})}return}const W=ea(this._engine.playersByElement,e,[]);W.forEach(Le=>{Le.namespaceId==this.id&&Le.triggerName==t&&Le.queued&&Le.destroy()});let ie=o.matchTransition(p.value,y.value,e,y.params),_e=!1;if(!ie){if(!i)return;ie=o.fallbackTransition,_e=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ie,fromState:p,toState:y,player:u,isFallbackTransition:_e}),_e||(ta(e,av),u.onStart(()=>{zd(e,av)})),u.onDone(()=>{let Le=this.players.indexOf(u);Le>=0&&this.players.splice(Le,1);const tt=this._engine.playersByElement.get(e);if(tt){let vt=tt.indexOf(u);vt>=0&&tt.splice(vt,1)}}),this.players.push(u),W.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Sf,!0);r.forEach(i=>{if(i[To])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e);if(o){const u=[];if(Object.keys(o).forEach(h=>{if(this._triggers[h]){const p=this.trigger(e,h,Hd,i);p&&u.push(p)}}),u.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&Ou(u).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const u=o.name;if(i.has(u))return;i.add(u);const p=this._triggers[u].fallbackTransition,y=r[u]||uv,T=new lm(Hd),R=new dv(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:p,fromState:y,toState:T,player:R,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[To];(!o||o===cv)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ta(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==r.triggerName){const p=Kg(o,r.triggerName,r.fromState.value,r.toState.value);p._data=e,lE(r.player,h.phase,p,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class kA{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new MA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let o=r;o>=0;o--)if(this.driver.containsElement(this._namespaceList[o].hostElement,t)){this._namespaceList.splice(o+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let o=0;o<i.length;o++){const u=r[i[o]].namespaceId;if(u){const h=this._fetchNamespace(u);h&&t.add(h)}}}return t}trigger(e,t,r,i){if(cm(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!cm(t))return;const o=t[To];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ta(e,am)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),zd(e,am))}removeNode(e,t,r,i){if(cm(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i){this.collectedLeaveElements.push(t),t[To]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,i,o){return cm(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Sf,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Df,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ou(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[To];if(t&&t.setForRemoval){if(e[To]=cv,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Bf)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Bf,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ta(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ou(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Nf,i=[],o=new Map,u=[],h=new Map,p=new Map,y=new Map,T=new Set;this.disabledNodes.forEach(Kt=>{T.add(Kt);const cn=this.driver.query(Kt,".ng-animate-queued",!0);for(let bn=0;bn<cn.length;bn++)T.add(cn[bn])});const R=this.bodyNode,W=Array.from(this.statesByElement.keys()),ie=HE(W,this.collectedEnterElements),_e=new Map;let Le=0;ie.forEach((Kt,cn)=>{const bn=gE+Le++;_e.set(cn,bn),Kt.forEach(sr=>ta(sr,bn))});const tt=[],vt=new Set,Pt=new Set;for(let Kt=0;Kt<this.collectedLeaveElements.length;Kt++){const cn=this.collectedLeaveElements[Kt],bn=cn[To];bn&&bn.setForRemoval&&(tt.push(cn),vt.add(cn),bn.hasAnimation?this.driver.query(cn,".ng-star-inserted",!0).forEach(sr=>vt.add(sr)):Pt.add(cn))}const Gt=new Map,Ft=HE(W,Array.from(vt));Ft.forEach((Kt,cn)=>{const bn=Fd+Le++;Gt.set(cn,bn),Kt.forEach(sr=>ta(sr,bn))}),e.push(()=>{ie.forEach((Kt,cn)=>{const bn=_e.get(cn);Kt.forEach(sr=>zd(sr,bn))}),Ft.forEach((Kt,cn)=>{const bn=Gt.get(cn);Kt.forEach(sr=>zd(sr,bn))}),tt.forEach(Kt=>{this.processLeaveNode(Kt)})});const _n=[],Dn=[];for(let Kt=this._namespaceList.length-1;Kt>=0;Kt--)this._namespaceList[Kt].drainQueuedTransitions(t).forEach(bn=>{const sr=bn.player,Ts=bn.element;if(_n.push(sr),this.collectedEnterElements.length){const ru=Ts[To];if(ru&&ru.setForMove)return void sr.destroy()}const nu=!R||!this.driver.containsElement(R,Ts),Oa=Gt.get(Ts),Ph=_e.get(Ts),wi=this._buildInstruction(bn,r,Ph,Oa,nu);if(wi.errors&&wi.errors.length)Dn.push(wi);else{if(nu)return sr.onStart(()=>ec(Ts,wi.fromStyles)),sr.onDestroy(()=>Sa(Ts,wi.toStyles)),void i.push(sr);if(bn.isFallbackTransition)return sr.onStart(()=>ec(Ts,wi.fromStyles)),sr.onDestroy(()=>Sa(Ts,wi.toStyles)),void i.push(sr);wi.timelines.forEach(ru=>ru.stretchStartingKeyframe=!0),r.append(Ts,wi.timelines),u.push({instruction:wi,player:sr,element:Ts}),wi.queriedElements.forEach(ru=>ea(h,ru,[]).push(sr)),wi.preStyleProps.forEach((ru,Jb)=>{const RS=Object.keys(ru);if(RS.length){let ng=p.get(Jb);ng||p.set(Jb,ng=new Set),RS.forEach(iP=>ng.add(iP))}}),wi.postStyleProps.forEach((ru,Jb)=>{const RS=Object.keys(ru);let ng=y.get(Jb);ng||y.set(Jb,ng=new Set),RS.forEach(iP=>ng.add(iP))})}});if(Dn.length){const Kt=[];Dn.forEach(cn=>{Kt.push(`@${cn.triggerName} has failed due to:\n`),cn.errors.forEach(bn=>Kt.push(`- ${bn}\n`))}),_n.forEach(cn=>cn.destroy()),this.reportError(Kt)}const pr=new Map,Po=new Map;u.forEach(Kt=>{const cn=Kt.element;r.has(cn)&&(Po.set(cn,cn),this._beforeAnimationBuild(Kt.player.namespaceId,Kt.instruction,pr))}),i.forEach(Kt=>{const cn=Kt.element;this._getPreviousPlayers(cn,!1,Kt.namespaceId,Kt.triggerName,null).forEach(sr=>{ea(pr,cn,[]).push(sr),sr.destroy()})});const ed=tt.filter(Kt=>hv(Kt,p,y)),td=new Map;jE(td,this.driver,Pt,y,tl).forEach(Kt=>{hv(Kt,p,y)&&ed.push(Kt)});const Xb=new Map;ie.forEach((Kt,cn)=>{jE(Xb,this.driver,new Set(Kt),p,"!")}),ed.forEach(Kt=>{const cn=td.get(Kt),bn=Xb.get(Kt);td.set(Kt,Tt(Tt({},cn),bn))});const tg=[],lz=[],cz={};u.forEach(Kt=>{const{element:cn,player:bn,instruction:sr}=Kt;if(r.has(cn)){if(T.has(cn))return bn.onDestroy(()=>Sa(cn,sr.toStyles)),bn.disabled=!0,bn.overrideTotalTime(sr.totalTime),void i.push(bn);let Ts=cz;if(Po.size>1){let Oa=cn;const Ph=[];for(;Oa=Oa.parentNode;){const wi=Po.get(Oa);if(wi){Ts=wi;break}Ph.push(Oa)}Ph.forEach(wi=>Po.set(wi,Ts))}const nu=this._buildAnimation(bn.namespaceId,sr,pr,o,Xb,td);if(bn.setRealPlayer(nu),Ts===cz)tg.push(bn);else{const Oa=this.playersByElement.get(Ts);Oa&&Oa.length&&(bn.parentPlayer=Ou(Oa)),i.push(bn)}}else ec(cn,sr.fromStyles),bn.onDestroy(()=>Sa(cn,sr.toStyles)),lz.push(bn),T.has(cn)&&i.push(bn)}),lz.forEach(Kt=>{const cn=o.get(Kt.element);if(cn&&cn.length){const bn=Ou(cn);Kt.setRealPlayer(bn)}}),i.forEach(Kt=>{Kt.parentPlayer?Kt.syncPlayerEvents(Kt.parentPlayer):Kt.destroy()});for(let Kt=0;Kt<tt.length;Kt++){const cn=tt[Kt],bn=cn[To];if(zd(cn,Fd),bn&&bn.hasAnimation)continue;let sr=[];if(h.size){let nu=h.get(cn);nu&&nu.length&&sr.push(...nu);let Oa=this.driver.query(cn,Df,!0);for(let Ph=0;Ph<Oa.length;Ph++){let wi=h.get(Oa[Ph]);wi&&wi.length&&sr.push(...wi)}}const Ts=sr.filter(nu=>!nu.destroyed);Ts.length?NA(this,cn,Ts):this.processLeaveNode(cn)}return tt.length=0,tg.forEach(Kt=>{this.players.push(Kt),Kt.onDone(()=>{Kt.destroy();const cn=this.players.indexOf(Kt);this.players.splice(cn,1)}),Kt.play()}),tg}elementContainsData(e,t){let r=!1;const i=t[To];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const p=!o||o==Hd;h.forEach(y=>{y.queued||!p&&y.triggerName!=i||u.push(y)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const o=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,T=y!==o,R=ea(r,y,[]);this._getPreviousPlayers(y,T,u,h,t.toState).forEach(ie=>{const _e=ie.getRealPlayer();_e.beforeDestroy&&_e.beforeDestroy(),ie.destroy(),R.push(ie)})}ec(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,u){const h=t.triggerName,p=t.element,y=[],T=new Set,R=new Set,W=t.timelines.map(_e=>{const Le=_e.element;T.add(Le);const tt=Le[To];if(tt&&tt.removedBeforeQueried)return new If(_e.duration,_e.delay);const vt=Le!==p,Pt=function(n){const e=[];return zE(n,e),e}((r.get(Le)||BE).map(pr=>pr.getRealPlayer())).filter(pr=>!!pr.element&&pr.element===Le),Gt=o.get(Le),Ft=u.get(Le),_n=gA(0,this._normalizer,0,_e.keyframes,Gt,Ft),Dn=this._buildPlayer(_e,_n,Pt);if(_e.subTimeline&&i&&R.add(Le),vt){const pr=new dv(e,h,Le);pr.setRealPlayer(Dn),y.push(pr)}return Dn});y.forEach(_e=>{ea(this.playersByQueriedElement,_e.element,[]).push(_e),_e.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,_e.element,_e))}),T.forEach(_e=>ta(_e,Qg));const ie=Ou(W);return ie.onDestroy(()=>{T.forEach(_e=>zd(_e,Qg)),Sa(p,t.toStyles)}),R.forEach(_e=>{ea(i,_e,[]).push(ie)}),ie}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new If(e.duration,e.delay)}}class dv{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new If,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>lE(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ea(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cm(n){return n&&1===n.nodeType}function UE(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function jE(n,e,t,r,i){const o=[];t.forEach(p=>o.push(UE(p)));const u=[];r.forEach((p,y)=>{const T={};p.forEach(R=>{const W=T[R]=e.computeStyle(y,R,i);(!W||0==W.length)&&(y[To]=VE,u.push(y))}),n.set(y,T)});let h=0;return t.forEach(p=>UE(p,o[h++])),u}function HE(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),o=new Map;function u(h){if(!h)return 1;let p=o.get(h);if(p)return p;const y=h.parentNode;return p=t.has(y)?y:i.has(y)?1:u(y),o.set(h,p),p}return e.forEach(h=>{const p=u(h);1!==p&&t.get(p).push(h)}),t}const um="$$classes";function ta(n,e){if(n.classList)n.classList.add(e);else{let t=n[um];t||(t=n[um]={}),t[e]=!0}}function zd(n,e){if(n.classList)n.classList.remove(e);else{let t=n[um];t&&delete t[e]}}function NA(n,e,t){Ou(t).onDone(()=>n.processLeaveNode(e))}function zE(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof aE?zE(r.players,e):e.push(r)}}function hv(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class Vf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new kA(e,t,r),this._timelineEngine=new xA(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const p=[],y=SE(this._driver,o,p);if(p.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${p.join("\n - ")}`);h=function(n,e,t){return new AA(n,e,t)}(i,y,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,u]=cE(r);this._timelineEngine.command(o,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[u,h]=cE(r);return this._timelineEngine.listen(u,t,h,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function fv(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=dm(e[0]),e.length>1&&(r=dm(e[e.length-1]))):e&&(t=dm(e)),t||r?new $E(n,t,r):null}let $E=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Sa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sa(this._element,this._initialStyles),this._endStyles&&(Sa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ec(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ec(this._element,this._endStyles),this._endStyles=null),Sa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function dm(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];WE(i)&&(e=e||{},e[i]=n[i])}return e}function WE(n){return"display"===n||"position"===n}const pv="animation",hm="animationend";class Nu{constructor(e,t,r,i,o,u,h){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=o,this._fillMode=u,this._onDoneFn=h,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=p=>this._handleCallback(p)}apply(){(function(n,e){const t=fm(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),jf(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),VA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ZE(this._element,this._name,"paused")}resume(){ZE(this._element,this._name,"running")}setPosition(e){const t=BA(this._element,this._name);this._position=e*this._duration,jf(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),VA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=fm(n,"").split(","),i=Uf(r,e);i>=0&&(r.splice(i,1),jf(n,"",r.join(",")))}(this._element,this._name))}}function ZE(n,e,t){jf(n,"PlayState",t,BA(n,e))}function BA(n,e){const t=fm(n,"");return t.indexOf(",")>0?Uf(t.split(","),e):Uf([t],e)}function Uf(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function VA(n,e,t){t?n.removeEventListener(hm,e):n.addEventListener(hm,e)}function jf(n,e,t,r){const i=pv+e;if(null!=r){const o=n.style[i];if(o.length){const u=o.split(",");u[r]=t,t=u.join(",")}}n.style[i]=t}function fm(n,e){return n.style[pv+e]||""}class KE{constructor(e,t,r,i,o,u,h,p){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=h,this._specialStyles=p,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=u||"linear",this.totalTime=i+o,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Nu(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:tm(this.element,r))})}this.currentSnapshot=e}}class jA extends If{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=fE(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Hf{constructor(){this._count=0}validateStyleProperty(e){return Yg(e)}matchesElement(e,t){return qy(e,t)}containsElement(e,t){return Zy(e,t)}query(e,t,r){return Ky(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(h=>fE(h));let i=`@keyframes ${t} {\n`,o="";r.forEach(h=>{o=" ";const p=parseFloat(h.offset);i+=`${o}${100*p}% {\n`,o+=" ",Object.keys(h).forEach(y=>{const T=h[y];switch(y){case"offset":return;case"easing":return void(T&&(i+=`${o}animation-timing-function: ${T};\n`));default:return void(i+=`${o}${y}: ${T};\n`)}}),i+=`${o}}\n`}),i+="}\n";const u=document.createElement("style");return u.textContent=i,u}animate(e,t,r,i,o,u=[],h){const p=u.filter(tt=>tt instanceof KE),y={};wE(r,i)&&p.forEach(tt=>{let vt=tt.currentSnapshot;Object.keys(vt).forEach(Pt=>y[Pt]=vt[Pt])});const T=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=tv(e,t,y));if(0==r)return new jA(e,T);const R="gen_css_kf_"+this._count++,W=this.buildKeyframeElement(e,R,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(W);const _e=fv(e,t),Le=new KE(e,t,R,r,i,o,T,_e);return Le.onDestroy(()=>{var n;(n=W).parentNode.removeChild(n)}),Le}}class QE{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:tm(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class XE{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(_v().toString()),this._cssKeyframesDriver=new Hf}validateStyleProperty(e){return Yg(e)}matchesElement(e,t){return qy(e,t)}containsElement(e,t){return Zy(e,t)}query(e,t,r){return Ky(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,o,u=[],h){if(!h&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,o,u);const T={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(T.easing=o);const R={},W=u.filter(_e=>_e instanceof QE);wE(r,i)&&W.forEach(_e=>{let Le=_e.currentSnapshot;Object.keys(Le).forEach(tt=>R[tt]=Le[tt])});const ie=fv(e,t=tv(e,t=t.map(_e=>rl(_e,!1)),R));return new QE(e,t,T,ie)}}function _v(){return Zg()&&Element.prototype.animate||{}}let eC=(()=>{class n extends jy{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Hy(t):t;return tC(this._renderer,null,r,"register",[i]),new HA(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class HA extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new zA(this._id,e,t||{},this._renderer)}}class zA{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tC(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function tC(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const nC="@.disabled";let GA=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,u)=>{const h=null==u?void 0:u.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(o);return T||(T=new rC("",o,this.engine),this._rendererCache.set(o,T)),T}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const p=T=>{Array.isArray(T)?T.forEach(p):this.engine.registerTrigger(u,h,t,T.name,T)};return r.data.animation.forEach(p),new mm(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.FYo),s.LFG(Vf),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class rC{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==nC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class mm extends rC{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==nC?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.substr(1),u="";return"@"!=o.charAt(0)&&([o,u]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let oC=(()=>{class n extends Vf{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(Qy),s.LFG(Io))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Da=new s.OlP("AnimationModuleType"),aC=[{provide:jy,useClass:eC},{provide:Io,useFactory:function(){return new RE}},{provide:Vf,useClass:oC},{provide:s.FYo,useFactory:function(n,e,t){return new GA(n,e,t)},deps:[Ho,Vf,s.R0b]}],lC=[{provide:Qy,useFactory:function(){return"function"==typeof _v()?new XE:new Hf}},{provide:Da,useValue:"BrowserAnimations"},...aC],cC=[{provide:Qy,useClass:Yy},{provide:Da,useValue:"NoopAnimations"},...aC];let yv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?cC:lC}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:lC,imports:[Al]}),n})();const _m=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Wr=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Tw()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(iE),s.LFG(_m,8),s.LFG(H))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Id],Id]}),n})();function dC(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=jr(e)}}}function Fu(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function hC(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=jr(e)}}}function fC(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Mi(t):this.defaultTabIndex}}}function pC(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Yt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}}}let vm=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class rx{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bm={enterDuration:225,exitDuration:150},wm=Fg({passive:!0}),mC=["mousedown","touchstart"],_C=["mouseup","mouseleave","touchend","touchcancel"];class yC{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Kl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Tt(Tt({},bm),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,p=t-i.top,y=o.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=h-u+"px",T.style.top=p-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(T),window.getComputedStyle(T).getPropertyValue("opacity"),T.style.transform="scale(1)";const R=new rx(this,T,r);return R.state=0,this._activeRipples.add(R),r.persistent||(this._mostRecentTransientRipple=R),this._runTimeoutOutsideZone(()=>{const W=R===this._mostRecentTransientRipple;R.state=1,!r.persistent&&(!W||!this._isPointerDown)&&R.fadeOut()},y),R}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Tt(Tt({},bm),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(mC))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(_C),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=rE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Gg(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,wm)})})}_removeTriggerEvents(){this._triggerElement&&(mC.forEach(e=>{this._triggerElement.removeEventListener(e,this,wm)}),this._pointerUpEventsRegistered&&_C.forEach(e=>{this._triggerElement.removeEventListener(e,this,wm)}))}}const vC=new s.OlP("mat-ripple-global-options");let vv=(()=>{class n{constructor(t,r,i,o,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new yC(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Tt(Tt(Tt({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Tt(Tt({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Tt(Tt({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ki),s.Y36(vC,8),s.Y36(Da,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr],Wr]}),n})();var So=A(3719);const IC=fC(dC(Yl));let TC=(()=>{class n extends IC{constructor(t,r,i){super(t,r),this.tabIndex=Number(i)||0}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(Xa),s.$8M("tabindex"))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],inputs:{role:"role",disabled:"disabled",tabIndex:"tabIndex"},exportAs:["matTreeNode"],features:[s._Bn([{provide:Yl,useExisting:n}]),s.qOj]}),n})(),bv=(()=>{class n extends Sd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[s._Bn([{provide:Sd,useExisting:n}]),s.qOj]}),n})(),wv=(()=>{class n extends uf{get level(){return this._level}set level(t){this._setLevelInput(t)}get indent(){return this._indent}set indent(t){this._setIndentInput(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[s._Bn([{provide:uf,useExisting:n}]),s.qOj]}),n})(),SC=(()=>{class n{constructor(t,r){this.viewContainer=t,this._node=r}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.s_b),s.Y36(Js,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodeOutlet",""]],features:[s._Bn([{provide:Td,useExisting:n}])]}),n})(),DC=(()=>{class n extends Xa{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tree"]],viewQuery:function(t,r){if(1&t&&s.Gf(SC,7),2&t){let i;s.iGM(i=s.CRH())&&(r._nodeOutlet=i.first)}},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[s._Bn([{provide:Xa,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,r){1&t&&s.GkF(0,0)},directives:[SC],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),n})(),$d=(()=>{class n extends ww{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[s._Bn([{provide:ww,useExisting:n}]),s.qOj]}),n})(),Wd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[vD,Wr],Wr]}),n})();class qf{constructor(e,t,r,i){this.transformFunction=e,this.getLevel=t,this.isExpandable=r,this.getChildren=i}_flattenNode(e,t,r,i){const o=this.transformFunction(e,t);if(r.push(o),this.isExpandable(o)){const u=this.getChildren(e);u&&(Array.isArray(u)?this._flattenChildren(u,t,r,i):u.pipe((0,rr.q)(1)).subscribe(h=>{this._flattenChildren(h,t,r,i)}))}return r}_flattenChildren(e,t,r,i){e.forEach((o,u)=>{let h=i.slice();h.push(u!=e.length-1),this._flattenNode(o,t+1,r,h)})}flattenNodes(e){let t=[];return e.forEach(r=>this._flattenNode(r,0,t,[])),t}expandFlattenedNodes(e,t){let r=[],i=[];return i[0]=!0,e.forEach(o=>{let u=!0;for(let h=0;h<=this.getLevel(o);h++)u=u&&i[h];u&&r.push(o),this.isExpandable(o)&&(i[this.getLevel(o)+1]=t.isExpanded(o))}),r}}class fx extends class{}{constructor(e,t,r){super(),this._treeControl=e,this._treeFlattener=t,this._flattenedData=new ei([]),this._expandedData=new ei([]),this._data=new ei([]),r&&(this.data=r)}get data(){return this._data.value}set data(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}connect(e){return(0,So.T)(e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe((0,Mt.U)(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}}function Ev(n,e){const t=(0,us.m)(n)?n:()=>n,r=i=>i.error(t());return new mr.y(e?i=>e.schedule(r,0,i):r)}var px=A(1537);const gx=["addListener","removeListener"],mx=["addEventListener","removeEventListener"],_x=["on","off"];function ol(n,e,t,r){if((0,us.m)(t)&&(r=t,t=void 0),r)return ol(n,e,t).pipe(qo(r));const[i,o]=function(n){return(0,us.m)(n.addEventListener)&&(0,us.m)(n.removeEventListener)}(n)?mx.map(u=>h=>n[u](e,h,t)):function(n){return(0,us.m)(n.addListener)&&(0,us.m)(n.removeListener)}(n)?gx.map(Cv(n,e)):function(n){return(0,us.m)(n.on)&&(0,us.m)(n.off)}(n)?_x.map(Cv(n,e)):[];if(!i&&(0,px.z)(n))return(0,er.z)(u=>ol(u,e,t))((0,mi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new mr.y(u=>{const h=(...p)=>u.next(1<p.length?p:p[0]);return i(h),()=>o(h)})}function Cv(n,e){return t=>r=>n[t](e,r)}const Vc=new mr.y(af.Z),vx={connector:()=>new Yt.x};function xC(n,e=vx){const{connector:t}=e;return(0,Nr.e)((r,i)=>{const o=t();(0,dr.D)(n(function(n){return new mr.y(e=>n.subscribe(e))}(o))).subscribe(i),i.add(r.subscribe(o))})}function MC(n){return(0,Mt.U)(()=>n)}function kC(n,e){return e?t=>vo(e.pipe((0,rr.q)(1),(0,Nr.e)((n,e)=>{n.subscribe(new Kn.Q(e,af.Z))})),t.pipe(kC(n))):(0,er.z)((t,r)=>n(t,r).pipe((0,rr.q)(1),MC(t)))}var Ex=A(7398);function Cm(n=0,e,t=Oc.P){let r=-1;return null!=e&&((0,Ex.K)(e)?t=e:r=e),new mr.y(i=>{let o=function(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const Im="Service workers are disabled or not supported by this browser";class Tm{constructor(e){if(this.serviceWorker=e,e){const r=ol(e,"controllerchange").pipe((0,Mt.U)(()=>e.controller)),o=vo(Ws(()=>Ct(e.controller)),r);this.worker=o.pipe(Fn(T=>!!T)),this.registration=this.worker.pipe(Fr(()=>e.getRegistration()));const y=ol(e,"message").pipe((0,Mt.U)(T=>T.data)).pipe(Fn(T=>T&&T.type)).pipe(function(n){return n?e=>xC(n)(e):e=>function(n,e){const t=(0,us.m)(n)?n:()=>n;return(0,us.m)(e)?xC(e,{connector:t}):r=>new Ll(r,t)}(new Yt.x)(e)}());y.connect(),this.events=y}else this.worker=this.events=this.registration=(Im,Ws(()=>Ev(new Error("Service workers are disabled or not supported by this browser"))))}postMessage(e,t){return this.worker.pipe((0,rr.q)(1),(0,ui.b)(r=>{r.postMessage(Tt({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),o=this.postMessage(e,t);return Promise.all([o,i]).then(([,u])=>u)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Fn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,rr.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Fn(t=>t.nonce===e),(0,rr.q)(1),(0,Mt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let NN=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Yt.x,!t.isEnabled)return this.messages=Vc,this.notificationClicks=Vc,void(this.subscription=Vc);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Mt.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Mt.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,Mt.U)(i=>i.pushManager));const r=this.pushManager.pipe(Fr(i=>i.getSubscription()));this.subscription=(0,So.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(Im));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let u=0;u<i.length;u++)o[u]=i.charCodeAt(u);return r.applicationServerKey=o,this.pushManager.pipe(Fr(u=>u.subscribe(r)),(0,rr.q)(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,rr.q)(1),Fr(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Im))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Sv=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Vc,this.available=Vc,this.activated=Vc,void(this.unrecoverable=Vc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Fn(r=>"VERSION_READY"===r.type),(0,Mt.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Im));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Im));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(Tm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class OC{}const Dv=new s.OlP("NGSW_REGISTER_SCRIPT");function Av(n,e,t,r){return()=>{if(!$e(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)o=t.registrationStrategy();else{const[h,...p]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(h){case"registerImmediately":o=Ct(null);break;case"registerWithDelay":o=xv(+p[0]||0);break;case"registerWhenStable":o=p[0]?(0,So.T)(Mv(n),xv(+p[0])):Mv(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(s.R0b).runOutsideAngular(()=>o.pipe((0,rr.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(h=>console.error("Service worker registration failed with:",h))))}}function xv(n){return Ct(null).pipe(function(n,e=Oc.z){const t=Cm(n,e);return kC(()=>t)}(n))}function Mv(n){return n.get(s.z2F).isStable.pipe(Fn(t=>t))}function Cx(n,e){return new Tm($e(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let Ix=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:Dv,useValue:t},{provide:OC,useValue:r},{provide:Tm,useFactory:Cx,deps:[OC,s.Lbi]},{provide:s.ip1,useFactory:Av,deps:[s.zs3,Dv,OC,s.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[NN,Sv]}),n})();var Uc=A(6670),se=A(4213),Aa=A(1572),xa=A(3855),tc=A(1177),kr=A(7233);A(7713);const Ov=(0,kr.u3)(Uc.f,!0);function Nv(){return(0,Nr.e)((n,e)=>{let t,r=!1;n.subscribe(new Kn.Q(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}var Ht,gs=A(7905),Fv=(A(2115),A(6293)),it=A(8239),ZC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},al={},Lv=Lv||{},pn=ZC||self;function km(){}function Rm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Qd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Om="closure_uid_"+(1e9*Math.random()>>>0),qx=0;function Zx(n,e,t){return n.call.apply(n.bind,arguments)}function Kx(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ui(n,e,t){return(Ui=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zx:Kx).apply(null,arguments)}function Bv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ms(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function Bu(){this.s=this.s,this.o=this.o}var dF={};Bu.prototype.s=!1,Bu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Om)&&n[Om]||(n[Om]=++qx)}(this);delete dF[n]}},Bu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yx=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Qx=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let o=0;o<r;o++)o in i&&e.call(t,i[o],o,n)};function Qf(n){return Array.prototype.concat.apply([],arguments)}function YC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Xd(n){return/^[\s\xa0]*$/.test(n)}var Ps,Vu=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _s(n,e){return-1!=n.indexOf(e)}function Vv(n,e){return n<e?-1:n>e?1:0}e:{var Pm=pn.navigator;if(Pm){var Uv=Pm.userAgent;if(Uv){Ps=Uv;break e}}Ps=""}function Nm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jv(n){const e={};for(const t in n)e[t]=n[t];return e}var Xx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hv(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<Xx.length;o++)t=Xx[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Jd(n){return Jd[" "](n),n}Jd[" "]=km;var Lm,n,fF=_s(Ps,"Opera"),Xf=_s(Ps,"Trident")||_s(Ps,"MSIE"),Jx=_s(Ps,"Edge"),zv=Jx||Xf,Fm=_s(Ps,"Gecko")&&!(_s(Ps.toLowerCase(),"webkit")&&!_s(Ps,"Edge"))&&!(_s(Ps,"Trident")||_s(Ps,"MSIE"))&&!_s(Ps,"Edge"),eM=_s(Ps.toLowerCase(),"webkit")&&!_s(Ps,"Edge");function tM(){var n=pn.document;return n?n.documentMode:void 0}e:{var Jf="",Gv=(n=Ps,Fm?/rv:([^\);]+)(\)|;)/.exec(n):Jx?/Edge\/([\d\.]+)/.exec(n):Xf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):eM?/WebKit\/(\S+)/.exec(n):fF?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Gv&&(Jf=Gv?Gv[1]:""),Xf){var Ns=tM();if(null!=Ns&&Ns>parseFloat(Jf)){Lm=String(Ns);break e}}Lm=Jf}var nM={};function $v(){return e=nM,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Vu(String(Lm)).split("."),t=Vu("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",o=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=Vv(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Vv(0==i[2].length,0==o[2].length)||Vv(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n}();var e}var qv=pn.document&&Xf&&(tM()||parseInt(Lm,10))||void 0,JC=function(){if(!pn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{pn.addEventListener("test",km,e),pn.removeEventListener("test",km,e)}catch(t){}return n}();function ss(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ep(n,e){if(ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Fm){e:{try{Jd(e.nodeName);var i=!0;break e}catch(o){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ep.Z.h.call(this)}}ss.prototype.h=function(){this.defaultPrevented=!0},ms(ep,ss);var eI={2:"touch",3:"pen",4:"mouse"};ep.prototype.h=function(){ep.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var eh="closure_listenable_"+(1e6*Math.random()|0),rM=0;function iM(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++rM,this.ca=this.fa=!1}function th(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function no(n){this.src=n,this.g={},this.h=0}function Zv(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=Yx(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(th(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Kv(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.ca&&o.listener==e&&o.capture==!!t&&o.ia==r)return i}return-1}no.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Kv(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new iM(e,this.src,o,!!r,i)).fa=t,n.push(e)),e};var Yv="closure_lm_"+(1e6*Math.random()|0),Bm={};function tI(n,e,t,r,i){if(r&&r.once)return iI(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)tI(n,e[o],t,r,i);return null}return t=Uu(t),n&&n[eh]?n.N(e,t,Qd(r)?!!r.capture:!!r,i):nI(n,e,t,!1,r,i)}function nI(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var u=Qd(i)?!!i.capture:!!i,h=Xv(n);if(h||(n[Yv]=h=new no(n)),(t=h.add(e,t,r,u,o)).proxy)return t;if(r=function(){var e=oM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)JC||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Qv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function iI(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)iI(n,e[o],t,r,i);return null}return t=Uu(t),n&&n[eh]?n.O(e,t,Qd(r)?!!r.capture:!!r,i):nI(n,e,t,!0,r,i)}function sM(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sM(n,e[o],t,r,i);else r=Qd(r)?!!r.capture:!!r,t=Uu(t),n&&n[eh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Kv(o=n.g[e],t,r,i))&&(th(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=Xv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Kv(e,t,r,i)),(t=-1<n?e[n]:null)&&Vm(t))}function Vm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[eh])Zv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Qv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Xv(e))?(Zv(t,n),0==t.h&&(t.src=null,e[Yv]=null)):th(n)}}}function Qv(n){return n in Bm?Bm[n]:Bm[n]="on"+n}function oM(n,e){if(n.ca)n=!0;else{e=new ep(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Vm(n),n=t.call(r,e)}return n}function Xv(n){return(n=n[Yv])instanceof no?n:null}var Um="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uu(n){return"function"==typeof n?n:(n[Um]||(n[Um]=function(e){return n.handleEvent(e)}),n[Um])}function vi(){Bu.call(this),this.i=new no(this),this.P=this,this.I=null}function ji(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ss(e,n);else if(e instanceof ss)e.target=e.target||n;else{var i=e;Hv(e=new ss(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var u=e.g=t[o];i=jm(u,r,!0,e)&&i}if(i=jm(u=e.g=n,r,!0,e)&&i,i=jm(u,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=jm(u=e.g=t[o],r,!1,e)&&i}function jm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var u=e[o];if(u&&!u.ca&&u.capture==t){var h=u.listener,p=u.ia||u.src;u.fa&&Zv(n.i,u),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}ms(vi,Bu),vi.prototype[eh]=!0,vi.prototype.removeEventListener=function(n,e,t,r){sM(this,n,e,t,r)},vi.prototype.M=function(){if(vi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)th(t[r]);delete n.g[e],n.h--}}this.I=null},vi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},vi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hm=pn.JSON.stringify;function sI(){var n=cM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Jv,oI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new pF,n=>n.reset());class pF{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gF(n){pn.setTimeout(()=>{throw n},0)}function zm(n,e){Jv||function(){var n=pn.Promise.resolve(void 0);Jv=function(){n.then(mF)}}(),e0||(Jv(),e0=!0),cM.add(n,e)}var e0=!1,cM=new class{constructor(){this.h=this.g=null}add(e,t){const r=oI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function mF(){for(var n;n=sI();){try{n.h.call(n.g)}catch(t){gF(t)}var e=oI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}e0=!1}function t0(n,e){vi.call(this),this.h=n||1,this.g=e||pn,this.j=Ui(this.kb,this),this.l=Date.now()}function aI(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function lI(n,e,t){if("function"==typeof n)t&&(n=Ui(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ui(n.handleEvent,n)}return 2147483647<Number(e)?-1:pn.setTimeout(n,e||0)}function cI(n){n.g=lI(()=>{n.g=null,n.i&&(n.i=!1,cI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ms(t0,vi),(Ht=t0.prototype).da=!1,Ht.S=null,Ht.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ji(this,"tick"),this.da&&(aI(this),this.start()))}},Ht.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ht.M=function(){t0.Z.M.call(this),aI(this),delete this.g};class Gm extends Bu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cI(this)}M(){super.M(),this.g&&(pn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tp(n){Bu.call(this),this.h=n,this.g={}}ms(tp,Bu);var uI=[];function n0(n,e,t,r){Array.isArray(t)||(t&&(uI[0]=t.toString()),t=uI);for(var i=0;i<t.length;i++){var o=tI(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function jc(n){Nm(n.g,function(e,t){this.g.hasOwnProperty(t)&&Vm(e)},n),n.g={}}function np(){this.g=!0}function nh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<i.length;u++)i[u]=""}}}return Hm(t)}catch(h){return e}}(n,t)+(r?" "+r:"")})}tp.prototype.M=function(){tp.Z.M.call(this),jc(this)},tp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},np.prototype.Aa=function(){this.g=!1},np.prototype.info=function(){};var Hc={},l0=null;function c0(){return l0=l0||new vi}function uM(n){ss.call(this,Hc.Ma,n)}function $m(n){const e=c0();ji(e,new uM(e,n))}function dM(n,e){ss.call(this,Hc.STAT_EVENT,n),this.stat=e}function ro(n){const e=c0();ji(e,new dM(e,n))}function hM(n,e){ss.call(this,Hc.Na,n),this.size=e}function Wm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return pn.setTimeout(function(){n()},e)}Hc.Ma="serverreachability",ms(uM,ss),Hc.STAT_EVENT="statevent",ms(dM,ss),Hc.Na="timingevent",ms(hM,ss);var rp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},dI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function u0(){}function fI(){}u0.prototype.h=null;var d0,rh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function qm(){ss.call(this,"d")}function Zm(){ss.call(this,"c")}function Km(){}function ih(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new tp(this),this.P=fM,this.W=new t0(n=zv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ip}function ip(){this.i=null,this.g="",this.h=!1}ms(qm,ss),ms(Zm,ss),ms(Km,u0),Km.prototype.g=function(){return new XMLHttpRequest},Km.prototype.i=function(){return{}},d0=new Km;var fM=45e3,Ym={},ju={};function h0(n,e,t){n.K=1,n.v=c(zc(e)),n.s=t,n.U=!0,pI(n,null)}function pI(n,e){n.F=Date.now(),sp(n),n.A=zc(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Ut(t.h,"t",r),n.C=0,t=n.l.H,n.h=new ip,n.g=FF(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Gm(Ui(n.Ia,n,n.g),n.O)),n0(n.V,n.g,"readystatechange",n.gb),e=n.H?jv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),$m(1),function(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),p=0;p<h.length;p++){var y=h[p].split("=");if(1<y.length){var T=y[0];y=y[1];var R=T.split("_");u=2<=R.length&&"type"==R[1]?u+(T+"=")+y+"&":u+(T+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function gI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function mI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=_F(n,t),i==ju){4==e&&(n.o=4,ro(14),r=!1),nh(n.j,n.m,null,"[Incomplete Response]");break}if(i==Ym){n.o=4,ro(15),nh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}nh(n.j,n.m,i,null),f0(n,i)}gI(n)&&i!=ju&&i!=Ym&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ro(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),wM(e),e.L=!0,ro(11))):(nh(n.j,n.m,t,"[Invalid Chunked Response]"),Hu(n),op(n))}function _F(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ju:(t=Number(e.substring(t,r)),isNaN(t)?Ym:(r+=1)+t>e.length?ju:(e=e.substr(r,t),n.C=r+t,e))}function sp(n){n.Y=Date.now()+n.P,_I(n,n.P)}function _I(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Wm(Ui(n.eb,n),e)}function Qm(n){n.B&&(pn.clearTimeout(n.B),n.B=null)}function op(n){0==n.l.G||n.I||RF(n.l,n)}function Hu(n){Qm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,aI(n.W),jc(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function f0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||lp(t.i,n)))if(t.I=n.N,!n.J&&lp(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Wm(Ui(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;II(t),EI(t)}bM(t),ro(18)}if(1>=Xm(t.i)&&t.ka){try{t.ka()}catch(y){}t.ka=void 0}}else dp(t,11)}else if((n.J||t.g==n)&&II(t),!Xd(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let y=i[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const T=y[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const R=y[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const W=y[5];null!=W&&"number"==typeof W&&0<W&&(t.K=r=1.5*W,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ie=n.g;if(ie){const _e=ie.g?ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_e){var o=r.i;!o.g&&(_s(_e,"spdy")||_s(_e,"quic")||_s(_e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(cp(o,o.h),o.h=null))}if(r.D){const Le=ie.g?ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.sa=Le,l(r.F,r.D,Le))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=NF(r,r.H?r.la:null,r.W),u.J){Jm(r.i,u);var h=u,p=r.K;p&&h.setTimeout(p),h.B&&(Qm(h),sp(h)),r.g=u}else MF(r);0<t.l.length&&CI(t)}else"stop"!=y[0]&&"close"!=y[0]||dp(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?dp(t,7):yM(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}$m(4)}catch(y){}}function p0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Rm(n)||"string"==typeof n)Qx(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Rm(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Rm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}}function ap(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ap)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function yI(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];sh(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)sh(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function sh(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ht=ih.prototype).setTimeout=function(n){this.P=n},Ht.gb=function(n){n=n.target;const e=this.L;e&&3==Gu(n)?e.l():this.Ia(n)},Ht.Ia=function(n){try{if(n==this.g)e:{const T=Gu(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>T)&&(3!=T||zv||this.g&&(this.h.h||this.g.ga()||TF(this.g)))){this.I||4!=T||7==e||$m(8==e||0>=R?3:2),Qm(this);var t=this.g.ba();this.N=t;t:if(gI(this)){var r=TF(this.g);n="";var i=r.length,o=4==Gu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Hu(this),op(this);var u="";break t}this.h.i=new pn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function(n,e,t,r,i,o,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xd(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,ro(12),Hu(this),op(this);break e}nh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,f0(this,t)}this.U?(mI(this,T,u),zv&&this.i&&3==T&&(n0(this.V,this.W,"tick",this.fb),this.W.start())):(nh(this.j,this.m,u,null),f0(this,u)),4==T&&Hu(this),this.i&&!this.I&&(4==T?RF(this.l,this):(this.i=!1,sp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,ro(12)):(this.o=0,ro(13)),Hu(this),op(this)}}}catch(T){}},Ht.fb=function(){if(this.g){var n=Gu(this.g),e=this.g.ga();this.C<e.length&&(Qm(this),mI(this,n,e),this.i&&4!=n&&sp(this))}},Ht.cancel=function(){this.I=!0,Hu(this)},Ht.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&($m(3),ro(17)),Hu(this),this.o=2,op(this)):_I(this,this.Y-n)},(Ht=ap.prototype).R=function(){yI(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ht.T=function(){return yI(this),this.g.concat()},Ht.get=function(n,e){return sh(this.h,n)?this.h[n]:e},Ht.set=function(n,e){sh(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ht.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],o=this.get(i);n.call(e,o,i,this)}};var gM=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof zu){this.g=void 0!==e?e:n.g,g0(this,n.j),this.s=n.s,m0(this,n.i),_0(this,n.m),this.l=n.l,e=n.h;var t=new Be;t.i=e.i,e.g&&(t.g=new ap(e.g),t.h=e.h),a(this,t),this.o=n.o}else n&&(t=String(n).match(gM))?(this.g=!!e,g0(this,t[1]||"",!0),this.s=g(t[2]||""),m0(this,t[3]||"",!0),_0(this,t[4]),this.l=g(t[5]||"",!0),a(this,t[6]||"",!0),this.o=g(t[7]||"")):(this.g=!!e,this.h=new Be(null,this.g))}function zc(n){return new zu(n)}function g0(n,e,t){n.j=t?g(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function m0(n,e,t){n.i=t?g(e,!0):e}function _0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function a(n,e,t){e instanceof Be?(n.h=e,function(n,e){e&&!n.j&&(nt(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(gt(this,r),Ut(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=w(e,he)),n.h=new Be(e,n.g))}function l(n,e,t){n.h.set(e,t)}function c(n){return l(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function g(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function w(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,I),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function I(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(w(e,M,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(w(e,M,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(w(t,"/"==t.charAt(0)?$:V,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",w(t,xe)),n.join("")};var M=/[#\/\?@]/g,V=/[#\?:]/g,$=/[#\?]/g,he=/[#\?@]/g,xe=/#/g;function Be(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function nt(n){n.g||(n.g=new ap,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function gt(n,e){nt(n),e=at(n,e),sh(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,sh((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&yI(n)))}function Et(n,e){return nt(n),e=at(n,e),sh(n.g.h,e)}function Ut(n,e,t){gt(n,e),0<t.length&&(n.i=null,n.g.set(at(n,e),YC(t)),n.h+=t.length)}function at(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ir(n){this.l=n||Do,n=pn.PerformanceNavigationTiming?0<(n=pn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(pn.g&&pn.g.Ea&&pn.g.Ea()&&pn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ht=Be.prototype).add=function(n,e){nt(this),this.i=null,n=at(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ht.forEach=function(n,e){nt(this),this.g.forEach(function(t,r){Qx(t,function(i){n.call(e,i,r,this)},this)},this)},Ht.T=function(){nt(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],o=0;o<i.length;o++)t.push(e[r]);return t},Ht.R=function(n){nt(this);var e=[];if("string"==typeof n)Et(this,n)&&(e=Qf(e,this.g.get(at(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Qf(e,n[t])}return e},Ht.set=function(n,e){return nt(this),this.i=null,Et(this,n=at(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ht.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var u=i;""!==r[o]&&(u+="="+encodeURIComponent(String(r[o]))),n.push(u)}}return this.i=n.join("&")};var Do=10;function Gc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Xm(n){return n.h?1:n.g?n.g.size:0}function lp(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function cp(n,e){n.g?n.g.add(e):n.h=e}function Jm(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function e_(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return YC(n.i)}function up(){}function y0(){this.g=new up}function v0(n,e,t){const r=t||"";try{p0(n,function(i,o){let u=i;Qd(i)&&(u=Hm(i)),e.push(r+o+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function w0(n){this.l=n.$b||null,this.j=n.ib||!1}function bI(n,e){vi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=mM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ir.prototype.cancel=function(){if(this.i=e_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},up.prototype.stringify=function(n){return pn.JSON.stringify(n,void 0)},up.prototype.parse=function(n){return pn.JSON.parse(n,void 0)},ms(w0,u0),w0.prototype.g=function(){return new bI(this.l,this.j)},w0.prototype.i=function(n){return function(){return n}}({}),ms(bI,vi);var mM=0;function vF(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function E0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,C0(n)}function C0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ht=bI.prototype).open=function(n,e){if(this.readyState!=mM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,C0(this)},Ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||pn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,E0(this)),this.readyState=mM},Ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,C0(this)),this.g&&(this.readyState=3,C0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==pn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vF(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?E0(this):C0(this),3==this.readyState&&vF(this)}},Ht.Ua=function(n){this.g&&(this.response=this.responseText=n,E0(this))},Ht.Ta=function(n){this.g&&(this.response=n,E0(this))},Ht.ha=function(){this.g&&E0(this)},Ht.setRequestHeader=function(n,e){this.v.append(n,e)},Ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(bI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Pz=pn.JSON.parse;function Hi(n){vi.call(this),this.headers=new ap,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bF,this.K=this.L=!1}ms(Hi,vi);var bF="",Nz=/^https?$/i,Fz=["POST","PUT"];function Bz(n){return"content-type"==n.toLowerCase()}function wF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,EF(n),wI(n)}function EF(n){n.D||(n.D=!0,ji(n,"complete"),ji(n,"error"))}function CF(n){if(n.h&&void 0!==Lv&&(!n.C[1]||4!=Gu(n)||2!=n.ba()))if(n.v&&4==Gu(n))lI(n.Fa,0,n);else if(ji(n,"readystatechange"),4==Gu(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(gM)[1]||null;if(!i&&pn.self&&pn.self.location){var o=pn.self.location.protocol;i=o.substr(0,o.length-1)}r=!Nz.test(i?i.toLowerCase():"")}t=r}if(t)ji(n,"complete"),ji(n,"success");else{n.m=6;try{var u=2<Gu(n)?n.g.statusText:""}catch(p){u=""}n.j=u+" ["+n.ba()+"]",EF(n)}}finally{wI(n)}}}function wI(n,e){if(n.g){IF(n);const t=n.g,r=n.C[0]?km:null;n.g=null,n.C=null,e||ji(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function IF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(pn.clearTimeout(n.A),n.A=null)}function Gu(n){return n.g?n.g.readyState:0}function TF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case bF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function _M(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Nm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):l(n,e,t))}function I0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SF(n){this.za=0,this.l=[],this.h=new np,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=I0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=I0("baseRetryDelayMs",5e3,n),this.$a=I0("retryDelaySeedMs",1e4,n),this.Ya=I0("forwardChannelMaxRetries",2,n),this.ra=I0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new ir(n&&n.concurrentRequestLimit),this.Ca=new y0,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function yM(n){if(DF(n),3==n.G){var e=n.V++,t=zc(n.F);l(t,"SID",n.J),l(t,"RID",e),l(t,"TYPE","terminate"),T0(n,t),(e=new ih(n,n.h,e,void 0)).K=2,e.v=c(zc(t)),t=!1,pn.navigator&&pn.navigator.sendBeacon&&(t=pn.navigator.sendBeacon(e.v.toString(),"")),!t&&pn.Image&&((new Image).src=e.v,t=!0),t||(e.g=FF(e.l,null),e.g.ea(e.v)),e.F=Date.now(),sp(e)}PF(n)}function EI(n){n.g&&(wM(n),n.g.cancel(),n.g=null)}function DF(n){EI(n),n.u&&(pn.clearTimeout(n.u),n.u=null),II(n),n.i.cancel(),n.m&&("number"==typeof n.m&&pn.clearTimeout(n.m),n.m=null)}function vM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&CI(n)}function CI(n){Gc(n.i)||n.m||(n.m=!0,zm(n.Ha,n),n.C=0)}function AF(n,e){var t;t=e?e.m:n.V++;const r=zc(n.F);l(r,"SID",n.J),l(r,"RID",t),l(r,"AID",n.U),T0(n,r),n.o&&n.s&&_M(r,n.o,n.s),t=new ih(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=xF(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),cp(n.i,t),h0(t,r,e)}function T0(n,e){n.j&&p0({},function(t,r){l(e,r,t)})}function xF(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ui(n.j.Oa,n.j,n):null;e:{var i=n.l;let o=-1;for(;;){const u=["count="+t];-1==o?0<t?(o=i[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let p=0;p<t;p++){let y=i[p].h;const T=i[p].g;if(y-=o,0>y)o=Math.max(0,i[p].h-100),h=!1;else try{v0(T,u,"req"+y+"_")}catch(R){r&&r(T)}}if(h){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function MF(n){n.g||n.u||(n.Y=1,zm(n.Ga,n),n.A=0)}function bM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Wm(Ui(n.Ga,n),OF(n,n.A)),n.A++,0))}function wM(n){null!=n.B&&(pn.clearTimeout(n.B),n.B=null)}function kF(n){n.g=new ih(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=zc(n.oa);l(e,"RID","rpc"),l(e,"SID",n.J),l(e,"CI",n.N?"0":"1"),l(e,"AID",n.U),T0(n,e),l(e,"TYPE","xmlhttp"),n.o&&n.s&&_M(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=c(zc(e)),t.s=null,t.U=!0,pI(t,n)}function II(n){null!=n.v&&(pn.clearTimeout(n.v),n.v=null)}function RF(n,e){var t=null;if(n.g==e){II(n),wM(n),n.g=null;var r=2}else{if(!lp(n.i,e))return;t=e.D,Jm(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ji(r=c0(),new hM(r,t,e,i)),CI(n)}else MF(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function(n,e){return!(Xm(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Wm(Ui(n.Ha,n,e),OF(n,n.C)),n.C++,0)))}(n,e)||2==r&&bM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:dp(n,5);break;case 4:dp(n,10);break;case 3:dp(n,6);break;default:dp(n,2)}}function OF(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function dp(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ui(n.jb,n);t||(t=new zu("//www.google.com/images/cleardot.gif"),pn.location&&"http"==pn.location.protocol||g0(t,"https"),c(t)),function(n,e){const t=new np;if(pn.Image){const r=new Image;r.onload=Bv(vI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Bv(vI,t,r,"TestLoadImage: error",!1,e),r.onabort=Bv(vI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bv(vI,t,r,"TestLoadImage: timeout",!1,e),pn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ro(2);n.G=0,n.j&&n.j.va(e),PF(n),DF(n)}function PF(n){n.G=0,n.I=-1,n.j&&((0!=e_(n.i).length||0!=n.l.length)&&(n.i.i.length=0,YC(n.l),n.l.length=0),n.j.ua())}function NF(n,e,t){let r=function(n){return n instanceof zu?zc(n):new zu(n,void 0)}(t);if(""!=r.i)e&&m0(r,e+"."+r.i),_0(r,r.m);else{const i=pn.location;r=function(n,e,t,r){var i=new zu(null,void 0);return n&&g0(i,n),e&&m0(i,e),t&&_0(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Nm(n.aa,function(i,o){l(r,o,i)}),t=n.sa,(e=n.D)&&t&&l(r,e,t),l(r,"VER",n.ma),T0(n,r),r}function FF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hi(t&&n.Ba&&!n.qa?new w0({ib:!0}):n.qa)).L=n.H,e}function LF(){}function TI(){if(Xf&&!(10<=Number(qv)))throw Error("Environmental error: no available transport.")}function Ma(n,e){vi.call(this),this.g=new SF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Xd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new t_(this)}function BF(n){qm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function VF(){Zm.call(this),this.status=1}function t_(n){this.g=n}(Ht=Hi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():d0.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:d0),this.g.onreadystatechange=Ui(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(o){return void wF(this,o)}n=t||"";const i=new ap(this.headers);r&&p0(r,function(o,u){i.set(u,o)}),r=function(n){e:{var e=Bz;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=pn.FormData&&n instanceof pn.FormData,!(0<=Yx(Fz,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{IF(this),0<this.B&&((this.K=function(n){return Xf&&$v()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ui(this.pa,this)):this.A=lI(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){wF(this,o)}},Ht.pa=function(){void 0!==Lv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ji(this,"timeout"),this.abort(8))},Ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ji(this,"complete"),ji(this,"abort"),wI(this))},Ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wI(this,!0)),Hi.Z.M.call(this)},Ht.Fa=function(){this.s||(this.F||this.v||this.l?CF(this):this.cb())},Ht.cb=function(){CF(this)},Ht.ba=function(){try{return 2<Gu(this)?this.g.status:-1}catch(n){return-1}},Ht.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ht.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Pz(e)}},Ht.Da=function(){return this.m},Ht.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ht=SF.prototype).ma=8,Ht.G=1,Ht.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ht.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new ih(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=jv(o),Hv(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=xF(this,i,e),l(t=zc(this.F),"RID",n),l(t,"CVER",22),this.D&&l(t,"X-HTTP-Session-Id",this.D),T0(this,t),this.o&&o&&_M(t,this.o,o),cp(this.i,i),this.Ra&&l(t,"TYPE","init"),this.ja?(l(t,"$req",e),l(t,"SID","null"),i.$=!0,h0(i,t,null)):h0(i,t,e),this.G=2}}else 3==this.G&&(n?AF(this,n):0==this.l.length||Gc(this.i)||AF(this))},Ht.Ga=function(){if(this.u=null,kF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Wm(Ui(this.bb,this),n)}},Ht.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ro(10),EI(this),kF(this))},Ht.ab=function(){null!=this.v&&(this.v=null,EI(this),bM(this),ro(19))},Ht.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ro(2)):(this.h.info("Failed to ping google.com"),ro(1))},(Ht=LF.prototype).xa=function(){},Ht.wa=function(){},Ht.va=function(){},Ht.ua=function(){},Ht.Oa=function(){},TI.prototype.g=function(n,e){return new Ma(n,e)},ms(Ma,vi),Ma.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),zm(Ui(n.hb,n,e))),ro(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=NF(n,null,n.W),CI(n)},Ma.prototype.close=function(){yM(this.g)},Ma.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,vM(this.g,e)}else this.v?((e={}).__data__=Hm(n),vM(this.g,e)):vM(this.g,n)},Ma.prototype.M=function(){this.g.j=null,delete this.j,yM(this.g),delete this.g,Ma.Z.M.call(this)},ms(BF,qm),ms(VF,Zm),ms(t_,LF),t_.prototype.xa=function(){ji(this.g,"a")},t_.prototype.wa=function(n){ji(this.g,new BF(n))},t_.prototype.va=function(n){ji(this.g,new VF(n))},t_.prototype.ua=function(){ji(this.g,"b")},TI.prototype.createWebChannel=TI.prototype.g,Ma.prototype.send=Ma.prototype.u,Ma.prototype.open=Ma.prototype.m,Ma.prototype.close=Ma.prototype.close,rp.NO_ERROR=0,rp.TIMEOUT=8,rp.HTTP_ERROR=6,dI.COMPLETE="complete",fI.EventType=rh,rh.OPEN="a",rh.CLOSE="b",rh.ERROR="c",rh.MESSAGE="d",vi.prototype.listen=vi.prototype.N,Hi.prototype.listenOnce=Hi.prototype.O,Hi.prototype.getLastError=Hi.prototype.La,Hi.prototype.getLastErrorCode=Hi.prototype.Da,Hi.prototype.getStatus=Hi.prototype.ba,Hi.prototype.getResponseJson=Hi.prototype.Qa,Hi.prototype.getResponseText=Hi.prototype.ga,Hi.prototype.send=Hi.prototype.ea;var jz=al.createWebChannelTransport=function(){return new TI},Hz=al.getStatEventTarget=function(){return c0()},EM=al.ErrorCode=rp,zz=al.EventType=dI,Gz=al.Event=Hc,UF=al.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$z=al.FetchXmlHttpFactory=w0,SI=al.WebChannel=fI,Wz=al.XhrIo=Hi;const jF="@firebase/firestore";class Fs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fs.UNAUTHENTICATED=new Fs(null),Fs.GOOGLE_CREDENTIALS=new Fs("google-credentials-uid"),Fs.FIRST_PARTY=new Fs("first-party-uid"),Fs.MOCK_USER=new Fs("mock-user");let n_="9.8.0";const oh=new xa.Yd("@firebase/firestore");function CM(){return oh.logLevel}function _t(n,...e){if(oh.logLevel<=xa.in.DEBUG){const t=e.map(IM);oh.debug(`Firestore (${n_}): ${n}`,...t)}}function zi(n,...e){if(oh.logLevel<=xa.in.ERROR){const t=e.map(IM);oh.error(`Firestore (${n_}): ${n}`,...t)}}function S0(n,...e){if(oh.logLevel<=xa.in.WARN){const t=e.map(IM);oh.warn(`Firestore (${n_}): ${n}`,...t)}}function IM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function qt(n="Unexpected state"){const e=`FIRESTORE (${n_}) INTERNAL ASSERTION FAILED: `+n;throw zi(e),new Error(e)}function mn(n,e){n||qt()}function Ot(n,e){return n}const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends se.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class HF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Fs.UNAUTHENTICATED))}shutdown(){}}class Yz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qz{constructor(e){this.t=e,this.currentUser=Fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=y=>this.i!==i?(i=this.i,t(y)):Promise.resolve();let u=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ys,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=u;e.enqueueRetryable((0,it.Z)(function*(){yield y.promise,yield o(r.currentUser)}))},p=y=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ys)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mn("string"==typeof r.accessToken),new HF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mn(null===e||"string"==typeof e),new Fs(e)}}class Xz{constructor(e,t,r){this.type="FirstParty",this.user=Fs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Jz{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Xz(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Fs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eG{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=o=>{null!=o.error&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,_t("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?i(o):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mn("string"==typeof t.token),this.p=t.token,new zF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ka{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function tG(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ka.A=-1;class GF{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tG(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function Sn(n,e){return n<e?-1:n>e?1:0}function r_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function $F(n){return n+"\0"}class Oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ht(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ht(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ht(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Oi.fromMillis(Date.now())}static fromDate(e){return Oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Oi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Sn(this.nanoseconds,e.nanoseconds):Sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dn(e)}static min(){return new dn(new Oi(0,0))}static max(){return new dn(new Oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function WF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class D0{constructor(e,t,r){void 0===t?t=0:t>e.length&&qt(),void 0===r?r=e.length-t:r>e.length-t&&qt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===D0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof D0?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),u=t.get(i);if(o<u)return-1;if(o>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class tr extends D0{construct(e,t,r){return new tr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ht(Xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new tr(t)}static emptyPath(){return new tr([])}}const nG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class os extends D0{construct(e,t,r){return new os(e,t,r)}static isValidIdentifier(e){return nG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),os.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new os(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new ht(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new ht(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ht(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new ht(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new os(t)}static emptyPath(){return new os([])}}class i_{constructor(e){this.fields=e,e.sort(os.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return r_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class as{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new as(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new as(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}as.EMPTY_BYTE_STRING=new as("");const iG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ah(n){if(mn(!!n),"string"==typeof n){let e=0;const t=iG.exec(n);if(mn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bi(n.seconds),nanos:bi(n.nanos)}}function bi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function fp(n){return"string"==typeof n?as.fromBase64String(n):as.fromUint8Array(n)}function TM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ZF(n){const e=n.mapValue.fields.__previous_value__;return TM(e)?ZF(e):e}function A0(n){const e=ah(n.mapValue.fields.__local_write_time__.timestampValue);return new Oi(e.seconds,e.nanos)}class sG{constructor(e,t,r,i,o,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class $u{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $u&&e.projectId===this.projectId&&e.database===this.database}}function x0(n){return null==n}function M0(n){return 0===n&&1/n==-1/0}function KF(n){return"number"==typeof n&&Number.isInteger(n)&&!M0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class St{constructor(e){this.path=e}static fromPath(e){return new St(tr.fromString(e))}static fromName(e){return new St(tr.fromString(e).popFirst(5))}static empty(){return new St(tr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===tr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return tr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new tr(e.slice()))}}const lh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},DI={nullValue:"NULL_VALUE"};function pp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?TM(n)?4:JF(n)?9007199254740991:10:qt()}function $c(n,e){if(n===e)return!0;const t=pp(n);if(t!==pp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return A0(n).isEqual(A0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=ah(r.timestampValue),u=ah(i.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,fp(n.bytesValue).isEqual(fp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return bi(r.geoPointValue.latitude)===bi(i.geoPointValue.latitude)&&bi(r.geoPointValue.longitude)===bi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return bi(r.integerValue)===bi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=bi(r.doubleValue),u=bi(i.doubleValue);return o===u?M0(o)===M0(u):isNaN(o)&&isNaN(u)}return!1}(n,e);case 9:return r_(n.arrayValue.values||[],e.arrayValue.values||[],$c);case 10:return function(r,i){const o=r.mapValue.fields||{},u=i.mapValue.fields||{};if(WF(o)!==WF(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!$c(o[h],u[h])))return!1;return!0}(n,e);default:return qt()}var i}function k0(n,e){return void 0!==(n.values||[]).find(t=>$c(t,e))}function ch(n,e){if(n===e)return 0;const t=pp(n),r=pp(e);if(t!==r)return Sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Sn(n.booleanValue,e.booleanValue);case 2:return function(i,o){const u=bi(i.integerValue||i.doubleValue),h=bi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return YF(n.timestampValue,e.timestampValue);case 4:return YF(A0(n),A0(e));case 5:return Sn(n.stringValue,e.stringValue);case 6:return function(i,o){const u=fp(i),h=fp(o);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const u=i.split("/"),h=o.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=Sn(u[p],h[p]);if(0!==y)return y}return Sn(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const u=Sn(bi(i.latitude),bi(o.latitude));return 0!==u?u:Sn(bi(i.longitude),bi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const u=i.values||[],h=o.values||[];for(let p=0;p<u.length&&p<h.length;++p){const y=ch(u[p],h[p]);if(y)return y}return Sn(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===lh.mapValue&&o===lh.mapValue)return 0;if(i===lh.mapValue)return 1;if(o===lh.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),p=o.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let T=0;T<h.length&&T<y.length;++T){const R=Sn(h[T],y[T]);if(0!==R)return R;const W=ch(u[h[T]],p[y[T]]);if(0!==W)return W}return Sn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw qt()}}function YF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Sn(n,e);const t=ah(n),r=ah(e),i=Sn(t.seconds,r.seconds);return 0!==i?i:Sn(t.nanos,r.nanos)}function s_(n){return SM(n)}function SM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ah(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?fp(n.bytesValue).toBase64():"referenceValue"in n?St.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const u of r.values||[])o?o=!1:i+=",",i+=SM(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const h of i)u?u=!1:o+=",",o+=`${h}:${SM(r.fields[h])}`;return o+"}"}(n.mapValue):qt();var e}function gp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function DM(n){return!!n&&"integerValue"in n}function R0(n){return!!n&&"arrayValue"in n}function QF(n){return!!n&&"nullValue"in n}function XF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function AI(n){return!!n&&"mapValue"in n}function O0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=O0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=O0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function oG(n){return"nullValue"in n?DI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?gp($u.empty(),St.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:qt()}function aG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?gp($u.empty(),St.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?lh:qt()}function eL(n,e){const t=ch(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function tL(n,e){const t=ch(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!AI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=O0(t)}setAll(e){let t=os.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=O0(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());AI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $c(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];AI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){hp(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new io(O0(this.value))}}function nL(n){const e=[];return hp(n.fields,(t,r)=>{const i=new os([t]);if(AI(r)){const o=nL(r.mapValue).fields;if(0===o.length)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new i_(e)}class ti{constructor(e,t,r,i,o,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=o,this.documentState=u}static newInvalidDocument(e){return new ti(e,0,dn.min(),dn.min(),io.empty(),0)}static newFoundDocument(e,t,r){return new ti(e,1,t,dn.min(),r,0)}static newNoDocument(e,t){return new ti(e,2,t,dn.min(),io.empty(),0)}static newUnknownDocument(e,t){return new ti(e,3,t,dn.min(),io.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ti&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ti(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xI{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function AM(n){return n.fields.find(e=>2===e.kind)}function mp(n){return n.fields.filter(e=>2!==e.kind)}xI.UNKNOWN_ID=-1;class MI{constructor(e,t){this.fieldPath=e,this.kind=t}}class P0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new P0(0,rc.min())}}function rL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=dn.fromTimestamp(1e9===r?new Oi(t+1,0):new Oi(t,r));return new rc(i,St.empty(),e)}function lG(n){return new rc(n.readTime,n.key,-1)}class rc{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new rc(dn.min(),St.empty(),-1)}static max(){return new rc(dn.max(),St.empty(),-1)}}function iL(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=St.comparator(n.documentKey,e.documentKey),0!==t?t:Sn(n.largestBatchId,e.largestBatchId))}class Pi{constructor(e,t){this.comparator=e,this.root=t||Ls.EMPTY}insert(e,t){return new Pi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ls.BLACK,null,null))}remove(e){return new Pi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kI(this.root,e,this.comparator,!1)}getReverseIterator(){return new kI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kI(this.root,e,this.comparator,!0)}}class kI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ls{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=null!=r?r:Ls.RED,this.left=null!=i?i:Ls.EMPTY,this.right=null!=o?o:Ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ls(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ls.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const e=this.left.check();if(e!==this.right.check())throw qt();return e+(this.isRed()?0:1)}}Ls.EMPTY=null,Ls.RED=!0,Ls.BLACK=!1,Ls.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ls(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qr{constructor(e){this.comparator=e,this.data=new Pi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sL(this.data.getIterator())}getIteratorFrom(e){return new sL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof qr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qr(this.comparator);return t.data=e,t}}class sL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function o_(n){return n.hasNext()?n.getNext():void 0}class cG{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.P=null}}function oL(n,e=null,t=[],r=[],i=null,o=null,u=null){return new cG(n,e,t,r,i,o,u)}function _p(n){const e=Ot(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+s_(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),x0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>s_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>s_(r)).join(",")),e.P=t}return e.P}function N0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!yG(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!$c(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dL(n.startAt,e.startAt)&&dL(n.endAt,e.endAt)}function RI(n){return St.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function OI(n,e){return n.filters.filter(t=>t instanceof Bs&&t.field.isEqual(e))}function aL(n,e,t){let r=DI,i=!0;for(const o of OI(n,e)){let u=DI,h=!0;switch(o.op){case"<":case"<=":u=oG(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=DI}eL({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];eL({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function lL(n,e,t){let r=lh,i=!0;for(const o of OI(n,e)){let u=lh,h=!0;switch(o.op){case">=":case">":u=aG(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=lh}tL({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];tL({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Bs extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new dG(e,t,r):"array-contains"===t?new pG(e,r):"in"===t?new gG(e,r):"not-in"===t?new mG(e,r):"array-contains-any"===t?new _G(e,r):new Bs(e,t,r)}static V(e,t,r){return"in"===t?new hG(e,r):new fG(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ch(t,this.value)):null!==t&&pp(this.value)===pp(t)&&this.v(ch(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dG extends Bs{constructor(e,t,r){super(e,t,r),this.key=St.fromName(r.referenceValue)}matches(e){const t=St.comparator(e.key,this.key);return this.v(t)}}class hG extends Bs{constructor(e,t){super(e,"in",t),this.keys=cL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fG extends Bs{constructor(e,t){super(e,"not-in",t),this.keys=cL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function cL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>St.fromName(r.referenceValue))}class pG extends Bs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return R0(t)&&k0(t.arrayValue,this.value)}}class gG extends Bs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&k0(this.value.arrayValue,t)}}class mG extends Bs{constructor(e,t){super(e,"not-in",t)}matches(e){if(k0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!k0(this.value.arrayValue,t)}}class _G extends Bs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!R0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>k0(this.value.arrayValue,r))}}class uh{constructor(e,t){this.position=e,this.inclusive=t}}class a_{constructor(e,t="asc"){this.field=e,this.dir=t}}function yG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function uL(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(r=o.field.isKeyField()?St.comparator(St.fromName(u.referenceValue),t.key):ch(u,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function dL(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$c(n.position[t],e.position[t]))return!1;return!0}class Wu{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=p,this.D=null,this.C=null}}function hL(n,e,t,r,i,o,u,h){return new Wu(n,e,t,r,i,o,u,h)}function l_(n){return new Wu(n)}function xM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function MM(n){for(const e of n.filters)if(e.S())return e.field;return null}function kM(n){return null!==n.collectionGroup}function c_(n){const e=Ot(n);if(null===e.D){e.D=[];const t=MM(e),r=xM(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new a_(t)),e.D.push(new a_(os.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.D.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new a_(os.keyField(),o))}}}return e.D}function ll(n){const e=Ot(n);if(!e.C)if("F"===e.limitType)e.C=oL(e.path,e.collectionGroup,c_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of c_(e))t.push(new a_(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new uh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new uh(e.startAt.position,e.startAt.inclusive):null;e.C=oL(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function fL(n,e,t){return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F0(n,e){return N0(ll(n),ll(e))&&n.limitType===e.limitType}function pL(n){return`${_p(ll(n))}|lt:${n.limitType}`}function RM(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${s_(r.value)}`;var r}).join(", ")}]`),x0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>s_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>s_(t)).join(",")),`Target(${e})`}(ll(n))}; limitType=${n.limitType})`}function OM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):St.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,u){const h=uL(i,o,u);return i.inclusive?h<=0:h<0}(t.startAt,c_(t),r)||t.endAt&&!function(i,o,u){const h=uL(i,o,u);return i.inclusive?h>=0:h>0}(t.endAt,c_(t),r)));var t,r}function gL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function mL(n){return(e,t)=>{let r=!1;for(const i of c_(n)){const o=bG(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function bG(n,e,t){const r=n.field.isKeyField()?St.comparator(e.key,t.key):function(i,o,u){const h=o.data.field(i),p=u.data.field(i);return null!==h&&null!==p?ch(h,p):qt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qt()}}function _L(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:M0(e)?"-0":e}}function yL(n){return{integerValue:""+n}}function vL(n,e){return KF(e)?yL(e):_L(n,e)}class PI{constructor(){this._=void 0}}function wG(n,e,t){return n instanceof u_?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof yp?wL(n,e):n instanceof vp?EL(n,e):function(r,i){const o=bL(r,i),u=CL(o)+CL(r.k);return DM(o)&&DM(r.k)?yL(u):_L(r.M,u)}(n,e)}function EG(n,e,t){return n instanceof yp?wL(n,e):n instanceof vp?EL(n,e):t}function bL(n,e){return n instanceof d_?DM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class u_ extends PI{}class yp extends PI{constructor(e){super(),this.elements=e}}function wL(n,e){const t=IL(e);for(const r of n.elements)t.some(i=>$c(i,r))||t.push(r);return{arrayValue:{values:t}}}class vp extends PI{constructor(e){super(),this.elements=e}}function EL(n,e){let t=IL(e);for(const r of n.elements)t=t.filter(i=>!$c(i,r));return{arrayValue:{values:t}}}class d_ extends PI{constructor(e,t){super(),this.M=e,this.k=t}}function CL(n){return bi(n.integerValue||n.doubleValue)}function IL(n){return R0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class L0{constructor(e,t){this.field=e,this.transform=t}}class IG{constructor(e,t){this.version=e,this.transformResults=t}}class Gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gi}static exists(e){return new Gi(void 0,e)}static updateTime(e){return new Gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function NI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class FI{}function TG(n,e,t){n instanceof B0?function(r,i,o){const u=r.value.clone(),h=AL(r.fieldTransforms,i,o.transformResults);u.setAll(h),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):n instanceof bp?function(r,i,o){if(!NI(r.precondition,i))return void i.convertToUnknownDocument(o.version);const u=AL(r.fieldTransforms,i,o.transformResults),h=i.data;h.setAll(DL(r)),h.setAll(u),i.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function PM(n,e,t){var i;n instanceof B0?function(r,i,o){if(!NI(r.precondition,i))return;const u=r.value.clone(),h=xL(r.fieldTransforms,o,i);u.setAll(h),i.convertToFoundDocument(SL(i),u).setHasLocalMutations()}(n,e,t):n instanceof bp?function(r,i,o){if(!NI(r.precondition,i))return;const u=xL(r.fieldTransforms,o,i),h=i.data;h.setAll(DL(r)),h.setAll(u),i.convertToFoundDocument(SL(i),h).setHasLocalMutations()}(n,e,t):NI(n.precondition,i=e)&&i.convertToNoDocument(dn.min())}function SG(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=bL(r.transform,i||null);null!=o&&(null==t&&(t=io.empty()),t.set(r.field,o))}return t||null}function TL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&r_(t,r,(i,o)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yp&&r instanceof yp||t instanceof vp&&r instanceof vp?r_(t.elements,r.elements,$c):t instanceof d_&&r instanceof d_?$c(t.k,r.k):t instanceof u_&&r instanceof u_);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function SL(n){return n.isFoundDocument()?n.version:dn.min()}class B0 extends FI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class bp extends FI{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}}function DL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function AL(n,e,t){const r=new Map;mn(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,EG(u,h,t[i]))}return r}function xL(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,wG(o,u,e))}return r}class V0 extends FI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class NM extends FI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class DG{constructor(e){this.count=e}}var $i,nr;function ML(n){switch(n){default:return qt();case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0}}function kL(n){if(void 0===n)return zi("GRPC error has no .code"),Xe.UNKNOWN;switch(n){case $i.OK:return Xe.OK;case $i.CANCELLED:return Xe.CANCELLED;case $i.UNKNOWN:return Xe.UNKNOWN;case $i.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case $i.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case $i.INTERNAL:return Xe.INTERNAL;case $i.UNAVAILABLE:return Xe.UNAVAILABLE;case $i.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case $i.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case $i.NOT_FOUND:return Xe.NOT_FOUND;case $i.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case $i.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case $i.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case $i.ABORTED:return Xe.ABORTED;case $i.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case $i.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case $i.DATA_LOSS:return Xe.DATA_LOSS;default:return qt()}}(nr=$i||($i={}))[nr.OK=0]="OK",nr[nr.CANCELLED=1]="CANCELLED",nr[nr.UNKNOWN=2]="UNKNOWN",nr[nr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",nr[nr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",nr[nr.NOT_FOUND=5]="NOT_FOUND",nr[nr.ALREADY_EXISTS=6]="ALREADY_EXISTS",nr[nr.PERMISSION_DENIED=7]="PERMISSION_DENIED",nr[nr.UNAUTHENTICATED=16]="UNAUTHENTICATED",nr[nr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",nr[nr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",nr[nr.ABORTED=10]="ABORTED",nr[nr.OUT_OF_RANGE=11]="OUT_OF_RANGE",nr[nr.UNIMPLEMENTED=12]="UNIMPLEMENTED",nr[nr.INTERNAL=13]="INTERNAL",nr[nr.UNAVAILABLE=14]="UNAVAILABLE",nr[nr.DATA_LOSS=15]="DATA_LOSS";class dh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hp(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return qF(this.inner)}size(){return this.innerSize}}const AG=new Pi(St.comparator);function cl(){return AG}const xG=new Pi(St.comparator);function FM(...n){let e=xG;for(const t of n)e=e.insert(t.key,t);return e}function U0(){return new dh(n=>n.toString(),(n,e)=>n.isEqual(e))}const MG=new Pi(St.comparator),kG=new qr(St.comparator);function Cr(...n){let e=kG;for(const t of n)e=e.add(t);return e}const RG=new qr(Sn);function LI(){return RG}class j0{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,H0.createSynthesizedTargetChangeForCurrentChange(e,t)),new j0(dn.min(),r,LI(),cl(),Cr())}}class H0{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t){return new H0(as.EMPTY_BYTE_STRING,t,Cr(),Cr(),Cr())}}class BI{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class RL{constructor(e,t){this.targetId=e,this.$=t}}class OL{constructor(e,t,r=as.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class PL{constructor(){this.B=0,this.L=FL(),this.U=as.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Cr(),t=Cr(),r=Cr();return this.L.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:qt()}}),new H0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=FL()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class OG{constructor(e){this.nt=e,this.st=new Map,this.it=cl(),this.rt=NL(),this.ot=new qr(Sn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:qt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const o=i.target;if(RI(o))if(0===r){const u=new St(o.path);this.ct(t,u,ti.newNoDocument(u,dn.min()))}else mn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((o,u)=>{const h=this.wt(u);if(h){if(o.current&&RI(h.target)){const p=new St(h.target.path);null!==this.it.get(p)||this.It(u,p)||this.ct(u,p,ti.newNoDocument(p,e))}o.j&&(t.set(u,o.H()),o.J())}});let r=Cr();this.rt.forEach((o,u)=>{let h=!0;u.forEachWhile(p=>{const y=this.wt(p);return!y||2===y.purpose||(h=!1,!1)}),h&&(r=r.add(o))}),this.it.forEach((o,u)=>u.setReadTime(e));const i=new j0(e,t,this.ot,this.it,r);return this.it=cl(),this.rt=NL(),this.ot=new qr(Sn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new PL,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new qr(Sn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||_t("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new PL),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function NL(){return new Pi(St.comparator)}function FL(){return new Pi(St.comparator)}const PG={asc:"ASCENDING",desc:"DESCENDING"},NG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class FG{constructor(e,t){this.databaseId=e,this.N=t}}function z0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LL(n,e){return n.N?e.toBase64():e.toUint8Array()}function LG(n,e){return z0(n,e.toTimestamp())}function vs(n){return mn(!!n),dn.fromTimestamp(function(e){const t=ah(e);return new Oi(t.seconds,t.nanos)}(n))}function LM(n,e){return(t=n,new tr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BL(n){const e=tr.fromString(n);return mn(qL(e)),e}function G0(n,e){return LM(n.databaseId,e.path)}function Wc(n,e){const t=BL(e);if(t.get(1)!==n.databaseId.projectId)throw new ht(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ht(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new St(UL(t))}function BM(n,e){return LM(n.databaseId,e)}function VL(n){const e=BL(n);return 4===e.length?tr.emptyPath():UL(e)}function $0(n){return new tr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UL(n){return mn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jL(n,e,t){return{name:G0(n,e),fields:t.value.mapValue.fields}}function HL(n,e,t){const r=Wc(n,e.name),i=vs(e.updateTime),o=new io({mapValue:{fields:e.fields}}),u=ti.newFoundDocument(r,i,o);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function W0(n,e){let t;if(e instanceof B0)t={update:jL(n,e.key,e.value)};else if(e instanceof V0)t={delete:G0(n,e.key)};else if(e instanceof bp)t={update:jL(n,e.key,e.data),updateMask:WG(e.fieldMask)};else{if(!(e instanceof NM))return qt();t={verify:G0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const u=o.transform;if(u instanceof u_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof yp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof vp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof d_)return{fieldPath:o.field.canonicalString(),increment:u.k};throw qt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:LG(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:qt()),t;var i}function VM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Gi.updateTime(vs(i.updateTime)):void 0!==i.exists?Gi.exists(i.exists):Gi.none():Gi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,u){let h=null;"setToServerValue"in u?(mn("REQUEST_TIME"===u.setToServerValue),h=new u_):"appendMissingElements"in u?h=new yp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new vp(u.removeAllFromArray.values||[]):"increment"in u?h=new d_(o,u.increment):qt();const p=os.fromServerFormat(u.fieldPath);return new L0(p,h)}(n,i)):[];var i;if(e.update){const i=Wc(n,e.update.name),o=new io({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new i_((e.updateMask.fieldPaths||[]).map(y=>os.fromServerFormat(y)));return new bp(i,o,u,t,r)}return new B0(i,o,t,r)}if(e.delete){const i=Wc(n,e.delete);return new V0(i,t)}if(e.verify){const i=Wc(n,e.verify);return new NM(i,t)}return qt()}function zL(n,e){return{documents:[BM(n,e.path)]}}function GL(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=BM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=BM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(0===p.length)return;const y=p.map(T=>function(R){if("=="===R.op){if(XF(R.value))return{unaryFilter:{field:h_(R.field),op:"IS_NAN"}};if(QF(R.value))return{unaryFilter:{field:h_(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(XF(R.value))return{unaryFilter:{field:h_(R.field),op:"IS_NOT_NAN"}};if(QF(R.value))return{unaryFilter:{field:h_(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:h_(R.field),op:zG(R.op),value:R.value}}}(T));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);i&&(t.structuredQuery.where=i);const o=function(p){if(0!==p.length)return p.map(y=>{return{field:h_((T=y).field),direction:HG(T.dir)};var T})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const u=(y=e.limit,n.N||x0(y)?y:{value:y});var y,h,p;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function $L(n){let e=VL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){mn(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let o=[];t.where&&(o=WL(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new a_(f_((R=T).field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let h=null;t.limit&&(h=function(T){let R;return R="object"==typeof T?T.value:T,x0(R)?null:R}(t.limit));let p=null;var T;t.startAt&&(p=new uh((T=t.startAt).values||[],!!T.before));let y=null;return t.endAt&&(y=function(T){return new uh(T.values||[],!T.before)}(t.endAt)),hL(e,i,u,o,h,"F",p,y)}function WL(n){return n?void 0!==n.unaryFilter?[$G(n)]:void 0!==n.fieldFilter?[GG(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>WL(e)).reduce((e,t)=>e.concat(t)):qt():[]}function HG(n){return PG[n]}function zG(n){return NG[n]}function h_(n){return{fieldPath:n.canonicalString()}}function f_(n){return os.fromServerFormat(n.fieldPath)}function GG(n){return Bs.create(f_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(n.fieldFilter.op),n.fieldFilter.value)}function $G(n){switch(n.unaryFilter.op){case"IS_NAN":const e=f_(n.unaryFilter.field);return Bs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=f_(n.unaryFilter.field);return Bs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=f_(n.unaryFilter.field);return Bs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=f_(n.unaryFilter.field);return Bs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}function WG(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ao(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ZL(e)),e=qG(n.get(t),e);return ZL(e)}function qG(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function ZL(n){return n+"\x01\x01"}function qc(n){const e=n.length;if(mn(e>=2),2===e)return mn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),tr.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf("\x01",o);switch((u<0||u>t)&&qt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let p;0===i.length?p=h:(i+=h,p=i,i=""),r.push(p);break;case"\x10":i+=n.substring(o,u),i+="\0";break;case"\x11":i+=n.substring(o,u+1);break;default:qt()}o=u+2}return new tr(r)}const KL=["userId","batchId"];function VI(n,e){return[n,Ao(e)]}function YL(n,e,t){return[n,Ao(e),t]}const ZG={},KG=["prefixPath","collectionGroup","readTime","documentId"],YG=["prefixPath","collectionGroup","documentId"],QG=["collectionGroup","readTime","prefixPath","documentId"],XG=["canonicalId","targetId"],JG=["targetId","path"],e$=["path","targetId"],t$=["collectionId","parent"],n$=["indexId","uid"],r$=["uid","sequenceNumber"],i$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s$=["indexId","uid","orderedDocumentKey"],o$=["userId","collectionPath","documentId"],a$=["userId","collectionPath","largestBatchId"],l$=["userId","collectionGroup","largestBatchId"],QL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],c$=[...QL,"documentOverlays"],XL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],u$=[...XL,"indexConfiguration","indexState","indexEntries"],JL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},p=>r(p))}),u=!0,o===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}}class UI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ys,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new q0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=UM(r.target.error);this.At.reject(new q0(e,i))}}static open(e,t,r,i){try{return new UI(t,e.transaction(i,r))}catch(o){throw new q0(t,o)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(_t("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new h$(t)}}class ic{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===ic.Vt((0,se.z$)())&&zi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _t("SimpleDb","Removing database:",e),Ep(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,se.hl)())return!1;if(ic.St())return!0;const e=(0,se.z$)(),t=ic.Vt(e),r=0<t&&t<10,i=ic.Dt(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,it.Z)(function*(){return t.db||(_t("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=u=>{r(u.target.result)},o.onblocked=()=>{i(new q0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new ht(Xe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new ht(Xe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new q0(e,h))},o.onupgradeneeded=u=>{_t("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,o.transaction,u.oldVersion,t.version).next(()=>{_t("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,it.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.Nt(e);const p=UI.open(o.db,e,u?"readonly":"readwrite",r),y=i(p).next(T=>(p.bt(),T)).catch(T=>(p.abort(T),Je.reject(T))).toPromise();return y.catch(()=>{}),yield p.Rt,y}catch(p){const y="FirebaseError"!==p.name&&h<3;if(_t("SimpleDb","Transaction failed with error:",p.message,"Retrying:",y),o.close(),!y)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class d${constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ep(this.Ft.delete())}}class q0 extends ht{constructor(e,t){super(Xe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function wp(n){return"IndexedDbTransactionError"===n.name}class h${constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(_t("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(_t("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ep(r)}add(e){return _t("SimpleDb","ADD",this.store.name,e,e),Ep(this.store.add(e))}get(e){return Ep(this.store.get(e)).next(t=>(void 0===t&&(t=null),_t("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return _t("SimpleDb","DELETE",this.store.name,e),Ep(this.store.delete(e))}count(){return _t("SimpleDb","COUNT",this.store.name),Ep(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.Kt(i,(u,h)=>{o.push(h)}).next(()=>o)}{const i=this.store.getAll(r.range);return new Je((o,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{o(h.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Je((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){_t("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(o,u,h)=>h.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Je((r,i)=>{t.onerror=o=>{const u=UM(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}Kt(e,t){const r=[];return new Je((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const p=new d$(h),y=t(h.primaryKey,h.value,p);if(y instanceof Je){const T=y.catch(R=>(p.done(),Je.reject(R)));r.push(T)}p.isDone?i():null===p.Lt?h.continue():h.continue(p.Lt)}}).next(()=>Je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ep(n){return new Je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=UM(r.target.error);t(i)}})}let t2=!1;function UM(n){const e=ic.Vt((0,se.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new ht("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t2||(t2=!0,setTimeout(()=>{throw r},0)),r}}return n}class n2 extends e2{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function bs(n,e){const t=Ot(n);return ic.xt(t.Ht,e)}class jM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&TG(o,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&PM(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&PM(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(dn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cr())}isEqual(e){return this.batchId===e.batchId&&r_(this.mutations,e.mutations,(t,r)=>TL(t,r))&&r_(this.baseMutations,e.baseMutations,(t,r)=>TL(t,r))}}class HM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){mn(e.mutations.length===r.length);let i=MG;const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new HM(e,t,r,i)}}class zM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hh{constructor(e,t,r,i,o=dn.min(),u=dn.min(),h=as.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new hh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class r2{constructor(e){this.Jt=e}}function s2(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:jI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:G0(i=n.Jt,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:z0(i,o.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Cp(e.version)};else{if(!e.isUnknownDocument())return qt();r.unknownDocument={path:t.path.toArray(),version:Cp(e.version)}}var i,o;return r}function jI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Cp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ip(n){const e=new Oi(n.seconds,n.nanoseconds);return dn.fromTimestamp(e)}function p_(n,e){const t=(e.baseMutations||[]).map(o=>VM(n.Jt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(u.updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o)}const r=e.mutations.map(o=>VM(n.Jt,o)),i=Oi.fromMillis(e.localWriteTimeMs);return new jM(e.batchId,i,t,r)}function Z0(n){const e=Ip(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ip(n.lastLimboFreeSnapshotVersion):dn.min();let r;var i;return void 0!==n.query.documents?(mn(1===(i=n.query).documents.length),r=ll(l_(VL(i.documents[0])))):r=ll($L(n.query)),new hh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,as.fromBase64String(n.resumeToken))}function o2(n,e){const t=Cp(e.snapshotVersion),r=Cp(e.lastLimboFreeSnapshotVersion);let i;i=RI(e.target)?zL(n.Jt,e.target):GL(n.Jt,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_p(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function GM(n){const e=$L({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fL(e,e.limit,"L"):e}function $M(n,e){return new zM(e.largestBatchId,VM(n.Jt,e.overlayMutation))}function a2(n,e){const t=e.path.lastSegment();return[n,Ao(e.path.popLast()),t]}class p${getBundleMetadata(e,t){return l2(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ip(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return l2(e).put({bundleId:(r=t).id,createTime:Cp(vs(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return c2(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:GM(i.bundledQuery),readTime:Ip(i.readTime)};var i})}saveNamedQuery(e,t){return c2(e).put({name:(r=t).name,readTime:Cp(vs(r.readTime)),bundledQuery:r.bundledQuery});var r}}function l2(n){return bs(n,"bundles")}function c2(n){return bs(n,"namedQueries")}class WM{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new WM(e,t.uid||"")}getOverlay(e,t){return K0(e).get(a2(this.userId,t)).next(r=>r?$M(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new zM(t,u);i.push(this.Xt(e,h))}),Je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Ao(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(K0(e).Qt("collectionPathOverlayIndex",h))}),Je.waitFor(o)}getOverlaysForCollection(e,t,r){const i=U0(),o=Ao(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return K0(e).qt("collectionPathOverlayIndex",u).next(h=>{for(const p of h){const y=$M(this.M,p);i.set(y.getKey(),y)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=U0();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return K0(e).Wt({index:"collectionGroupOverlayIndex",range:h},(p,y,T)=>{const R=$M(this.M,y);o.size()<i||R.largestBatchId===u?(o.set(R.getKey(),R),u=R.largestBatchId):T.done()}).next(()=>o)}Xt(e,t){return K0(e).put(function(r,i,o){const[u,h,p]=a2(i,o.mutation.key);return{userId:i,collectionPath:h,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:W0(r.Jt,o.mutation)}}(this.M,this.userId,t))}}function K0(n){return bs(n,"documentOverlays")}class Tp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(bi(e.integerValue));else if("doubleValue"in e){const r=bi(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),M0(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(fp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?JF(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):qt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),St.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function g$(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function u2(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=g$(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}Tp.fe=new Tp;class m${constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=u2(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=u2(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class _${constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class y${constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Y0{constructor(){this.De=new m$,this.Ce=new _$(this.De),this.xe=new y$(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Sp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Sp(this.indexId,this.documentKey,this.arrayValue,r)}}function Dp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=d2(n.arrayValue,e.arrayValue),0!==t?t:(t=d2(n.directionalValue,e.directionalValue),0!==t?t:St.comparator(n.documentKey,e.documentKey)))}function d2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class v${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=AM(e);if(void 0!==t&&!this.Be(t))return!1;const r=mp(e);let i=0,o=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[o++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(o>=this.Me.length||!this.Ue(this.Me[o++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class b${constructor(){this.qe=new qM}addToCollectionParentIndex(e,t){return this.qe.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(rc.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class qM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new qr(tr.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new qr(tr.comparator)).toArray()}}const HI=new Uint8Array(0);class w${constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new qM,this.Ge=new dh(r=>_p(r),(r,i)=>N0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const o={collectionId:r,parent:Ao(i)};return h2(e).put(o)}return Je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[$F(t),""],!1,!0);return h2(e).qt(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push(qc(u.parent))}return r})}addFieldIndex(e,t){const r=zI(e),i={indexId:(o=t).indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var o;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=zI(e),i=GI(e),o=Q0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Q0(e);let i=!0;const o=new Map;return Je.forEach(this.Qe(t),u=>this.je(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Cr();const h=[];return Je.forEach(o,(p,y)=>{var T;_t("IndexedDbIndexManager",`Using index ${T=p,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(Gt=>`${Gt.fieldPath}:${Gt.kind}`).join(",")}`} to execute ${_p(t)}`);const R=function(Gt,Ft){const _n=AM(Ft);if(void 0===_n)return null;for(const Dn of OI(Gt,_n.fieldPath))switch(Dn.op){case"array-contains-any":return Dn.value.arrayValue.values||[];case"array-contains":return[Dn.value]}return null}(y,p),W=function(Gt,Ft){const _n=new Map;for(const Dn of mp(Ft))for(const pr of OI(Gt,Dn.fieldPath))switch(pr.op){case"==":case"in":_n.set(Dn.fieldPath.canonicalString(),pr.value);break;case"not-in":case"!=":return _n.set(Dn.fieldPath.canonicalString(),pr.value),Array.from(_n.values())}return null}(y,p),ie=function(Gt,Ft){const _n=[];let Dn=!0;for(const pr of mp(Ft)){const Po=0===pr.kind?aL(Gt,pr.fieldPath,Gt.startAt):lL(Gt,pr.fieldPath,Gt.startAt);_n.push(Po.value),Dn&&(Dn=Po.inclusive)}return new uh(_n,Dn)}(y,p),_e=function(Gt,Ft){const _n=[];let Dn=!0;for(const pr of mp(Ft)){const Po=0===pr.kind?lL(Gt,pr.fieldPath,Gt.endAt):aL(Gt,pr.fieldPath,Gt.endAt);_n.push(Po.value),Dn&&(Dn=Po.inclusive)}return new uh(_n,Dn)}(y,p),Le=this.We(p,y,ie),tt=this.We(p,y,_e),vt=this.ze(p,y,W),Pt=this.He(p.indexId,R,Le,ie.inclusive,tt,_e.inclusive,vt);return Je.forEach(Pt,Gt=>r.Gt(Gt,t.limit).next(Ft=>{Ft.forEach(_n=>{const Dn=St.fromSegments(_n.documentKey);u.has(Dn)||(u=u.add(Dn),h.push(Dn))})}))}).next(()=>h)}return Je.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,o,u,h){const p=(null!=t?t.length:1)*Math.max(r.length,o.length),y=p/(null!=t?t.length:1),T=[];for(let R=0;R<p;++R){const W=t?this.Je(t[R/y]):HI,ie=this.Ye(e,W,r[R%y],i),_e=this.Xe(e,W,o[R%y],u),Le=h.map(tt=>this.Ye(e,W,tt,!0));T.push(...this.createRange(ie,_e,Le))}return T}Ye(e,t,r,i){const o=new Sp(e,St.empty(),t,r);return i?o:o.ke()}Xe(e,t,r,i){const o=new Sp(e,St.empty(),t,r);return i?o.ke():o}je(e,t){const r=new v$(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.$e(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(o=>{o?0!==r&&o.fields.length<function(u){let h=new qr(os.comparator),p=!1;for(const y of u.filters){const T=y;T.field.isKeyField()||("array-contains"===T.op||"array-contains-any"===T.op?p=!0:h=h.add(T.field))}for(const y of u.orderBy)y.field.isKeyField()||(h=h.add(y.field));return h.size+(p?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Y0;for(const i of mp(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const u=r.Ne(i.kind);Tp.fe.Zt(o,u)}return r.Se()}Je(e){const t=new Y0;return Tp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Y0;return Tp.fe.Zt(gp(this.databaseId,t),r.Ne(function(i){const o=mp(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new Y0);let o=0;for(const u of mp(e)){const h=r[o++];for(const p of i)if(this.en(t,u.fieldPath)&&R0(h))i=this.nn(i,u,h);else{const y=p.Ne(u.kind);Tp.fe.Zt(h,y)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const p=new Y0;p.seed(h.Se()),Tp.fe.Zt(u,p.Ne(t.kind)),o.push(p)}return o}en(e,t){return!!e.filters.find(r=>r instanceof Bs&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=zI(e),i=GI(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(o=>{const u=[];return Je.forEach(o,h=>i.get([h.indexId,this.uid]).next(p=>{u.push(function(y,T){const R=T?new P0(T.sequenceNumber,new rc(Ip(T.readTime),new St(qc(T.documentKey)),T.largestBatchId)):P0.empty(),W=y.fields.map(([ie,_e])=>new MI(os.fromServerFormat(ie),_e));return new xI(y.indexId,y.collectionGroup,W,R)}(h,p))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:Sn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=zI(e),o=GI(e);return this.rn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>Je.forEach(h,p=>{return o.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Cp((W=r).readTime),documentKey:Ao(W.documentKey.path),largestBatchId:W.largestBatchId});var W})))}updateIndexEntries(e,t){const r=new Map;return Je.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?Je.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),Je.forEach(h,p=>this.on(e,i,p).next(y=>{const T=this.un(o,p);return y.isEqual(T)?Je.resolve():this.an(e,o,p,y,T)}))))})}cn(e,t,r,i){return Q0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return Q0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=Q0(e);let o=new qr(Dp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(u,h)=>{o=o.add(new Sp(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}un(e,t){let r=new qr(Dp);const i=this.Ze(t,e);if(null==i)return r;const o=AM(t);if(null!=o){const u=e.data.field(o.fieldPath);if(R0(u))for(const h of u.arrayValue.values||[])r=r.add(new Sp(t.indexId,e.key,this.Je(h),i))}else r=r.add(new Sp(t.indexId,e.key,HI,i));return r}an(e,t,r,i,o){_t("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,p,y,T,R){const W=h.getIterator(),ie=p.getIterator();let _e=o_(W),Le=o_(ie);for(;_e||Le;){let tt=!1,vt=!1;if(_e&&Le){const Pt=y(_e,Le);Pt<0?vt=!0:Pt>0&&(tt=!0)}else null!=_e?vt=!0:tt=!0;tt?(T(Le),Le=o_(ie)):vt?(R(_e),_e=o_(W)):(_e=o_(W),Le=o_(ie))}}(i,o,Dp,h=>{u.push(this.cn(e,t,r,h))},h=>{u.push(this.hn(e,t,r,h))}),Je.waitFor(u)}rn(e){let t=1;return GI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>Dp(u,h)).filter((u,h,p)=>!h||0!==Dp(u,p[h-1]));const i=[];i.push(e);for(const u of r){const h=Dp(u,e),p=Dp(u,t);if(0===h)i[0]=e.ke();else if(h>0&&p<0)i.push(u),i.push(u.ke());else if(p>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2)o.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,HI,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,HI,[]]));return o}getMinOffset(e,t){let r;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(o=>{o?(!r||iL(o.indexState.offset,r)<0)&&(r=o.indexState.offset):r=rc.min()})).next(()=>r)}}function h2(n){return bs(n,"collectionParents")}function Q0(n){return bs(n,"indexEntries")}function zI(n){return bs(n,"indexConfiguration")}function GI(n){return bs(n,"indexState")}const f2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class na{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new na(e,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function p2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const p=r.Wt({range:u},(T,R,W)=>(h++,W.delete()));o.push(p.next(()=>{mn(1===h)}));const y=[];for(const T of t.mutations){const R=YL(e,T.key.path,t.batchId);o.push(i.delete(R)),y.push(T.key)}return Je.waitFor(o).next(()=>y)}function $I(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw qt();e=n.noDocument}return JSON.stringify(e).length}na.DEFAULT_COLLECTION_PERCENTILE=10,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,na.DEFAULT=new na(41943040,na.DEFAULT_COLLECTION_PERCENTILE,na.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),na.DISABLED=new na(-1,0,0);class ZM{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){mn(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new ZM(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fh(e).Wt({index:"userMutationsIndex",range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=g_(e),u=fh(e);return u.add({}).next(h=>{mn("number"==typeof h);const p=new jM(h,t,r,i),y=function(W,ie,_e){const Le=_e.baseMutations.map(vt=>W0(W.Jt,vt)),tt=_e.mutations.map(vt=>W0(W.Jt,vt));return{userId:ie,batchId:_e.batchId,localWriteTimeMs:_e.localWriteTime.toMillis(),baseMutations:Le,mutations:tt}}(this.M,this.userId,p),T=[];let R=new qr((W,ie)=>Sn(W.canonicalString(),ie.canonicalString()));for(const W of i){const ie=YL(this.userId,W.key.path,h);R=R.add(W.key.path.popLast()),T.push(u.put(y)),T.push(o.put(ie,ZG))}return R.forEach(W=>{T.push(this.indexManager.addToCollectionParentIndex(e,W))}),e.addOnCommittedListener(()=>{this.ln[h]=p.keys()}),Je.waitFor(T).next(()=>p)})}lookupMutationBatch(e,t){return fh(e).get(t).next(r=>r?(mn(r.userId===this.userId),p_(this.M,r)):null)}fn(e,t){return this.ln[t]?Je.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return fh(e).Wt({index:"userMutationsIndex",range:i},(u,h,p)=>{h.userId===this.userId&&(mn(h.batchId>=r),o=p_(this.M,h)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return fh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fh(e).qt("userMutationsIndex",t).next(r=>r.map(i=>p_(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=VI(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return g_(e).Wt({range:i},(u,h,p)=>{const[y,T,R]=u,W=qc(T);if(y===this.userId&&t.path.isEqual(W))return fh(e).get(R).next(ie=>{if(!ie)throw qt();mn(ie.userId===this.userId),o.push(p_(this.M,ie))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qr(Sn);const i=[];return t.forEach(o=>{const u=VI(this.userId,o.path),h=IDBKeyRange.lowerBound(u),p=g_(e).Wt({range:h},(y,T,R)=>{const[W,ie,_e]=y,Le=qc(ie);W===this.userId&&o.path.isEqual(Le)?r=r.add(_e):R.done()});i.push(p)}),Je.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=VI(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new qr(Sn);return g_(e).Wt({range:u},(p,y,T)=>{const[R,W,ie]=p,_e=qc(W);R===this.userId&&r.isPrefixOf(_e)?_e.length===i&&(h=h.add(ie)):T.done()}).next(()=>this.dn(e,h))}dn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(fh(e).get(o).next(u=>{if(null===u)throw qt();mn(u.userId===this.userId),r.push(p_(this.M,u))}))}),Je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return p2(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return g_(e).Wt({range:r},(o,u,h)=>{if(o[0]===this.userId){const p=qc(o[1]);i.push(p)}else h.done()}).next(()=>{mn(0===i.length)})})}containsKey(e,t){return g2(e,this.userId,t)}wn(e){return m2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function g2(n,e,t){const r=VI(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return g_(n).Wt({range:o,jt:!0},(h,p,y)=>{const[T,R,W]=h;T===e&&R===i&&(u=!0),y.done()}).next(()=>u)}function fh(n){return bs(n,"mutations")}function g_(n){return bs(n,"documentMutations")}function m2(n){return bs(n,"mutationQueues")}class Ap{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Ap(0)}static yn(){return new Ap(-1)}}class E${constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Ap(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>dn.fromTimestamp(new Oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>m_(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(mn(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return m_(e).Wt((u,h)=>{const p=Z0(h);p.sequenceNumber<=t&&null===r.get(p.targetId)&&(i++,o.push(this.removeTargetData(e,p)))}).next(()=>Je.waitFor(o)).next(()=>i)}forEachTarget(e,t){return m_(e).Wt((r,i)=>{const o=Z0(i);t(o)})}pn(e){return _2(e).get("targetGlobalKey").next(t=>(mn(null!==t),t))}In(e,t){return _2(e).put("targetGlobalKey",t)}Tn(e,t){return m_(e).put(o2(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_p(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return m_(e).Wt({range:i,index:"queryTargetsIndex"},(u,h,p)=>{const y=Z0(h);N0(t,y.target)&&(o=y,p.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=ph(e);return t.forEach(u=>{const h=Ao(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),Je.waitFor(i)}removeMatchingKeys(e,t,r){const i=ph(e);return Je.forEach(t,o=>{const u=Ao(o.path);return Je.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=ph(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ph(e);let o=Cr();return i.Wt({range:r,jt:!0},(u,h,p)=>{const y=qc(u[1]),T=new St(y);o=o.add(T)}).next(()=>o)}containsKey(e,t){const r=Ao(t.path),i=IDBKeyRange.bound([r],[$F(r)],!1,!0);let o=0;return ph(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,h],p,y)=>{0!==u&&(o++,y.done())}).next(()=>o>0)}Et(e,t){return m_(e).get(t).next(r=>r?Z0(r):null)}}function m_(n){return bs(n,"targets")}function _2(n){return bs(n,"targetGlobal")}function ph(n){return bs(n,"targetDocuments")}function xp(n){return KM.apply(this,arguments)}function KM(){return KM=(0,it.Z)(function*(n){if(n.code!==Xe.FAILED_PRECONDITION||n.message!==JL)throw n;_t("LocalStore","Unexpectedly lost primary lease")}),KM.apply(this,arguments)}function y2([n,e],[t,r]){const i=Sn(n,t);return 0===i?Sn(e,r):i}class C${constructor(e){this.An=e,this.buffer=new qr(y2),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();y2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class I${constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;_t("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,it.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){wp(i)?_t("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield xp(i)}yield t.Sn(e)}))}}class T${constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(ka.A);const r=new C$(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(f2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f2):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,o,u,h,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,u=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,h=Date.now(),this.removeTargets(e,r,t))).next(R=>(o=R,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(y=Date.now(),CM()<=xa.in.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(p-h)+`ms\n\tRemoved ${R} documents in `+(y-p)+`ms\nTotal Duration: ${y-T}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:R})))}}class S${constructor(e,t){this.db=e,this.garbageCollector=new T$(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return WI(e,r)}removeReference(e,t,r){return WI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return WI(e,t)}On(e,t){return function(r,i){let o=!1;return m2(r).zt(u=>g2(r,u,i).next(h=>(h&&(o=!0),Je.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Mn(e,(u,h)=>{if(h<=t){const p=this.On(e,u).next(y=>{if(!y)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,dn.min()),ph(e).delete([0,Ao(u.path)])))});i.push(p)}}).next(()=>Je.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return WI(e,t)}Mn(e,t){const r=ph(e);let i,o=ka.A;return r.Wt({index:"documentTargetsIndex"},([u,h],{path:p,sequenceNumber:y})=>{0===u?(o!==ka.A&&t(new St(qc(i)),o),o=y,i=p):o=ka.A}).next(()=>{o!==ka.A&&t(new St(qc(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function WI(n,e){return ph(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ao(e.path),sequenceNumber:r}));var r}class v2{constructor(){this.changes=new dh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ti.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class D${constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Mp(e).put(r)}removeEntry(e,t,r){return Mp(e).delete(function(i,o){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],jI(o),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=ti.newInvalidDocument(t);return Mp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(i,o)=>{r=this.$n(t,o)}).next(()=>r)}Bn(e,t){let r={size:0,document:ti.newInvalidDocument(t)};return Mp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(i,o)=>{r={document:this.$n(t,o),size:$I(o)}}).next(()=>r)}getEntries(e,t){let r=cl();return this.Ln(e,t,(i,o)=>{const u=this.$n(i,o);r=r.insert(i,u)}).next(()=>r)}Un(e,t){let r=cl(),i=new Pi(St.comparator);return this.Ln(e,t,(o,u)=>{const h=this.$n(o,u);r=r.insert(o,h),i=i.insert(o,$I(u))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Je.resolve();let i=new qr(E2);t.forEach(p=>i=i.add(p));const o=IDBKeyRange.bound(X0(i.first()),X0(i.last())),u=i.getIterator();let h=u.getNext();return Mp(e).Wt({index:"documentKeyIndex",range:o},(p,y,T)=>{const R=St.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;h&&E2(h,R)<0;)r(h,null),h=u.getNext();h&&h.isEqual(R)&&(r(h,y),h=u.hasNext()?u.getNext():null),h?T.Ut(X0(h)):T.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),jI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],o=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Mp(e).qt(IDBKeyRange.bound(i,o,!0)).next(u=>{let h=cl();for(const p of u){const y=this.$n(St.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);h=h.insert(y.key,y)}return h})}getAllFromCollectionGroup(e,t,r,i){let o=cl();const u=w2(t,r),h=w2(t,rc.max());return Mp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(p,y,T)=>{const R=this.$n(St.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);o=o.insert(R.key,R),o.size===i&&T.done()}).next(()=>o)}newChangeBuffer(e){return new A$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return b2(e).get("remoteDocumentGlobalKey").next(t=>(mn(!!t),t))}Fn(e,t){return b2(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function(n,e){let t;if(e.document)t=HL(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=St.fromSegments(e.noDocument.path),i=Ip(e.noDocument.readTime);t=ti.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return qt();{const r=St.fromSegments(e.unknownDocument.path),i=Ip(e.unknownDocument.version);t=ti.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Oi(r[0],r[1]);return dn.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(dn.min()))return r}return ti.newInvalidDocument(e)}}class A$ extends v2{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new dh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new qr((o,u)=>Sn(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Gn.get(o);if(t.push(this.Kn.removeEntry(e,o,h.readTime)),u.isValidDocument()){const p=s2(this.Kn.M,u);i=i.add(o.path.popLast()),r+=$I(p)-h.size,t.push(this.Kn.addEntry(e,o,p))}else if(r-=h.size,this.trackRemovals){const p=s2(this.Kn.M,u.convertToNoDocument(dn.min()));t.push(this.Kn.addEntry(e,o,p))}}),i.forEach(o=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Kn.updateMetadata(e,r)),Je.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((o,u)=>{this.Gn.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function b2(n){return bs(n,"remoteDocumentGlobal")}function Mp(n){return bs(n,"remoteDocumentsV14")}function X0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function w2(n,e){const t=e.documentKey.path.toArray();return[n,jI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function E2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=Sn(t[o],r[o]),i)return i;return i=Sn(t.length,r.length),i||(i=Sn(t[t.length-2],r[r.length-2]),i||Sn(t[t.length-1],r[r.length-1]))}class x${constructor(e){this.M=e}kt(e,t,r,i){const o=new UI("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KL,{unique:!0}),h.createObjectStore("documentMutations"),C2(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=Je.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),C2(e)),u=u.next(()=>function(h){const p=h.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dn.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(o))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,p){return p.store("mutations").qt().next(y=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",KL,{unique:!0});const T=p.store("mutations"),R=y.map(W=>T.put(W));return Je.waitFor(R)})}(e,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Qn(o))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.jn(o)))),r<7&&i>=7&&(u=u.next(()=>this.Wn(o))),r<8&&i>=8&&(u=u.next(()=>this.zn(e,o))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.Hn(o))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:o$});p.createIndex("collectionPathOverlayIndex",a$,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",l$,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:KG});p.createIndex("documentKeyIndex",YG),p.createIndex("collectionGroupIndex",QG)}(e)).next(()=>this.Jn(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:n$}).createIndex("sequenceNumberIndex",r$,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:i$}).createIndex("documentKeyIndex",s$,{unique:!1})}(e)})),u}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=$I(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Je.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(h=>Je.forEach(h,p=>{mn(p.userId===o.userId);const y=p_(this.M,p);return p2(e,o.userId,y).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.Wt((u,h)=>{const p=new tr(u),y=[0,Ao(p)];o.push(t.get(y).next(T=>T?Je.resolve():t.put({targetId:0,path:Ao(p),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Je.waitFor(o))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:t$});const r=t.store("collectionParents"),i=new qM,o=u=>{if(i.add(u)){const h=u.lastSegment(),p=u.popLast();return r.put({collectionId:h,parent:Ao(p)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,h)=>{const p=new tr(u);return o(p.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,h,p],y)=>{const T=qc(h);return o(T.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const o=Z0(i),u=o2(this.M,o);return t.put(u)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((o,u)=>{const h=t.store("remoteDocumentsV14"),p=(y=u,y.document?new St(tr.fromString(y.document.name).popFirst(5)):y.noDocument?St.fromSegments(y.noDocument.path):y.unknownDocument?St.fromSegments(y.unknownDocument.path):qt()).path.toArray();var y;const T={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(T))}).next(()=>Je.waitFor(i))}}function C2(n){n.createObjectStore("targetDocuments",{keyPath:JG}).createIndex("documentTargetsIndex",e$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",XG,{unique:!0}),n.createObjectStore("targetGlobal")}const YM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QM{constructor(e,t,r,i,o,u,h,p,y,T,R=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=o,this.window=u,this.document=h,this.Xn=y,this.Zn=T,this.ts=R,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=W=>Promise.resolve(),!QM.vt())throw new ht(Xe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new S$(this,i),this.hs=t+"main",this.M=new r2(p),this.ls=new ic(this.hs,this.ts,new x$(this.M)),this.fs=new E$(this.referenceDelegate,this.M),this.ds=new D$(this.M),this._s=new p$,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===T&&zi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ht(Xe.FAILED_PRECONDITION,YM);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ka(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,it.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,it.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,it.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>qI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(wp(e))return _t("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _t("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return J0(e).get("owner").next(t=>Je.resolve(this.Ps(t)))}Vs(e){return qI(e).delete(this.clientId)}vs(){var e=this;return(0,it.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=bs(r,"clientMetadata");return i.qt().next(o=>{const u=e.Ds(o,18e5),h=o.filter(p=>-1===u.indexOf(p));return Je.forEach(h,p=>i.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Je.resolve(!0):J0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new ht(Xe.FAILED_PRECONDITION,YM);return!1}}return!(!this.networkEnabled||!this.inForeground)||qI(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&_t("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,it.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new n2(t,ka.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>qI(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return ZM.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new w$(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return WM.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){_t("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=14===(u=this.ts)?u$:13===u?XL:12===u?c$:11===u?QL:void qt();var u;let h;return this.ls.runTransaction(e,i,o,p=>(h=new n2(p,this.es?this.es.next():ka.A),"readwrite-primary"===t?this.Es(h).next(y=>!!y||this.As(h)).next(y=>{if(!y)throw zi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new ht(Xe.FAILED_PRECONDITION,JL);return r(h)}).next(y=>this.bs(h).next(()=>y)):this.$s(h).next(()=>r(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}$s(e){return J0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ht(Xe.FAILED_PRECONDITION,YM)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return J0(e).put("owner",t)}static vt(){return ic.vt()}Rs(e){const t=J0(e);return t.get("owner").next(r=>this.Ps(r)?(_t("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(zi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,se.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return _t("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){zi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function J0(n){return bs(n,"owner")}function qI(n){return bs(n,"clientMetadata")}function XM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class M${constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const o of r)o.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const o of t)o.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return St.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):kM(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new St(t)).next(r=>{let i=FM();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let o=FM();return this.indexManager.getCollectionParents(e,i).next(u=>Je.forEach(u,h=>{const p=(y=t,T=h.child(i),new Wu(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,T;return this.zs(e,p,r).next(y=>{y.forEach((T,R)=>{o=o.insert(T,R)})})}).next(()=>o))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(o=>(i=o,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(o=>{for(const u of o)for(const h of u.mutations){const p=h.key;let y=i.get(p);null==y&&(y=ti.newInvalidDocument(p),i=i.insert(p,y)),PM(h,y,u.localWriteTime),y.isFoundDocument()||(i=i.remove(p))}}).next(()=>(i.forEach((o,u)=>{OM(t,u)||(i=i.remove(o))}),i))}}class JM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Cr(),i=Cr();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new JM(e,t.fromCache,r,i)}}class I2{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(o=>o||this.ei(e,t,i,r)).next(o=>o||this.ni(e,t))}ti(e,t){return Je.resolve(null)}ei(e,t,r,i){return function(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(dn.min())?this.ni(e,t):this.Zs.Ks(e,r).next(o=>{const u=this.si(t,o);return this.ii(t,u,r,i)?this.ni(e,t):(CM()<=xa.in.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),RM(t)),this.ri(e,u,t,rL(i,-1)))})}si(e,t){let r=new qr(mL(e));return t.forEach((i,o)=>{OM(e,o)&&(r=r.add(o))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ni(e,t){return CM()<=xa.in.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",RM(t)),this.Zs.Qs(e,t,rc.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}class k${constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Pi(Sn),this.ai=new dh(o=>_p(o),N0),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new M$(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function T2(n,e,t,r){return new k$(n,e,t,r)}function S2(n,e){return e1.apply(this,arguments)}function e1(){return e1=(0,it.Z)(function*(n,e){const t=Ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(o=>(i=o,t.li(e),t.Bs.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let p=Cr();for(const y of i){u.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of o){h.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return t.fi.Ks(r,p).next(y=>({di:y,removedBatchIds:u,addedBatchIds:h}))})})}),e1.apply(this,arguments)}function R$(n,e){const t=Ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.hi.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const T=p.batch,R=T.keys();let W=Je.resolve();return R.forEach(ie=>{W=W.next(()=>y.getEntry(h,ie)).next(_e=>{const Le=p.docVersions.get(ie);mn(null!==Le),_e.version.compareTo(Le)<0&&(T.applyToRemoteDocument(_e,p),_e.isValidDocument()&&(_e.setReadTime(p.commitVersion),y.addEntry(_e)))})}),W.next(()=>u.Bs.removeMutationBatch(h,T))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function D2(n){const e=Ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function O$(n,e){const t=Ot(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const h=[];e.targetChanges.forEach((y,T)=>{const R=i.get(T);if(!R)return;h.push(t.fs.removeMatchingKeys(o,y.removedDocuments,T).next(()=>t.fs.addMatchingKeys(o,y.addedDocuments,T)));let W=R.withSequenceNumber(o.currentSequenceNumber);var ie,_e,Le;e.targetMismatches.has(T)?W=W.withResumeToken(as.EMPTY_BYTE_STRING,dn.min()).withLastLimboFreeSnapshotVersion(dn.min()):y.resumeToken.approximateByteSize()>0&&(W=W.withResumeToken(y.resumeToken,r)),i=i.insert(T,W),_e=W,Le=y,(0===(ie=R).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Le.addedDocuments.size+Le.modifiedDocuments.size+Le.removedDocuments.size>0)&&h.push(t.fs.updateTargetData(o,W))});let p=cl();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))}),h.push(A2(o,u,e.documentUpdates).next(y=>{p=y})),!r.isEqual(dn.min())){const y=t.fs.getLastRemoteSnapshotVersion(o).next(T=>t.fs.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(y)}return Je.waitFor(h).next(()=>u.apply(o)).next(()=>t.fi.Gs(o,p)).next(()=>p)}).then(o=>(t.ui=i,o))}function A2(n,e,t){let r=Cr();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=cl();return t.forEach((u,h)=>{const p=i.get(u);h.isNoDocument()&&h.version.isEqual(dn.min())?(e.removeEntry(u,h.readTime),o=o.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||0===h.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(h),o=o.insert(u,h)):_t("LocalStore","Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),o})}function P$(n,e){const t=Ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function __(n,e){const t=Ot(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(o=>o?(i=o,Je.resolve(i)):t.fs.allocateTargetId(r).next(u=>(i=new hh(e,u,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function y_(n,e,t){return t1.apply(this,arguments)}function t1(){return t1=(0,it.Z)(function*(n,e,t){const r=Ot(n),i=r.ui.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!wp(u))throw u;_t("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),t1.apply(this,arguments)}function ZI(n,e,t){const r=Ot(n);let i=dn.min(),o=Cr();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,p,y){const T=Ot(h),R=T.ai.get(y);return void 0!==R?Je.resolve(T.ui.get(R)):T.fs.getTargetData(p,y)}(r,u,ll(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(u,h.targetId).next(p=>{o=p})}).next(()=>r.oi.Qs(u,e,t?i:dn.min(),t?o:Cr())).next(h=>(k2(r,gL(e),h),{documents:h,_i:o})))}function x2(n,e){const t=Ot(n),r=Ot(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.Et(o,e).next(u=>u?u.target:null))}function M2(n,e){const t=Ot(n),r=t.ci.get(e)||dn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,rL(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(k2(t,e,i),i))}function k2(n,e,t){let r=dn.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ci.set(e,r)}function n1(){return n1=(0,it.Z)(function*(n,e,t,r){const i=Ot(n);let o=Cr(),u=cl();for(const y of t){const T=e.wi(y.metadata.name);y.document&&(o=o.add(T));const R=e.mi(y);R.setReadTime(e.gi(y.metadata.readTime)),u=u.insert(T,R)}const h=i.hi.newChangeBuffer({trackRemovals:!0}),p=yield __(i,(y=r,ll(l_(tr.fromString(`__bundle__/docs/${y}`)))));var y;return i.persistence.runTransaction("Apply bundle documents","readwrite",y=>A2(y,h,u).next(T=>(h.apply(y),T)).next(T=>i.fs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>i.fs.addMatchingKeys(y,o,p.targetId)).next(()=>i.fi.Gs(y,T)).next(()=>T)))}),n1.apply(this,arguments)}function F$(n,e){return r1.apply(this,arguments)}function r1(){return r1=(0,it.Z)(function*(n,e,t=Cr()){const r=yield __(n,ll(GM(e.bundledQuery))),i=Ot(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=vs(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i._s.saveNamedQuery(o,e);const h=r.withResumeToken(as.EMPTY_BYTE_STRING,u);return i.ui=i.ui.insert(h.targetId,h),i.fs.updateTargetData(o,h).next(()=>i.fs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.fs.addMatchingKeys(o,t,r.targetId)).next(()=>i._s.saveNamedQuery(o,e))})}),r1.apply(this,arguments)}class L${constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Je.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:vs(r.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:GM(r.bundledQuery),readTime:vs(r.readTime)}),Je.resolve();var r}}class B${constructor(){this.overlays=new Pi(St.comparator),this.Ii=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Xt(e,t,o)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ii.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=U0(),o=t.length+1,u=new St(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===o&&p.largestBatchId>r&&i.set(p.getKey(),p)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Pi((y,T)=>y-T);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let T=o.get(y.largestBatchId);null===T&&(T=U0(),o=o.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const h=U0(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>h.set(y,T)),!(h.size()>=i)););return Je.resolve(h)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new zM(t,r));let o=this.Ii.get(t);void 0===o&&(o=Cr(),this.Ii.set(t,o)),this.Ii.set(t,o.add(r.key))}}class s1{constructor(){this.Ti=new qr(ws.Ei),this.Ai=new qr(ws.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new ws(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new ws(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new St(new tr([])),r=new ws(t,e),i=new ws(t,e+1),o=[];return this.Ai.forEachInRange([r,i],u=>{this.Pi(u),o.push(u.key)}),o}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new St(new tr([])),r=new ws(t,e),i=new ws(t,e+1);let o=Cr();return this.Ai.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new ws(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ws{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return St.comparator(e.key,t.key)||Sn(e.Ci,t.Ci)}static Ri(e,t){return Sn(e.Ci,t.Ci)||St.comparator(e.key,t.key)}}class V${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new qr(ws.Ei)}checkEmpty(e){return Je.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const o=this.xi;this.xi++;const u=new jM(o,t,r,i);this.Bs.push(u);for(const h of i)this.Ni=this.Ni.add(new ws(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Je.resolve(u)}lookupMutationBatch(e,t){return Je.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),o=i<0?0:i;return Je.resolve(this.Bs.length>o?this.Bs[o]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ws(t,0),i=new ws(t,Number.POSITIVE_INFINITY),o=[];return this.Ni.forEachInRange([r,i],u=>{const h=this.ki(u.Ci);o.push(h)}),Je.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new qr(Sn);return t.forEach(i=>{const o=new ws(i,0),u=new ws(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([o,u],h=>{r=r.add(h.Ci)})}),Je.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;St.isDocumentKey(o)||(o=o.child(""));const u=new ws(new St(o),0);let h=new qr(Sn);return this.Ni.forEachWhile(p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(h=h.add(p.Ci)),!0)},u),Je.resolve(this.Oi(h))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){mn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Je.forEach(t.mutations,i=>{const o=new ws(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new ws(t,0),i=this.Ni.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Je.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class U${constructor(e){this.$i=e,this.docs=new Pi(St.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():ti.newInvalidDocument(t))}getEntries(e,t){let r=cl();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ti.newInvalidDocument(i))}),Je.resolve(r)}getAllFromCollection(e,t,r){let i=cl();const o=new St(t.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||iL(lG(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){qt()}Bi(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new j$(this)}getSize(e){return Je.resolve(this.size)}}class j$ extends v2{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class H${constructor(e){this.persistence=e,this.Li=new dh(t=>_p(t),N0),this.lastRemoteSnapshotVersion=dn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new s1,this.targetCount=0,this.Ki=Ap.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Je.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Ap(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tn(t),Je.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Li.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Li.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),Je.waitFor(o).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),Je.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.qi.containsKey(t))}}class z${constructor(e,t){this.Gi={},this.overlays={},this.es=new ka(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new H$(this),this.indexManager=new b$,this.ds=new U$(r=>this.referenceDelegate.Qi(r)),this.M=new r2(t),this._s=new L$(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new V$(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){_t("MemoryPersistence","Starting transaction:",e);const i=new G$(this.es.next());return this.referenceDelegate.ji(),r(i).next(o=>this.referenceDelegate.Wi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}zi(e,t){return Je.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class G$ extends e2{constructor(e){super(),this.currentSequenceNumber=e}}class o1{constructor(e){this.persistence=e,this.Hi=new s1,this.Ji=null}static Yi(e){return new o1(e)}get Xi(){if(this.Ji)return this.Ji;throw qt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,r=>{const i=St.fromPath(r);return this.Zi(e,i).next(o=>{o||t.removeEntry(i,dn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Je.or([()=>Je.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function R2(n,e){return`firestore_clients_${n}_${e}`}function O2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function a1(n,e){return`firestore_targets_${n}_${e}`}class KI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let o,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(o=new ht(i.error.code,i.error.message))),u?new KI(e,t,i.state,o):(zi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new ht(r.error.code,r.error.message))),o?new eb(e,r.state,i):(zi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class YI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=LI();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=KF(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new YI(e,o):(zi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class l1{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new l1(t.clientId,t.onlineState):(zi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class c1{constructor(){this.activeTargetIds=LI()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u1{constructor(e,t,r,i,o){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Pi(Sn),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.hr=R2(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new c1),this.dr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,it.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const o=e.getItem(R2(e.persistenceKey,i));if(o){const u=YI.tr(i,o);u&&(e.ar=e.ar.insert(u.clientId,u))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(a1(this.persistenceKey,e));if(r){const i=eb.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(a1(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _t("SharedClientState","READ",e,t),t}setItem(e,t){_t("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_t("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(_t("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void zi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,it.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(o){let u=ka.A;if(null!=o)try{const h=JSON.parse(o);mn("number"==typeof h),u=h}catch(h){zi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==ka.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Fr(o)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new KI(this.currentUser,e,t,r),o=O2(this.persistenceKey,this.currentUser,e);this.setItem(o,i.er())}Ar(e){const t=O2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=a1(this.persistenceKey,e),o=new eb(e,t,r);this.setItem(i,o.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return YI.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return KI.tr(new Fs(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return eb.tr(i,t)}pr(e){return l1.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,it.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);_t("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),o=this.Tr(r),u=[],h=[];return o.forEach(p=>{i.has(p)||u.push(p)}),i.forEach(p=>{o.has(p)||h.push(p)}),this.syncEngine.Lr(u,h).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=LI();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class P2{constructor(){this.Ur=new c1,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new c1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $${Kr(e){}shutdown(){}}class N2{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){_t("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){_t("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const W$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class q${constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Z$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,o){const u=this.ho(e,t);_t("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,o),this.fo(e,u,h,r).then(p=>(_t("RestConnection","Received: ",p),p),p=>{throw S0("RestConnection",`${e} failed with error: `,p,"url: ",u,"request:",r),p})}_o(e,t,r,i,o){return this.co(e,t,r,i,o)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+n_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}ho(e,t){return`${this.uo}/v1/${t}:${W$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((o,u)=>{const h=new Wz;h.listenOnce(zz.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case EM.NO_ERROR:const y=h.getResponseJson();_t("Connection","XHR received:",JSON.stringify(y)),o(y);break;case EM.TIMEOUT:_t("Connection",'RPC "'+e+'" timed out'),u(new ht(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case EM.HTTP_ERROR:const T=h.getStatus();if(_t("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){const R=h.getResponseJson().error;if(R&&R.status&&R.message){const W=function(ie){const _e=ie.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(_e)>=0?_e:Xe.UNKNOWN}(R.status);u(new ht(W,R.message))}else u(new ht(Xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new ht(Xe.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{_t("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);h.send(t,"POST",p,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jz(),u=Hz(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new $z({})),this.lo(h.initMessageHeaders,t,r),(0,se.uI)()||(0,se.b$)()||(0,se.d)()||(0,se.w1)()||(0,se.Mn)()||(0,se.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=i.join("");_t("Connection","Creating WebChannel: "+p,h);const y=o.createWebChannel(p,h);let T=!1,R=!1;const W=new q$({Jr:_e=>{R?_t("Connection","Not sending because WebChannel is closed:",_e):(T||(_t("Connection","Opening WebChannel transport."),y.open(),T=!0),_t("Connection","WebChannel sending:",_e),y.send(_e))},Yr:()=>y.close()}),ie=(_e,Le,tt)=>{_e.listen(Le,vt=>{try{tt(vt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return ie(y,SI.EventType.OPEN,()=>{R||_t("Connection","WebChannel transport opened.")}),ie(y,SI.EventType.CLOSE,()=>{R||(R=!0,_t("Connection","WebChannel transport closed"),W.ro())}),ie(y,SI.EventType.ERROR,_e=>{R||(R=!0,S0("Connection","WebChannel transport errored:",_e),W.ro(new ht(Xe.UNAVAILABLE,"The operation could not be completed")))}),ie(y,SI.EventType.MESSAGE,_e=>{var Le;if(!R){const tt=_e.data[0];mn(!!tt);const vt=tt,Pt=vt.error||(null===(Le=vt[0])||void 0===Le?void 0:Le.error);if(Pt){_t("Connection","WebChannel received error:",Pt);const Gt=Pt.status;let Ft=function(Dn){const pr=$i[Dn];if(void 0!==pr)return kL(pr)}(Gt),_n=Pt.message;void 0===Ft&&(Ft=Xe.INTERNAL,_n="Unknown error status: "+Gt+" with message "+Pt.message),R=!0,W.ro(new ht(Ft,_n)),y.close()}else _t("Connection","WebChannel received:",tt),W.oo(tt)}}),ie(u,Gz.STAT_EVENT,_e=>{_e.stat===UF.PROXY?_t("Connection","Detected buffering proxy"):_e.stat===UF.NOPROXY&&_t("Connection","Detected no buffering proxy")}),setTimeout(()=>{W.io()},0),W}}function F2(){return"undefined"!=typeof window?window:null}function QI(){return"undefined"!=typeof document?document:null}function tb(n){return new FG(n,!0)}class d1{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=o,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&_t("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class L2{constructor(e,t,r,i,o,u,h,p){this.Yn=e,this.Vo=r,this.vo=i,this.So=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new d1(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,it.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,it.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,it.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Xe.RESOURCE_EXHAUSTED?(zi(t.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Xe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new ht(Xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,it.Z)(function*(){e.state=0,e.start()}))}jo(e){return _t("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(_t("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K$ extends L2{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=o}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:qt(),i=e.targetChange.targetIds||[],o=function(p,y){return p.N?(mn(void 0===y||"string"==typeof y),as.fromBase64String(y||"")):(mn(void 0===y||y instanceof Uint8Array),as.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=void 0===p.code?Xe.UNKNOWN:kL(p.code);return new ht(y,p.message||"")}(u);t=new OL(r,i,o,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Wc(n,r.document.name),o=vs(r.document.updateTime),u=new io({mapValue:{fields:r.document.fields}}),h=ti.newFoundDocument(i,o,u);t=new BI(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=Wc(n,r.document),o=r.readTime?vs(r.readTime):dn.min(),u=ti.newNoDocument(i,o);t=new BI([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Wc(n,r.document);t=new BI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return qt();{const r=e.filter,o=new DG(r.count||0);t=new RL(r.targetId,o)}}var p;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return dn.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?dn.min():o.readTime?vs(o.readTime):dn.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=$0(this.M),t.addTarget=function(i,o){let u;const h=o.target;return u=RI(h)?{documents:zL(i,h)}:{query:GL(i,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=LL(i,o.resumeToken):o.snapshotVersion.compareTo(dn.min())>0&&(u.readTime=z0(i,o.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=$0(this.M),t.removeTarget=e,this.Lo(t)}}class Y$ extends L2{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=o,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function(n,e){return n&&n.length>0?(mn(void 0!==e),n.map(t=>function(r,i){let o=vs(r.updateTime?r.updateTime:i);return o.isEqual(dn.min())&&(o=vs(i)),new IG(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=vs(e.commitTime);return this.listener.tu(r,t)}return mn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=$0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>W0(this.M,r))};this.Lo(t)}}class Q$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new ht(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.So.co(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ht(Xe.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.So._o(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ht(Xe.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class X${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(zi(t),this.uu=!1):_t("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class J${constructor(e,t,r,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=o,this.gu.Kr(h=>{r.enqueueAndForget((0,it.Z)(function*(){var p;gh(u)&&(_t("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,it.Z)(function*(y){const T=Ot(y);T.wu.add(4),yield v_(T),T.yu.set("Unknown"),T.wu.delete(4),yield nb(T)}),function(y){return p.apply(this,arguments)})(u))}))}),this.yu=new X$(r,i)}}function nb(n){return h1.apply(this,arguments)}function h1(){return h1=(0,it.Z)(function*(n){if(gh(n))for(const e of n.mu)yield e(!0)}),h1.apply(this,arguments)}function v_(n){return f1.apply(this,arguments)}function f1(){return f1=(0,it.Z)(function*(n){for(const e of n.mu)yield e(!1)}),f1.apply(this,arguments)}function XI(n,e){const t=Ot(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),m1(t)?g1(t):w_(t).Mo()&&p1(t,e))}function rb(n,e){const t=Ot(n),r=w_(t);t._u.delete(e),r.Mo()&&B2(t,e),0===t._u.size&&(r.Mo()?r.$o():gh(t)&&t.yu.set("Unknown"))}function p1(n,e){n.pu.Z(e.targetId),w_(n).Ho(e)}function B2(n,e){n.pu.Z(e),w_(n).Jo(e)}function g1(n){n.pu=new OG({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),w_(n).start(),n.yu.au()}function m1(n){return gh(n)&&!w_(n).ko()&&n._u.size>0}function gh(n){return 0===Ot(n).wu.size}function V2(n){n.pu=void 0}function eW(n){return _1.apply(this,arguments)}function _1(){return _1=(0,it.Z)(function*(n){n._u.forEach((e,t)=>{p1(n,e)})}),_1.apply(this,arguments)}function tW(n,e){return y1.apply(this,arguments)}function y1(){return y1=(0,it.Z)(function*(n,e){V2(n),m1(n)?(n.yu.lu(e),g1(n)):n.yu.set("Unknown")}),y1.apply(this,arguments)}function nW(n,e,t){return v1.apply(this,arguments)}function v1(){return v1=(0,it.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof OL&&2===e.state&&e.cause)try{yield(r=(0,it.Z)(function*(i,o){const u=o.cause;for(const h of o.targetIds)i._u.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i._u.delete(h),i.pu.removeTarget(h))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){_t("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield JI(n,r)}else if(e instanceof BI?n.pu.ut(e):e instanceof RL?n.pu._t(e):n.pu.ht(e),!t.isEqual(dn.min()))try{const r=yield D2(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const u=i.pu.yt(o);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=i._u.get(p);y&&i._u.set(p,y.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const p=i._u.get(h);if(!p)return;i._u.set(h,p.withResumeToken(as.EMPTY_BYTE_STRING,p.snapshotVersion)),B2(i,h);const y=new hh(p.target,h,1,p.sequenceNumber);p1(i,y)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){_t("RemoteStore","Failed to raise snapshot:",r),yield JI(n,r)}var r}),v1.apply(this,arguments)}function JI(n,e,t){return b1.apply(this,arguments)}function b1(){return b1=(0,it.Z)(function*(n,e,t){if(!wp(e))throw e;n.wu.add(1),yield v_(n),n.yu.set("Offline"),t||(t=()=>D2(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){_t("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield nb(n)}))}),b1.apply(this,arguments)}function U2(n,e){return e().catch(t=>JI(n,t,e))}function b_(n){return w1.apply(this,arguments)}function w1(){return w1=(0,it.Z)(function*(n){const e=Ot(n),t=mh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;rW(e);)try{const i=yield P$(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,iW(e,i)}catch(i){yield JI(e,i)}j2(e)&&H2(e)}),w1.apply(this,arguments)}function rW(n){return gh(n)&&n.du.length<10}function iW(n,e){n.du.push(e);const t=mh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function j2(n){return gh(n)&&!mh(n).ko()&&n.du.length>0}function H2(n){mh(n).start()}function sW(n){return E1.apply(this,arguments)}function E1(){return E1=(0,it.Z)(function*(n){mh(n).nu()}),E1.apply(this,arguments)}function oW(n){return C1.apply(this,arguments)}function C1(){return C1=(0,it.Z)(function*(n){const e=mh(n);for(const t of n.du)e.Zo(t.mutations)}),C1.apply(this,arguments)}function aW(n,e,t){return I1.apply(this,arguments)}function I1(){return I1=(0,it.Z)(function*(n,e,t){const r=n.du.shift(),i=HM.from(r,e,t);yield U2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield b_(n)}),I1.apply(this,arguments)}function lW(n,e){return T1.apply(this,arguments)}function T1(){return T1=(0,it.Z)(function*(n,e){var t;e&&mh(n).Xo&&(yield(t=(0,it.Z)(function*(r,i){if(ML(o=i.code)&&o!==Xe.ABORTED){const u=r.du.shift();mh(r).Fo(),yield U2(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield b_(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),j2(n)&&H2(n)}),T1.apply(this,arguments)}function z2(n,e){return S1.apply(this,arguments)}function S1(){return S1=(0,it.Z)(function*(n,e){const t=Ot(n);t.asyncQueue.verifyOperationInProgress(),_t("RemoteStore","RemoteStore received new credentials");const r=gh(t);t.wu.add(3),yield v_(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield nb(t)}),S1.apply(this,arguments)}function D1(n,e){return A1.apply(this,arguments)}function A1(){return A1=(0,it.Z)(function*(n,e){const t=Ot(n);e?(t.wu.delete(2),yield nb(t)):e||(t.wu.add(2),yield v_(t),t.yu.set("Unknown"))}),A1.apply(this,arguments)}function w_(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ot(e);return i.iu(),new K$(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:eW.bind(null,n),eo:tW.bind(null,n),zo:nW.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Iu.Fo(),m1(n)?g1(n):n.yu.set("Unknown")):(yield n.Iu.stop(),V2(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function mh(n){return n.Tu||(n.Tu=function(e,t,r){const i=Ot(e);return i.iu(),new Y$(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:sW.bind(null,n),eo:lW.bind(null,n),eu:oW.bind(null,n),tu:aW.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Tu.Fo(),yield b_(n)):(yield n.Tu.stop(),n.du.length>0&&(_t("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class x1{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new x1(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ht(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E_(n,e){if(zi("AsyncQueue",`${e}: ${n}`),wp(n))return new ht(Xe.UNAVAILABLE,`${e}: ${n}`);throw n}class C_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||St.comparator(t.key,r.key):(t,r)=>St.comparator(t.key,r.key),this.keyedMap=FM(),this.sortedSet=new Pi(this.comparator)}static emptySet(e){return new C_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof C_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new C_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class G2{constructor(){this.Eu=new Pi(St.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):qt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class I_{constructor(e,t,r,i,o,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,r,i){const o=[];return t.forEach(u=>{o.push({type:0,doc:u})}),new I_(e,t,C_.emptySet(t),o,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cW{constructor(){this.Ru=void 0,this.listeners=[]}}class uW{constructor(){this.queries=new dh(e=>pL(e),F0),this.onlineState="Unknown",this.bu=new Set}}function M1(n,e){return k1.apply(this,arguments)}function k1(){return k1=(0,it.Z)(function*(n,e){const t=Ot(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new cW),i)try{o.Ru=yield t.onListen(r)}catch(u){const h=E_(u,`Initialization of query '${RM(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,o),o.listeners.push(e),e.Pu(t.onlineState),o.Ru&&e.Vu(o.Ru)&&P1(t)}),k1.apply(this,arguments)}function R1(n,e){return O1.apply(this,arguments)}function O1(){return O1=(0,it.Z)(function*(n,e){const t=Ot(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const u=o.listeners.indexOf(e);u>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),O1.apply(this,arguments)}function dW(n,e){const t=Ot(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.Vu(i)&&(r=!0);u.Ru=i}}r&&P1(t)}function hW(n,e,t){const r=Ot(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function P1(n){n.bu.forEach(e=>{e.next()})}class N1{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new I_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=I_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class fW{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class $2{constructor(e){this.M=e}wi(e){return Wc(this.M,e)}mi(e){return e.metadata.exists?HL(this.M,e.document,!1):ti.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return vs(e)}}class pW{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=W2(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=tr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new $2(this.M);for(const i of e)if(i.metadata.queries){const o=r.wi(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Cr()).add(o);t.set(u,h)}}return t}complete(){var e=this;return(0,it.Z)(function*(){const t=yield function(n,e,t,r){return n1.apply(this,arguments)}(e.localStore,new $2(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield F$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function W2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class q2{constructor(e){this.key=e}}class Z2{constructor(e){this.key=e}}class K2{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Cr(),this.mutatedKeys=Cr(),this.Gu=mL(e),this.Qu=new C_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new G2,i=t?t.Qu:this.Qu;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const p="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,y="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,R)=>{const W=i.get(T),ie=OM(this.query,R)?R:null,_e=!!W&&this.mutatedKeys.has(W.key),Le=!!ie&&(ie.hasLocalMutations||this.mutatedKeys.has(ie.key)&&ie.hasCommittedMutations);let tt=!1;W&&ie?W.data.isEqual(ie.data)?_e!==Le&&(r.track({type:3,doc:ie}),tt=!0):this.Hu(W,ie)||(r.track({type:2,doc:ie}),tt=!0,(p&&this.Gu(ie,p)>0||y&&this.Gu(ie,y)<0)&&(h=!0)):!W&&ie?(r.track({type:0,doc:ie}),tt=!0):W&&!ie&&(r.track({type:1,doc:W}),tt=!0,(p||y)&&(h=!0)),tt&&(ie?(u=u.add(ie),o=Le?o.add(T):o.delete(T)):(u=u.delete(T),o=o.delete(T)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const T="F"===this.query.limitType?u.last():u.first();u=u.delete(T.key),o=o.delete(T.key),r.track({type:1,doc:T})}return{Qu:u,zu:r,ii:h,mutatedKeys:o}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const o=e.zu.Au();o.sort((y,T)=>function(R,W){const ie=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return ie(R)-ie(W)}(y.type,T.type)||this.Gu(y.doc,T.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,p=h!==this.qu;return this.qu=h,0!==o.length||p?{snapshot:new I_(this.query,e.Qu,i,o,e.mutatedKeys,0===h,p,!1),Xu:u}:{Xu:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new G2,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Cr(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new Z2(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new q2(r))}),t}ta(e){this.Uu=e._i,this.Ku=Cr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return I_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class gW{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mW{constructor(e){this.key=e,this.na=!1}}class _W{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.sa={},this.ia=new dh(h=>pL(h),F0),this.ra=new Map,this.oa=new Set,this.ua=new Pi(St.comparator),this.aa=new Map,this.ca=new s1,this.ha={},this.la=new Map,this.fa=Ap.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function yW(n,e){return F1.apply(this,arguments)}function F1(){return F1=(0,it.Z)(function*(n,e){const t=sk(n);let r,i;const o=t.ia.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.ea();else{const u=yield __(t.localStore,ll(e));t.isPrimaryClient&&XI(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield L1(t,e,r,"current"===h)}return i}),F1.apply(this,arguments)}function L1(n,e,t,r){return B1.apply(this,arguments)}function B1(){return B1=(0,it.Z)(function*(n,e,t,r){n._a=(T,R,W)=>{return(ie=(0,it.Z)(function*(_e,Le,tt,vt){let Pt=Le.view.Wu(tt);Pt.ii&&(Pt=yield ZI(_e.localStore,Le.query,!1).then(({documents:_n})=>Le.view.Wu(_n,Pt)));const Gt=vt&&vt.targetChanges.get(Le.targetId),Ft=Le.view.applyChanges(Pt,_e.isPrimaryClient,Gt);return Z1(_e,Le.targetId,Ft.Xu),Ft.snapshot}),function(_e,Le,tt,vt){return ie.apply(this,arguments)})(n,T,R,W);var ie};const i=yield ZI(n.localStore,e,!0),o=new K2(e,i._i),u=o.Wu(i.documents),h=H0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),p=o.applyChanges(u,n.isPrimaryClient,h);Z1(n,t,p.Xu);const y=new gW(e,t,o);return n.ia.set(e,y),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),p.snapshot}),B1.apply(this,arguments)}function vW(n,e){return V1.apply(this,arguments)}function V1(){return V1=(0,it.Z)(function*(n,e){const t=Ot(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(o=>!F0(o,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield y_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),rb(t.remoteStore,r.targetId),T_(t,r.targetId)}).catch(xp))):(T_(t,r.targetId),yield y_(t.localStore,r.targetId,!0))}),V1.apply(this,arguments)}function U1(){return U1=(0,it.Z)(function*(n,e,t){const r=ok(n);try{const i=yield function(o,u){const h=Ot(o),p=Oi.now(),y=u.reduce((R,W)=>R.add(W.key),Cr());let T;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>h.fi.Ks(R,y).next(W=>{T=W;const ie=[];for(const _e of u){const Le=SG(_e,T.get(_e.key));null!=Le&&ie.push(new bp(_e.key,Le,nL(Le.value.mapValue),Gi.exists(!0)))}return h.Bs.addMutationBatch(R,p,ie,u)})).then(R=>(R.applyToLocalDocumentSet(T),{batchId:R.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,h){let p=o.ha[o.currentUser.toKey()];p||(p=new Pi(Sn)),p=p.insert(u,h),o.ha[o.currentUser.toKey()]=p}(r,i.batchId,t),yield qu(r,i.changes),yield b_(r.remoteStore)}catch(i){const o=E_(i,"Failed to persist write");t.reject(o)}}),U1.apply(this,arguments)}function Y2(n,e){return j1.apply(this,arguments)}function j1(){return j1=(0,it.Z)(function*(n,e){const t=Ot(n);try{const r=yield O$(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.aa.get(o);u&&(mn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.na=!0:i.modifiedDocuments.size>0?mn(u.na):i.removedDocuments.size>0&&(mn(u.na),u.na=!1))}),yield qu(t,r,e)}catch(r){yield xp(r)}}),j1.apply(this,arguments)}function Q2(n,e,t){const r=Ot(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((o,u)=>{const h=u.view.Pu(e);h.snapshot&&i.push(h.snapshot)}),function(o,u){const h=Ot(o);h.onlineState=u;let p=!1;h.queries.forEach((y,T)=>{for(const R of T.listeners)R.Pu(u)&&(p=!0)}),p&&P1(h)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wW(n,e,t){return H1.apply(this,arguments)}function H1(){return H1=(0,it.Z)(function*(n,e,t){const r=Ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),o=i&&i.key;if(o){let u=new Pi(St.comparator);u=u.insert(o,ti.newNoDocument(o,dn.min()));const h=Cr().add(o),p=new j0(dn.min(),new Map,new qr(Sn),u,h);yield Y2(r,p),r.ua=r.ua.remove(o),r.aa.delete(e),K1(r)}else yield y_(r.localStore,e,!1).then(()=>T_(r,e,t)).catch(xp)}),H1.apply(this,arguments)}function EW(n,e){return z1.apply(this,arguments)}function z1(){return z1=(0,it.Z)(function*(n,e){const t=Ot(n),r=e.batch.batchId;try{const i=yield R$(t.localStore,e);q1(t,r,null),W1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qu(t,i)}catch(i){yield xp(i)}}),z1.apply(this,arguments)}function CW(n,e,t){return G1.apply(this,arguments)}function G1(){return G1=(0,it.Z)(function*(n,e,t){const r=Ot(n);try{const i=yield function(o,u){const h=Ot(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.Bs.lookupMutationBatch(p,u).next(T=>(mn(null!==T),y=T.keys(),h.Bs.removeMutationBatch(p,T))).next(()=>h.Bs.performConsistencyCheck(p)).next(()=>h.fi.Ks(p,y))})}(r.localStore,e);q1(r,e,t),W1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qu(r,i)}catch(i){yield xp(i)}}),G1.apply(this,arguments)}function $1(){return $1=(0,it.Z)(function*(n,e){const t=Ot(n);gh(t.remoteStore)||_t("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const u=Ot(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.Bs.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=E_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),$1.apply(this,arguments)}function W1(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function q1(n,e,t){const r=Ot(n);let i=r.ha[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function T_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||X2(n,r)})}function X2(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(rb(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),K1(n))}function Z1(n,e,t){for(const r of t)r instanceof q2?(n.ca.addReference(r.key,e),TW(n,r)):r instanceof Z2?(_t("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||X2(n,r.key)):qt()}function TW(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(_t("SyncEngine","New document in limbo: "+t),n.oa.add(r),K1(n))}function K1(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new St(tr.fromString(e)),r=n.fa.next();n.aa.set(r,new mW(t)),n.ua=n.ua.insert(t,r),XI(n.remoteStore,new hh(ll(l_(t.path)),r,2,ka.A))}}function qu(n,e,t){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,it.Z)(function*(n,e,t){const r=Ot(n),i=[],o=[],u=[];var h;r.ia.isEmpty()||(r.ia.forEach((h,p)=>{u.push(r._a(p,e,t).then(y=>{if(y){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),i.push(y);const T=JM.Ys(p.targetId,y);o.push(T)}}))}),yield Promise.all(u),r.sa.zo(i),yield(h=(0,it.Z)(function*(p,y){const T=Ot(p);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Je.forEach(y,W=>Je.forEach(W.Hs,ie=>T.persistence.referenceDelegate.addReference(R,W.targetId,ie)).next(()=>Je.forEach(W.Js,ie=>T.persistence.referenceDelegate.removeReference(R,W.targetId,ie)))))}catch(R){if(!wp(R))throw R;_t("LocalStore","Failed to update sequence numbers: "+R)}for(const R of y){const W=R.targetId;if(!R.fromCache){const ie=T.ui.get(W),Le=ie.withLastLimboFreeSnapshotVersion(ie.snapshotVersion);T.ui=T.ui.insert(W,Le)}}}),function(p,y){return h.apply(this,arguments)})(r.localStore,o))}),Y1.apply(this,arguments)}function SW(n,e){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,it.Z)(function*(n,e){const t=Ot(n);if(!t.currentUser.isEqual(e)){_t("SyncEngine","User change. New user:",e.toKey());const r=yield S2(t.localStore,e);t.currentUser=e,(i=t).la.forEach(u=>{u.forEach(h=>{h.reject(new ht(Xe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qu(t,r.di)}var i}),Q1.apply(this,arguments)}function DW(n,e){const t=Ot(n),r=t.aa.get(e);if(r&&r.na)return Cr().add(r.key);{let i=Cr();const o=t.ra.get(e);if(!o)return i;for(const u of o){const h=t.ia.get(u);i=i.unionWith(h.view.ju)}return i}}function AW(n,e){return X1.apply(this,arguments)}function X1(){return X1=(0,it.Z)(function*(n,e){const t=Ot(n),r=yield ZI(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&Z1(t,e.targetId,i.Xu),i}),X1.apply(this,arguments)}function xW(n,e){return J1.apply(this,arguments)}function J1(){return J1=(0,it.Z)(function*(n,e){const t=Ot(n);return M2(t.localStore,e).then(r=>qu(t,r))}),J1.apply(this,arguments)}function MW(n,e,t,r){return ek.apply(this,arguments)}function ek(){return ek=(0,it.Z)(function*(n,e,t,r){const i=Ot(n),o=yield function(u,h){const p=Ot(u),y=Ot(p.Bs);return p.persistence.runTransaction("Lookup mutation documents","readonly",T=>y.fn(T,h).next(R=>R?p.fi.Ks(T,R):Je.resolve(null)))}(i.localStore,e);var h;null!==o?("pending"===t?yield b_(i.remoteStore):"acknowledged"===t||"rejected"===t?(q1(i,e,r||null),W1(i,e),h=e,Ot(Ot(i.localStore).Bs)._n(h)):qt(),yield qu(i,o)):_t("SyncEngine","Cannot apply mutation batch with id: "+e)}),ek.apply(this,arguments)}function tk(){return tk=(0,it.Z)(function*(n,e){const t=Ot(n);if(sk(t),ok(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield J2(t,r.toArray());t.da=!0,yield D1(t.remoteStore,!0);for(const o of i)XI(t.remoteStore,o)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(T_(t,u),y_(t.localStore,u,!0))),rb(t.remoteStore,u)}),yield i,yield J2(t,r),function(o){const u=Ot(o);u.aa.forEach((h,p)=>{rb(u.remoteStore,p)}),u.ca.Si(),u.aa=new Map,u.ua=new Pi(St.comparator)}(t),t.da=!1,yield D1(t.remoteStore,!1)}}),tk.apply(this,arguments)}function J2(n,e,t){return nk.apply(this,arguments)}function nk(){return nk=(0,it.Z)(function*(n,e,t){const r=Ot(n),i=[],o=[];for(const u of e){let h;const p=r.ra.get(u);if(p&&0!==p.length){h=yield __(r.localStore,ll(p[0]));for(const y of p){const T=r.ia.get(y),R=yield AW(r,T);R.snapshot&&o.push(R.snapshot)}}else{const y=yield x2(r.localStore,u);h=yield __(r.localStore,y),yield L1(r,eB(y),u,!1)}i.push(h)}return r.sa.zo(o),i}),nk.apply(this,arguments)}function eB(n){return hL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function RW(n){const e=Ot(n);return Ot(Ot(e.localStore).persistence).Fs()}function OW(n,e,t,r){return rk.apply(this,arguments)}function rk(){return rk=(0,it.Z)(function*(n,e,t,r){const i=Ot(n);if(i.da)return void _t("SyncEngine","Ignoring unexpected query state notification.");const o=i.ra.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=yield M2(i.localStore,gL(o[0])),h=j0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield qu(i,u,h);break}case"rejected":yield y_(i.localStore,e,!0),T_(i,e,r);break;default:qt()}}),rk.apply(this,arguments)}function PW(n,e,t){return ik.apply(this,arguments)}function ik(){return ik=(0,it.Z)(function*(n,e,t){const r=sk(n);if(r.da){for(const i of e){if(r.ra.has(i)){_t("SyncEngine","Adding an already active target "+i);continue}const o=yield x2(r.localStore,i),u=yield __(r.localStore,o);yield L1(r,eB(o),u.targetId,!1),XI(r.remoteStore,u)}for(const i of t)r.ra.has(i)&&(yield y_(r.localStore,i,!1).then(()=>{rb(r.remoteStore,i),T_(r,i)}).catch(xp))}}),ik.apply(this,arguments)}function sk(n){const e=Ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wW.bind(null,e),e.sa.zo=dW.bind(null,e.eventManager),e.sa.wa=hW.bind(null,e.eventManager),e}function ok(n){const e=Ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CW.bind(null,e),e}class tB{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,it.Z)(function*(){t.M=tb(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return T2(this.persistence,new I2,e.initialUser,this.M)}ya(e){return new z$(o1.Yi,this.M)}ga(e){return new P2}terminate(){var e=this;return(0,it.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nB extends tB{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,it.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield ok(r.Ta.syncEngine),yield b_(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return T2(this.persistence,new I2,e.initialUser,this.M)}pa(e){return new I$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=XM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?na.withCacheSize(this.cacheSizeBytes):na.DEFAULT;return new QM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,F2(),QI(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new P2}}class FW extends nB{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,it.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof u1&&(r.sharedClientState.syncEngine={$r:MW.bind(null,i),Br:OW.bind(null,i),Lr:PW.bind(null,i),Fs:RW.bind(null,i),Fr:xW.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var o=(0,it.Z)(function*(u){yield function(n,e){return tk.apply(this,arguments)}(r.Ta.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}ga(e){const t=F2();if(!u1.vt(t))throw new ht(Xe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=XM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new u1(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ak{initialize(e,t){var r=this;return(0,it.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>Q2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=SW.bind(null,r.syncEngine),yield D1(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new uW}createDatastore(e){const t=tb(e.databaseInfo.databaseId),r=new Z$(e.databaseInfo);return new Q$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=h=>Q2(this.syncEngine,h,0),u=N2.vt()?new N2:new $$,new J$(t,r,i,o,u);var t,r,i,o,u}createSyncEngine(e,t){return function(r,i,o,u,h,p,y){const T=new _W(r,i,o,u,h,p);return y&&(T.da=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,it.Z)(function*(t){const r=Ot(t);_t("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield v_(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function rB(n,e=10240){let t=0;return{read:()=>(0,it.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,it.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class eT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LW{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new ys,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,it.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,it.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,it.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const o=yield e.Sa(i);return new fW(JSON.parse(o),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,it.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,it.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,it.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class BW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,it.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new ht(Xe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,it.Z)(function*(o,u){const h=Ot(o),p=$0(h.M)+"/documents",y={documents:u.map(ie=>G0(h.M,ie))},T=yield h._o("BatchGetDocuments",p,y),R=new Map;T.forEach(ie=>{const _e=function(n,e){return"found"in e?function(t,r){mn(!!r.found);const i=Wc(t,r.found.name),o=vs(r.found.updateTime),u=new io({mapValue:{fields:r.found.fields}});return ti.newFoundDocument(i,o,u)}(n,e):"missing"in e?function(t,r){mn(!!r.missing),mn(!!r.readTime);const i=Wc(t,r.missing),o=vs(r.readTime);return ti.newNoDocument(i,o)}(n,e):qt()}(h.M,ie);R.set(_e.key.toString(),_e)});const W=[];return u.forEach(ie=>{const _e=R.get(ie.toString());mn(!!_e),W.push(_e)}),W}),function(o,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new V0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,it.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=St.fromPath(i);e.mutations.push(new NM(o,e.precondition(o)))}),yield(r=(0,it.Z)(function*(i,o){const u=Ot(i),h=$0(u.M)+"/documents",p={writes:o.map(y=>W0(u.M,y))};yield u.co("Commit",h,p)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qt();t=dn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new ht(Xe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Gi.updateTime(t):Gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dn.min()))throw new ht(Xe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gi.updateTime(t)}return Gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VW{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.xa=r.maxAttempts,this.No=new d1(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,it.Z)(function*(){const t=new BW(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.Ma(o)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!x0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ML(t)}return!1}}class UW{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Fs.UNAUTHENTICATED,this.clientId=GF.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,it.Z)(function*(h){_t("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(_t("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,it.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ht(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=E_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function iB(n,e){return lk.apply(this,arguments)}function lk(){return lk=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),_t("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,it.Z)(function*(o){r.isEqual(o)||(yield S2(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),lk.apply(this,arguments)}function sB(n,e){return ck.apply(this,arguments)}function ck(){return ck=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield uk(n);_t("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>z2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>z2(e.remoteStore,o)),n.onlineComponents=e}),ck.apply(this,arguments)}function uk(n){return dk.apply(this,arguments)}function dk(){return dk=(0,it.Z)(function*(n){return n.offlineComponents||(_t("FirestoreClient","Using default OfflineComponentProvider"),yield iB(n,new tB)),n.offlineComponents}),dk.apply(this,arguments)}function tT(n){return hk.apply(this,arguments)}function hk(){return hk=(0,it.Z)(function*(n){return n.onlineComponents||(_t("FirestoreClient","Using default OnlineComponentProvider"),yield sB(n,new ak)),n.onlineComponents}),hk.apply(this,arguments)}function oB(n){return uk(n).then(e=>e.persistence)}function fk(n){return uk(n).then(e=>e.localStore)}function aB(n){return tT(n).then(e=>e.remoteStore)}function pk(n){return tT(n).then(e=>e.syncEngine)}function S_(n){return gk.apply(this,arguments)}function gk(){return gk=(0,it.Z)(function*(n){const e=yield tT(n),t=e.eventManager;return t.onListen=yW.bind(null,e.syncEngine),t.onUnlisten=vW.bind(null,e.syncEngine),t}),gk.apply(this,arguments)}function lB(n,e,t={}){const r=new ys;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(i,o,u,h,p){const y=new eT({next:R=>{o.enqueueAndForget(()=>R1(i,T));const W=R.docs.has(u);!W&&R.fromCache?p.reject(new ht(Xe.UNAVAILABLE,"Failed to get document because the client is offline.")):W&&R.fromCache&&h&&"server"===h.source?p.reject(new ht(Xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),T=new N1(l_(u.path),y,{includeMetadataChanges:!0,ku:!0});return M1(i,T)}(yield S_(n),n.asyncQueue,e,t,r)})),r.promise}function cB(n,e,t={}){const r=new ys;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(i,o,u,h,p){const y=new eT({next:R=>{o.enqueueAndForget(()=>R1(i,T)),R.fromCache&&"server"===h.source?p.reject(new ht(Xe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(R)},error:R=>p.reject(R)}),T=new N1(u,y,{includeMetadataChanges:!0,ku:!0});return M1(i,T)}(yield S_(n),n.asyncQueue,e,t,r)})),r.promise}const uB=new Map;function mk(n,e,t){if(!t)throw new ht(Xe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dB(n,e,t,r){if(!0===e&&!0===r)throw new ht(Xe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function hB(n){if(!St.isDocumentKey(n))throw new ht(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fB(n){if(St.isDocumentKey(n))throw new ht(Xe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":qt()}function Qn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ht(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=nT(n);throw new ht(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function pB(n,e){if(e<=0)throw new ht(Xe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class gB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ht(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ht(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,dB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ib{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gB({}),this._settingsFrozen=!1,e instanceof $u?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ht(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(i.options.projectId)}(e))}get app(){if(!this._app)throw new ht(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ht(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Kz;switch(t.type){case"gapi":const r=t.client;return mn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Jz(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ht(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=uB.get(e);t&&(_t("ComponentProvider","Removing Datastore"),uB.delete(e),t.terminate())}(this),Promise.resolve()}}class ni{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ni(this.firestore,e,this._key)}}class so{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new so(this.firestore,e,this._query)}}class Zc extends so{constructor(e,t,r){super(e,t,l_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ni(this.firestore,null,new St(e))}withConverter(e){return new Zc(this.firestore,e,this._path)}}function mB(n,e,...t){if(n=(0,se.m9)(n),mk("collection","path",e),n instanceof ib){const r=tr.fromString(e,...t);return fB(r),new Zc(n,null,r)}{if(!(n instanceof ni||n instanceof Zc))throw new ht(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tr.fromString(e,...t));return fB(r),new Zc(n.firestore,null,r)}}function rT(n,e,...t){if(n=(0,se.m9)(n),1===arguments.length&&(e=GF.R()),mk("doc","path",e),n instanceof ib){const r=tr.fromString(e,...t);return hB(r),new ni(n,null,new St(r))}{if(!(n instanceof ni||n instanceof Zc))throw new ht(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(tr.fromString(e,...t));return hB(r),new ni(n.firestore,n instanceof Zc?n.converter:null,new St(r))}}function _B(n,e){return n=(0,se.m9)(n),e=(0,se.m9)(e),(n instanceof ni||n instanceof Zc)&&(e instanceof ni||e instanceof Zc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yB(n,e){return n=(0,se.m9)(n),e=(0,se.m9)(e),n instanceof so&&e instanceof so&&n.firestore===e.firestore&&F0(n._query,e._query)&&n.converter===e.converter}class QW{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new d1(this,"async_queue_retry"),this.Qa=()=>{const t=QI();t&&_t("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=QI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=QI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new ys;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,it.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!wp(t))throw t;_t("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,zi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=x1.createAndSchedule(this,e,t,r,o=>this.Ha(o));return this.La.push(i),i}ja(){this.Ua&&qt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,it.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function _k(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class XW{constructor(){this._progressObserver={},this._taskCompletionResolver=new ys,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class oi extends ib{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new QW,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||vB(this),this._firestoreClient.terminate()}}function Wi(n){return n._firestoreClient||vB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vB(n){var e;const t=n._freezeSettings(),r=(o=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new sG(n._databaseId,o,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new UW(n._authCredentials,n._appCheckCredentials,n._queue,r)}function bB(n,e,t){const r=new ys;return n.asyncQueue.enqueue((0,it.Z)(function*(){try{yield iB(n,t),yield sB(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(o=i).name?o.code===Xe.FAILED_PRECONDITION||o.code===Xe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var o})).then(()=>r.promise)}function wB(n){if(n._initialized||n._terminated)throw new ht(Xe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ht(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new os(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kc(as.fromBase64String(e))}catch(t){throw new ht(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kc(as.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kp{constructor(e){this._methodName=e}}class iT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ht(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ht(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Sn(this._lat,e._lat)||Sn(this._long,e._long)}}const l6=/^__.*__$/;class c6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bp(e,this.data,this.fieldMask,t,this.fieldTransforms):new B0(e,this.data,t,this.fieldTransforms)}}class EB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class sT{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===o&&this.tc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new sT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return lT(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(CB(this.ec)&&l6.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class u6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||tb(e)}lc(e,t,r,i=!1){return new sT({ec:e,methodName:t,hc:r,path:os.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Rp(n){const e=n._freezeSettings(),t=tb(n._databaseId);return new u6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oT(n,e,t,r,i,o={}){const u=n.lc(o.merge||o.mergeFields?2:0,e,t,i);wk("Data must be an object, but it was:",u,r);const h=SB(r,u);let p,y;if(o.merge)p=new i_(u.fieldMask),y=u.fieldTransforms;else if(o.mergeFields){const T=[];for(const R of o.mergeFields){const W=Ek(e,R,t);if(!u.contains(W))throw new ht(Xe.INVALID_ARGUMENT,`Field '${W}' is specified in your field mask but missing from your input data.`);AB(T,W)||T.push(W)}p=new i_(T),y=u.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=u.fieldTransforms;return new c6(new io(h),p,y)}class sb extends kp{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sb}}function IB(n,e,t){return new sT({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class yk extends kp{_toFieldTransform(e){return new L0(e.path,new u_)}isEqual(e){return e instanceof yk}}class d6 extends kp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=IB(this,e,!0),r=this.fc.map(o=>Op(o,t)),i=new yp(r);return new L0(e.path,i)}isEqual(e){return this===e}}class h6 extends kp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=IB(this,e,!0),r=this.fc.map(o=>Op(o,t)),i=new vp(r);return new L0(e.path,i)}isEqual(e){return this===e}}class f6 extends kp{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new d_(e.M,vL(e.M,this.dc));return new L0(e.path,t)}isEqual(e){return this===e}}function vk(n,e,t,r){const i=n.lc(1,e,t);wk("Data must be an object, but it was:",i,r);const o=[],u=io.empty();hp(r,(p,y)=>{const T=aT(e,p,t);y=(0,se.m9)(y);const R=i.oc(T);if(y instanceof sb)o.push(T);else{const W=Op(y,R);null!=W&&(o.push(T),u.set(T,W))}});const h=new i_(o);return new EB(u,h,i.fieldTransforms)}function bk(n,e,t,r,i,o){const u=n.lc(1,e,t),h=[Ek(e,r,t)],p=[i];if(o.length%2!=0)throw new ht(Xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let W=0;W<o.length;W+=2)h.push(Ek(e,o[W])),p.push(o[W+1]);const y=[],T=io.empty();for(let W=h.length-1;W>=0;--W)if(!AB(y,h[W])){const ie=h[W];let _e=p[W];_e=(0,se.m9)(_e);const Le=u.oc(ie);if(_e instanceof sb)y.push(ie);else{const tt=Op(_e,Le);null!=tt&&(y.push(ie),T.set(ie,tt))}}const R=new i_(y);return new EB(T,R,u.fieldTransforms)}function TB(n,e,t,r=!1){return Op(t,n.lc(r?4:3,e))}function Op(n,e){if(DB(n=(0,se.m9)(n)))return wk("Unsupported field value:",e,n),SB(n,e);if(n instanceof kp)return function(t,r){if(!CB(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const u of t){let h=Op(u,r.uc(o));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,se.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vL(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Oi.fromDate(t);return{timestampValue:z0(r.M,i)}}if(t instanceof Oi){const i=new Oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:z0(r.M,i)}}if(t instanceof iT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kc)return{bytesValue:LL(r.M,t._byteString)};if(t instanceof ni){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r.ac(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:LM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${nT(t)}`)}(n,e)}function SB(n,e){const t={};return qF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hp(n,(r,i)=>{const o=Op(i,e.sc(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function DB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Oi||n instanceof iT||n instanceof Kc||n instanceof ni||n instanceof kp)}function wk(n,e,t){if(!DB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=nT(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function Ek(n,e,t){if((e=(0,se.m9)(e))instanceof Zu)return e._internalPath;if("string"==typeof e)return aT(n,e);throw lT("Field path arguments must be of type string or ",n,!1,void 0,t)}const p6=new RegExp("[~\\*/\\[\\]]");function aT(n,e,t){if(e.search(p6)>=0)throw lT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zu(...e.split("."))._internalPath}catch(r){throw lT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lT(n,e,t,r,i){const o=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(o||u)&&(p+=" (found",o&&(p+=` in field ${r}`),u&&(p+=` in document ${i}`),p+=")"),new ht(Xe.INVALID_ARGUMENT,h+n+p)}function AB(n,e){return n.some(t=>t.isEqual(e))}class ob{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new g6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class g6 extends ob{data(){return super.data()}}function cT(n,e){return"string"==typeof e?aT(n,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}class Pp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ku extends ob{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ab(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ab extends Ku{data(e={}){return super.data(e)}}class _h{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Pp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ab(this._firestore,this._userDataWriter,r.key,r,new Pp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ht(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new ab(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Pp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new ab(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Pp(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,y=-1;return 0!==u.type&&(p=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),y=o.indexOf(u.doc.key)),{type:m6(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function m6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function xB(n,e){return n instanceof Ku&&e instanceof Ku?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof _h&&e instanceof _h&&n._firestore===e._firestore&&yB(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function MB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ht(Xe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lb{}function yh(n,...e){for(const t of e)n=t._apply(n);return n}class _6 extends lb{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Rp(e.firestore),r=function(i,o,u,h,p,y,T){let R;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new ht(Xe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){FB(T,y);const ie=[];for(const _e of T)ie.push(NB(h,i,_e));R={arrayValue:{values:ie}}}else R=NB(h,i,T)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||FB(T,y),R=TB(u,"where",T,"in"===y||"not-in"===y);const W=Bs.create(p,y,R);return function(ie,_e){if(_e.S()){const tt=MM(ie);if(null!==tt&&!tt.isEqual(_e.field))throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${tt.toString()}' and '${_e.field.toString()}'`);const vt=xM(ie);null!==vt&&LB(0,_e.field,vt)}const Le=function(tt,vt){for(const Pt of tt.filters)if(vt.indexOf(Pt.op)>=0)return Pt.op;return null}(ie,function(tt){switch(tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(_e.op));if(null!==Le)throw new ht(Xe.INVALID_ARGUMENT,Le===_e.op?`Invalid query. You cannot use more than one '${_e.op.toString()}' filter.`:`Invalid query. You cannot use '${_e.op.toString()}' filters with '${Le.toString()}' filters.`)}(i,W),W}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new so(e.firestore,e.converter,function(i,o){const u=i.filters.concat([o]);return new Wu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class v6 extends lb{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new ht(Xe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new ht(Xe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new a_(i,o);return function(h,p){if(null===xM(h)){const y=MM(h);null!==y&&LB(0,y,p.field)}}(r,u),u}(e._query,this._c,this.gc);return new so(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new Wu(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class kB extends lb{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new so(e.firestore,e.converter,fL(e._query,this.yc,this.Ic))}}class RB extends lb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=PB(e,this.type,this.Tc,this.Ec);return new so(e.firestore,e.converter,(i=t,new Wu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class OB extends lb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=PB(e,this.type,this.Tc,this.Ec);return new so(e.firestore,e.converter,(i=t,new Wu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function PB(n,e,t,r){if(t[0]=(0,se.m9)(t[0]),t[0]instanceof ob)return function(i,o,u,h,p){if(!h)throw new ht(Xe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const y=[];for(const T of c_(i))if(T.field.isKeyField())y.push(gp(o,h.key));else{const R=h.data.field(T.field);if(TM(R))throw new ht(Xe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const W=T.field.canonicalString();throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${W}' (used as the orderBy) does not exist.`)}y.push(R)}return new uh(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Rp(n.firestore);return function(o,u,h,p,y,T){const R=o.explicitOrderBy;if(y.length>R.length)throw new ht(Xe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const W=[];for(let ie=0;ie<y.length;ie++){const _e=y[ie];if(R[ie].field.isKeyField()){if("string"!=typeof _e)throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof _e}`);if(!kM(o)&&-1!==_e.indexOf("/"))throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${_e}' contains a slash.`);const Le=o.path.child(tr.fromString(_e));if(!St.isDocumentKey(Le))throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const tt=new St(Le);W.push(gp(u,tt))}else{const Le=TB(h,p,_e);W.push(Le)}}return new uh(W,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function NB(n,e,t){if("string"==typeof(t=(0,se.m9)(t))){if(""===t)throw new ht(Xe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kM(e)&&-1!==t.indexOf("/"))throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(tr.fromString(t));if(!St.isDocumentKey(r))throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return gp(n,new St(r))}if(t instanceof ni)return gp(n,t._key);throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nT(t)}.`)}function FB(n,e){if(!Array.isArray(n)||0===n.length)throw new ht(Xe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new ht(Xe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function LB(n,e,t){if(!t.isEqual(e))throw new ht(Xe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const D6={maxAttempts:5};class Ck{convertValue(e,t="none"){switch(pp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qt()}}convertObject(e,t){const r={};return hp(e.fields,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new iT(bi(e.latitude),bi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ZF(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(A0(e));default:return null}}convertTimestamp(e){const t=ah(e);return new Oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=tr.fromString(e);mn(qL(r));const i=new $u(r.get(1),r.get(3)),o=new St(r.popFirst(5));return i.isEqual(t)||zi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function uT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class A6 extends Ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}class BB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Rp(e)}set(e,t,r){this._verifyNotCommitted();const i=vh(e,this._firestore),o=uT(i.converter,t,r),u=oT(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Gi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=vh(e,this._firestore);let u;return u="string"==typeof(t=(0,se.m9)(t))||t instanceof Zu?bk(this._dataReader,"WriteBatch.update",o._key,t,r,i):vk(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,Gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=vh(e,this._firestore);return this._mutations=this._mutations.concat(new V0(t._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(Xe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vh(n,e){if((n=(0,se.m9)(n)).firestore!==e)throw new ht(Xe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Np extends Ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ni(this.firestore,null,t)}}function VB(n,e,t){n=Qn(n,ni);const r=Qn(n.firestore,oi),i=uT(n.converter,e,t);return D_(r,[oT(Rp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Gi.none())])}function UB(n,e,t,...r){n=Qn(n,ni);const i=Qn(n.firestore,oi),o=Rp(i);let u;return u="string"==typeof(e=(0,se.m9)(e))||e instanceof Zu?bk(o,"updateDoc",n._key,e,t,r):vk(o,"updateDoc",n._key,e),D_(i,[u.toMutation(n._key,Gi.exists(!0))])}function jB(n,...e){var t,r,i;n=(0,se.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||_k(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(_k(e[u])){const R=e[u];e[u]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[u+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[u+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let p,y,T;if(n instanceof ni)y=Qn(n.firestore,oi),T=l_(n._key.path),p={next:R=>{e[u]&&e[u](Ik(y,n,R))},error:e[u+1],complete:e[u+2]};else{const R=Qn(n,so);y=Qn(R.firestore,oi),T=R._query;const W=new Np(y);p={next:ie=>{e[u]&&e[u](new _h(y,W,R,ie))},error:e[u+1],complete:e[u+2]},MB(n._query)}return function(R,W,ie,_e){const Le=new eT(_e),tt=new N1(W,Le,ie);return R.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return M1(yield S_(R),tt)})),()=>{Le.Aa(),R.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return R1(yield S_(R),tt)}))}}(Wi(y),T,h,p)}function D_(n,e){return function(t,r){const i=new ys;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(n,e,t){return U1.apply(this,arguments)}(yield pk(t),r,i)})),i.promise}(Wi(n),e)}function Ik(n,e,t){const r=t.docs.get(e._key),i=new Np(n);return new Ku(n,i,e._key,r,new Pp(t.hasPendingWrites,t.fromCache),e.converter)}class B6 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Rp(e)}get(e){const t=vh(e,this._firestore),r=new A6(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return qt();const o=i[0];if(o.isFoundDocument())return new ob(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new ob(this._firestore,r,t._key,null,t.converter);throw qt()})}set(e,t,r){const i=vh(e,this._firestore),o=uT(i.converter,t,r),u=oT(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=vh(e,this._firestore);let u;return u="string"==typeof(t=(0,se.m9)(t))||t instanceof Zu?bk(this._dataReader,"Transaction.update",o._key,t,r,i):vk(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=vh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=vh(e,this._firestore),r=new Np(this._firestore);return super.get(e).then(i=>new Ku(this._firestore,r,t._key,i._document,new Pp(!1,!1),t.converter))}}function Tk(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ht("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function zB(){if("undefined"==typeof Uint8Array)throw new ht("unimplemented","Uint8Arrays are not available in this environment.")}function GB(){if("undefined"==typeof atob)throw new ht("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){n_=Aa.SDK_VERSION,(0,Aa._registerComponent)(new tc.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),o=new oi(i,new Qz(t.getProvider("auth-internal")),new eG(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC")),(0,Aa.registerVersion)(jF,"3.4.9",n),(0,Aa.registerVersion)(jF,"3.4.9","esm2017")}();class cb{constructor(e){this._delegate=e}static fromBase64String(e){return GB(),new cb(Kc.fromBase64String(e))}static fromUint8Array(e){return zB(),new cb(Kc.fromUint8Array(e))}toBase64(){return GB(),this._delegate.toBase64()}toUint8Array(){return zB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Sk(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class Z6{enableIndexedDbPersistence(e,t){return function(n,e){wB(n=Qn(n,oi));const t=Wi(n),r=n._freezeSettings(),i=new ak;return bB(t,i,new nB(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){wB(n=Qn(n,oi));const e=Wi(n),t=n._freezeSettings(),r=new ak;return bB(e,r,new FW(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new ht(Xe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ys;return n._queue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{yield(t=(0,it.Z)(function*(r){if(!ic.vt())return Promise.resolve();const i=r+"main";yield ic.delete(i)}),function(r){return t.apply(this,arguments)})(XM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $B{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $u||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&S0("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var i;const o=(n=Qn(n,ib))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&S0("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=Fs.MOCK_USER;else{u=(0,se.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new ht(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Fs(p)}n._authCredentials=new Yz(new HF(u,h))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield oB(n),t=yield aB(n);return e.setNetworkEnabled(!0),function(r){const i=Ot(r);return i.wu.delete(0),nb(i)}(t)}))}(Wi(n=Qn(n,oi)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield oB(n),t=yield aB(n);return e.setNetworkEnabled(!1),(r=(0,it.Z)(function*(i){const o=Ot(i);o.wu.add(0),yield v_(o),o.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Wi(n=Qn(n,oi)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,dB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new ys;return e.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(n,e){return $1.apply(this,arguments)}(yield pk(e),t)})),t.promise}(Wi(n=Qn(n,oi)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new eT(e);return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return r=yield S_(n),i=t,Ot(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return r=yield S_(n),i=t,void Ot(r).bu.delete(i);var r,i}))}}(Wi(n=Qn(n,oi)),_k(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new ht("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new A_(this,mB(this._delegate,e))}catch(t){throw xo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ul(this,rT(this._delegate,e))}catch(t){throw xo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mo(this,function(n,e){if(n=Qn(n,ib),mk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ht(Xe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new so(n,null,(t=e,new Wu(tr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw xo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e,t){n=Qn(n,oi);const r=Object.assign(Object.assign({},D6),t);return function(i){if(i.maxAttempts<1)throw new ht(Xe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(n,e,t){const r=new ys;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){const i=yield(o=n,tT(o).then(u=>u.datastore));var o;new VW(n.asyncQueue,i,t,e,r).run()})),r.promise}(Wi(n),i=>e(new B6(n,i)),r)}(this._delegate,t=>e(new WB(this,t)))}batch(){return Wi(this._delegate),new qB(new BB(this._delegate,e=>D_(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Wi(n=Qn(n,oi)),r=new XW;return function(n,e,t,r){const i=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,p=function(p,y){if(p instanceof Uint8Array)return rB(p,y);if(p instanceof ArrayBuffer)return rB(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new LW(p,u);var p}(t,tb(e));n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){!function(n,e,t){const r=Ot(n);var i;(i=(0,it.Z)(function*(o,u,h){try{const p=yield u.getMetadata();if(yield function(W,ie){const _e=Ot(W),Le=vs(ie.createTime);return _e.persistence.runTransaction("hasNewerBundle","readonly",tt=>_e._s.getBundleMetadata(tt,ie.id)).then(tt=>!!tt&&tt.createTime.compareTo(Le)>=0)}(o.localStore,p))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(W=p).totalDocuments,bytesLoaded:W.totalBytes,totalDocuments:W.totalDocuments,totalBytes:W.totalBytes}),Promise.resolve(new Set);h._updateProgress(W2(p));const y=new pW(p,o.localStore,u.M);let T=yield u.ma();for(;T;){const W=yield y.Fu(T);W&&h._updateProgress(W),T=yield u.ma()}const R=yield y.complete();return yield qu(o,R.Lu,void 0),yield function(W,ie){const _e=Ot(W);return _e.persistence.runTransaction("Save bundle","readwrite",Le=>_e._s.saveBundleMetadata(Le,ie))}(o.localStore,p),h._completeWith(R.progress),Promise.resolve(R.Bu)}catch(p){return S0("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var W}),function(o,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield pk(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,it.Z)(function*(){return function(t,r){const i=Ot(t);return i.persistence.runTransaction("Get named query","readonly",o=>i._s.getNamedQuery(o,r))}(yield fk(n),e)}))}(Wi(n=Qn(n,oi)),e).then(t=>t?new so(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Mo(this,t):null)}}class dT extends Ck{constructor(e){super(),this.firestore=e}convertBytes(e){return new cb(new Kc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ul.forKey(t,this.firestore,null)}}class WB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new dT(e)}get(e){const t=Lp(e);return this._delegate.get(t).then(r=>new ub(this._firestore,new Ku(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Lp(e);return r?(Tk("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Lp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Lp(e);return this._delegate.delete(t),this}}class qB{constructor(e){this._delegate=e}set(e,t,r){const i=Lp(e);return r?(Tk("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=Lp(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=Lp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Fp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ab(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new db(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Fp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Fp(e,new dT(e),t),i.set(t,o)),o}}Fp.INSTANCES=new WeakMap;class ul{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new ht("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ul(t,new ni(t._delegate,r,new St(e)))}static forKey(e,t,r){return new ul(t,new ni(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new A_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new A_(this.firestore,mB(this._delegate,e))}catch(t){throw xo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,se.m9)(e))instanceof ni&&_B(this._delegate,e)}set(e,t){t=Tk("DocumentReference.set",t);try{return t?VB(this._delegate,e,t):VB(this._delegate,e)}catch(r){throw xo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?UB(this._delegate,e):UB(this._delegate,e,t,...r)}catch(i){throw xo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return D_(Qn(n.firestore,oi),[new V0(n._key,Gi.none())])}(this._delegate)}onSnapshot(...e){const t=ZB(e),r=KB(e,i=>new ub(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return jB(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Qn(n,ni);const e=Qn(n.firestore,oi),t=Wi(e),r=new Np(e);return function(n,e){const t=new ys;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(r=(0,it.Z)(function*(i,o,u){try{const h=yield function(p,y){const T=Ot(p);return T.persistence.runTransaction("read document","readonly",R=>T.fi.Ls(R,y))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new ht(Xe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=E_(h,`Failed to get document '${o} from cache`);u.reject(p)}}),function(i,o,u){return r.apply(this,arguments)})(yield fk(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ku(e,r,n._key,i,new Pp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Qn(n,ni);const e=Qn(n.firestore,oi);return lB(Wi(e),n._key,{source:"server"}).then(t=>Ik(e,n,t))}(this._delegate):function(n){n=Qn(n,ni);const e=Qn(n.firestore,oi);return lB(Wi(e),n._key).then(t=>Ik(e,n,t))}(this._delegate),t.then(r=>new ub(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ul(this.firestore,this._delegate.withConverter(e?Fp.getInstance(this.firestore,e):null))}}function xo(n,e,t){return n.message=n.message.replace(e,t),n}function ZB(n){for(const e of n)if("object"==typeof e&&!Sk(e))return e;return{}}function KB(n,e){var t,r;let i;return i=Sk(n[0])?n[0]:Sk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class ub{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ul(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return xB(this._delegate,e._delegate)}}class db extends ub{data(e){const t=this._delegate.data(e);return function(n,e){n||qt()}(void 0!==t),t}}class Mo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new dT(e)}where(e,t,r){try{return new Mo(this.firestore,yh(this._delegate,function(n,e,t){const r=e,i=cT("where",n);return new _6(i,r,t)}(e,t,r)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mo(this.firestore,yh(this._delegate,function(n,e="asc"){const t=e,r=cT("orderBy",n);return new v6(r,t)}(e,t)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mo(this.firestore,yh(this._delegate,function(n){return pB("limit",n),new kB("limit",n,"F")}(e)))}catch(t){throw xo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mo(this.firestore,yh(this._delegate,function(n){return pB("limitToLast",n),new kB("limitToLast",n,"L")}(e)))}catch(t){throw xo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mo(this.firestore,yh(this._delegate,function(...n){return new RB("startAt",n,!0)}(...e)))}catch(t){throw xo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mo(this.firestore,yh(this._delegate,function(...n){return new RB("startAfter",n,!1)}(...e)))}catch(t){throw xo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mo(this.firestore,yh(this._delegate,function(...n){return new OB("endBefore",n,!1)}(...e)))}catch(t){throw xo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mo(this.firestore,yh(this._delegate,function(...n){return new OB("endAt",n,!0)}(...e)))}catch(t){throw xo(t,"endAt()","Query.endAt()")}}isEqual(e){return yB(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Qn(n,so);const e=Qn(n.firestore,oi),t=Wi(e),r=new Np(e);return function(n,e){const t=new ys;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(r=(0,it.Z)(function*(i,o,u){try{const h=yield ZI(i,o,!0),p=new K2(o,h._i),y=p.Wu(h.documents),T=p.applyChanges(y,!1);u.resolve(T.snapshot)}catch(h){const p=E_(h,`Failed to execute query '${o} against cache`);u.reject(p)}}),function(i,o,u){return r.apply(this,arguments)})(yield fk(n),e,t);var r})),t.promise}(t,n._query).then(i=>new _h(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Qn(n,so);const e=Qn(n.firestore,oi),t=Wi(e),r=new Np(e);return cB(t,n._query,{source:"server"}).then(i=>new _h(e,r,n,i))}(this._delegate):function(n){n=Qn(n,so);const e=Qn(n.firestore,oi),t=Wi(e),r=new Np(e);return MB(n._query),cB(t,n._query).then(i=>new _h(e,r,n,i))}(this._delegate),t.then(r=>new Dk(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ZB(e),r=KB(e,i=>new Dk(this.firestore,new _h(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return jB(this._delegate,t,r)}withConverter(e){return new Mo(this.firestore,this._delegate.withConverter(e?Fp.getInstance(this.firestore,e):null))}}class Y6{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new db(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Dk{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new db(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Y6(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new db(this._firestore,r))})}isEqual(e){return xB(this._delegate,e._delegate)}}class A_ extends Mo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ul(this.firestore,e):null}doc(e){try{return new ul(this.firestore,void 0===e?rT(this._delegate):rT(this._delegate,e))}catch(t){throw xo(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Qn(n.firestore,oi),r=rT(n),i=uT(n.converter,e);return D_(t,[oT(Rp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Gi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ul(this.firestore,t))}isEqual(e){return _B(this._delegate,e._delegate)}withConverter(e){return new A_(this.firestore,this._delegate.withConverter(e?Fp.getInstance(this.firestore,e):null))}}function Lp(n){return Qn(n,ni)}class Ak{constructor(...e){this._delegate=new Zu(...e)}static documentId(){return new Ak(os.keyField().canonicalString())}isEqual(e){return(e=(0,se.m9)(e))instanceof Zu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=new yk("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Bp(e)}static delete(){const e=new sb("deleteField");return e._methodName="FieldValue.delete",new Bp(e)}static arrayUnion(...e){const t=function(...n){return new d6("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bp(t)}static arrayRemove(...e){const t=function(...n){return new h6("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bp(t)}static increment(e){const t=function(n){return new f6("increment",n)}(e);return t._methodName="FieldValue.increment",new Bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Q6={Firestore:$B,GeoPoint:iT,Timestamp:Oi,Blob:cb,Transaction:WB,WriteBatch:qB,DocumentReference:ul,DocumentSnapshot:ub,Query:Mo,QueryDocumentSnapshot:db,QuerySnapshot:Dk,CollectionReference:A_,FieldPath:Ak,FieldValue:Bp,setLogLevel:function(n){!function(n){oh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new tc.wA("firestore-compat",t=>((e,t)=>new $B(e,t,new Z6))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Q6)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Fv.Z);var hT=A(4763),eq=A(1733);class tq extends Yt.x{constructor(e=1/0,t=1/0,r=eq.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:u}=this;t||(r.push(e),!i&&r.push(o.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let u=0;u<o.length&&!e.closed;u+=r?1:2)e.next(o[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const u=t.now();let h=0;for(let p=1;p<r.length&&r[p]<=u;p+=2)h=p;h&&r.splice(0,h+1)}}}var xk=A(3174);function YB(n,e,t){var r,i;let o,u=!1;return n&&"object"==typeof n?(o=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,t=n.scheduler):o=null!=n?n:1/0,(0,xk.B)({connector:()=>new tq(o,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function QB(n,e){return(0,us.m)(e)?Fr(()=>n,e):Fr(()=>n)}var Mk=A(5222);const XB=new Map,nq={activated:!1,tokenObservers:[]},rq={initialized:!1,enabled:!1};function Es(n){return XB.get(n)||nq}function sc(n,e){XB.set(n,e)}function fT(){return rq}class lq{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,it.Z)(function*(){t.stop();try{t.pending=new se.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new se.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ko=new se.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eV(n){if(!Es(n).activated)throw ko.create("use-before-activation",{appName:n.name})}function Ok(n,e){return Pk.apply(this,arguments)}function Pk(){return Pk=(0,it.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const o={method:"POST",body:JSON.stringify(e),headers:r};let u,h;try{u=yield fetch(n,o)}catch(R){throw ko.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==u.status)throw ko.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(R){throw ko.create("fetch-parse-error",{originalErrorMessage:R.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw ko.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(p[1]),T=Date.now();return{token:h.token,expireTimeMillis:T+y,issuedAtTimeMillis:T}}),Pk.apply(this,arguments)}function pq(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const hb="firebase-app-check-store";let mT=null;function nV(){return mT||(mT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ko.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hb,{keyPath:"compositeKey"})}}catch(t){e(ko.create("storage-open",{originalErrorMessage:t.message}))}}),mT)}function Nk(){return Nk=(0,it.Z)(function*(n,e){const r=(yield nV()).transaction(hb,"readwrite"),o=r.objectStore(hb).put({compositeKey:n,value:e});return new Promise((u,h)=>{o.onsuccess=p=>{u()},r.onerror=p=>{var y;h(ko.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})}),Nk.apply(this,arguments)}const fb=new xa.Yd("@firebase/app-check");function oV(n,e){return(0,se.hl)()?function(n,e){return function(n,e){return Nk.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{fb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function aV(){return fT().enabled}function lV(){return Vk.apply(this,arguments)}function Vk(){return Vk=(0,it.Z)(function*(){const n=fT();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Vk.apply(this,arguments)}const Iq={error:"UNKNOWN_ERROR"};function Tq(n){return se.US.encodeString(JSON.stringify(n),!1)}function _T(n){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,it.Z)(function*(n,e=!1){const t=n.app;eV(t);const r=Es(t);let o,i=r.token;if(!i){const p=yield r.cachedTokenPromise;p&&yT(p)&&(i=p)}if(!e&&i&&yT(i))return{token:i.token};let h,u=!1;if(aV()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ok(pq(t,yield lV()),n.heartbeatServiceProvider).then(y=>(r.exchangeTokenPromise=void 0,y)),u=!0);const p=yield r.exchangeTokenPromise;return yield oV(t,p),sc(t,Object.assign(Object.assign({},r),{token:p})),{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(p=>(r.exchangeTokenPromise=void 0,p)),u=!0),i=yield r.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?fb.warn(p.message):fb.error(p),o=p}return i?(h={token:i.token},sc(t,Object.assign(Object.assign({},r),{token:i})),yield oV(t,i)):h=Dq(o),u&&uV(t,h),h}),Uk.apply(this,arguments)}function Hk(n,e){const t=Es(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),sc(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function cV(n){const{app:e}=n,t=Es(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new lq((0,it.Z)(function*(){let r;if(r=Es(e).token?yield _T(n,!0):yield _T(n),r.error)throw r.error}),()=>!0,()=>{const t=Es(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),sc(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uV(n,e){const t=Es(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function yT(n){return n.expireTimeMillis-Date.now()>0}function Dq(n){return{token:Tq(Iq),error:n}}class Aq{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Es(this.app);for(const t of e)Hk(this.app,t.next);return Promise.resolve()}}const yV="app-check-internal";(0,Aa._registerComponent)(new tc.wA("app-check",n=>function(n,e){return new Aq(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(yV).initialize()})),(0,Aa._registerComponent)(new tc.wA(yV,n=>function(n){return{getToken:e=>_T(n,e),addTokenListener:e=>function(n,e,t,r){const{app:i}=n,o=Es(i),u={next:t,error:r,type:e};if(sc(i,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&yT(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),cV(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>cV(n))}(n,"INTERNAL",e),removeTokenListener:e=>Hk(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Aa.registerVersion)("@firebase/app-check","0.5.8");class bT{constructor(){return(0,kr.vb)("app-check")}}"undefined"!=typeof window&&window;var qq=A(7892);const qk=new s.OlP("angularfire2.auth.use-emulator"),Zk=new s.OlP("angularfire2.auth.settings"),Kk=new s.OlP("angularfire2.auth.tenant-id"),Yk=new s.OlP("angularfire2.auth.langugage-code"),Qk=new s.OlP("angularfire2.auth.use-device-language"),Xk=new s.OlP("angularfire.auth.persistence"),Jk=(n,e,t,r,i,o,u,h)=>(0,gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),r&&(p.tenantId=r),p.languageCode=i,o&&p.useDeviceLanguage(),u)for(const[y,T]of Object.entries(u))p.settings[y]=T;return h&&p.setPersistence(h),p},[t,r,i,o,u,h]);let wT=(()=>{class n{constructor(t,r,i,o,u,h,p,y,T,R,W,ie){const _e=new Yt.x,Le=Ct(void 0).pipe((0,hT.Q)(u.outsideAngular),Fr(()=>o.runOutsideAngular(()=>Promise.resolve().then(A.bind(A,2115)))),(0,Mt.U)(()=>(0,gs.on)(t,o,r)),(0,Mt.U)(tt=>Jk(tt,o,h,y,T,R,p,W)),YB({bufferSize:1,refCount:!1}));if(dt(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ct(null);else{Le.pipe(Bl()).subscribe();const vt=Le.pipe(Fr(Ft=>Ft.getRedirectResult().then(_n=>_n,()=>null)),kr.iC,YB({bufferSize:1,refCount:!1})),Pt=Le.pipe(Fr(Ft=>new mr.y(_n=>({unsubscribe:o.runOutsideAngular(()=>Ft.onAuthStateChanged(Dn=>_n.next(Dn),Dn=>_n.error(Dn),()=>_n.complete()))})))),Gt=Le.pipe(Fr(Ft=>new mr.y(_n=>({unsubscribe:o.runOutsideAngular(()=>Ft.onIdTokenChanged(Dn=>_n.next(Dn),Dn=>_n.error(Dn),()=>_n.complete()))}))));this.authState=vt.pipe(QB(Pt),(0,Mk.R)(u.outsideAngular),(0,hT.Q)(u.insideAngular)),this.user=vt.pipe(QB(Gt),(0,Mk.R)(u.outsideAngular),(0,hT.Q)(u.insideAngular)),this.idToken=this.user.pipe(Fr(Ft=>Ft?(0,dr.D)(Ft.getIdToken()):Ct(null))),this.idTokenResult=this.user.pipe(Fr(Ft=>Ft?(0,dr.D)(Ft.getIdTokenResult()):Ct(null))),this.credential=(0,So.T)(vt,_e,this.authState.pipe(Fn(Ft=>!Ft))).pipe((0,Mt.U)(Ft=>(null==Ft?void 0:Ft.user)?Ft:null),(0,Mk.R)(u.outsideAngular),(0,hT.Q)(u.insideAngular))}return(0,gs.pX)(this,Le,o,{spy:{apply:(tt,vt,Pt)=>{(tt.startsWith("signIn")||tt.startsWith("createUser"))&&Pt.then(Gt=>_e.next(Gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(gs.Dh),s.LFG(gs.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kr.HU),s.LFG(qk,8),s.LFG(Zk,8),s.LFG(Kk,8),s.LFG(Yk,8),s.LFG(Qk,8),s.LFG(Xk,8),s.LFG(bT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function bV(n,e){return function(n,e=Oc.z){return new mr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function eR(n,e){return bV(n,e).pipe((0,Mt.U)(t=>({payload:t,type:"query"})))}function ET(n,e){return eR(n,e).pipe(_i(void 0),Nv(),(0,Mt.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const p=i.find(T=>T.doc.ref.isEqual(u.ref)),y=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(u.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function wV(n,e,t){return ET(n,t).pipe(es((r,i)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return tR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return tR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return tR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),jg(),(0,Mt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function tR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function EV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class CV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ET(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(_i(void 0),Nv(),Fn(([r,i])=>i.length>0||!r),(0,Mt.U)(([r,i])=>i),kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(es((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=EV(e);return wV(this.query,t,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(e={}){return eR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),kr.iC)}get(e){return(0,dr.D)(this.query.get(e)).pipe(kr.iC)}add(e){return this.ref.add(e)}doc(e){return new IV(this.ref.doc(e),this.afs)}}class IV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=TV(r,t);return new CV(i,o,this.afs)}snapshotChanges(){return function(n,e){return bV(n,e).pipe(_i(void 0),Nv(),(0,Mt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dr.D)(this.ref.get(e)).pipe(kr.iC)}}class Jq{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ET(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Fn(t=>t.length>0),kr.iC):ET(this.query,this.afs.schedulers.outsideAngular).pipe(kr.iC)}auditTrail(e){return this.stateChanges(e).pipe(es((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=EV(e);return wV(this.query,t,this.afs.schedulers.outsideAngular).pipe(kr.iC)}valueChanges(e={}){return eR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),kr.iC)}get(e){return(0,dr.D)(this.query.get(e)).pipe(kr.iC)}}const e4=new s.OlP("angularfire2.enableFirestorePersistence"),t4=new s.OlP("angularfire2.firestore.persistenceSettings"),n4=new s.OlP("angularfire2.firestore.settings"),r4=new s.OlP("angularfire2.firestore.use-emulator");function TV(n,e=(t=>t)){return{query:e(n),ref:n}}let nR=(()=>{class n{constructor(t,r,i,o,u,h,p,y,T,R,W,ie,_e,Le,tt,vt,Pt){this.schedulers=p;const Gt=(0,gs.on)(t,h,r),Ft=T;R&&Jk(Gt,h,W,_e,Le,tt,ie,vt),[this.firestore,this.persistenceEnabled$]=(0,gs.cc)(`${Gt.name}.firestore`,"AngularFirestore",Gt.name,()=>{const _n=h.runOutsideAngular(()=>Gt.firestore());if(o&&_n.settings(o),Ft&&_n.useEmulator(...Ft),i&&!dt(u)){const Dn=()=>{try{return(0,dr.D)(_n.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(pr){return"undefined"!=typeof console&&console.warn(pr),Ct(!1)}};return[_n,h.runOutsideAngular(Dn)]}return[_n,Ct(!1)]},[o,Ft,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:u}=TV(i,r),h=this.schedulers.ngZone.run(()=>o);return new CV(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),o=this.firestore.collectionGroup(t);return new Jq(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new IV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(gs.Dh),s.LFG(gs.xv,8),s.LFG(e4,8),s.LFG(n4,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kr.HU),s.LFG(t4,8),s.LFG(r4,8),s.LFG(wT,8),s.LFG(qk,8),s.LFG(Zk,8),s.LFG(Kk,8),s.LFG(Yk,8),s.LFG(Qk,8),s.LFG(Xk,8),s.LFG(bT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),CT=(()=>{class n{constructor(t,r,i,o){this.afs=t,this.afAuth=r,this.router=i,this.ngZone=o,this.afAuth.authState.subscribe(u=>{u?(this.userData=u,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}signWithRedirectPromise(){const t=new Uc.Q;t.addScope("https://www.googleapis.com/auth/contacts.readonly");const r=(0,Uc.n)();return r.languageCode="fr",Ov(r,t)}signWithPopupPromise(){const t=new Uc.Q;t.addScope("https://www.googleapis.com/auth/contacts.readonly");const r=(0,Uc.n)();return r.languageCode="fr",(0,Uc.c)(r,t)}signInWithGoogle(){this.signWithPopupPromise().then(t=>{Uc.Q.credentialFromResult(t),this.setUserData(t.user).then(()=>{this.router.navigate(["tracker"])}),this.router.navigate(["tracker"])}).catch(t=>{const r=t.code,i=t.message;Uc.Q.credentialFromError(t),console.log("Code :"+r+"/ Message :"+i)})}setUserData(t){const r=this.afs.doc(`users/${t.uid}`);return this.userData={uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},r.set(this.userData,{merge:!0})}setPersonData(t){this.afs.doc(`person/${t}`).set({uid:t},{merge:!0})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}signOut(){return this.afAuth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["tracker"])})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(nR),s.LFG(wT),s.LFG(rs),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IT=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}canActivate(t,r){return this.authService.isLoggedIn||this.router.navigate(["authentication"]),!0}isUserLoggedIn(){return!!this.authService.isLoggedIn}disconnect(){this.authService.signOut().then(()=>{this.router.navigate(["authentication"])})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(CT),s.LFG(rs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var SV=A(2869);const pb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=pb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(o=>{t=void 0,n(o)});return new qs.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=pb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=pb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var DV=A(8843);new class extends DV.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const o=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this._active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends SV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=pb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(pb.cancelAnimationFrame(t),e._scheduled=void 0)}});let rR,a4=1;const TT={};function AV(n){return n in TT&&(delete TT[n],!0)}const l4={setImmediate(n){const e=a4++;return TT[e]=!0,rR||(rR=Promise.resolve()),rR.then(()=>AV(e)&&n()),e},clearImmediate(n){AV(n)}},{setImmediate:c4,clearImmediate:u4}=l4,ST={setImmediate(...n){const{delegate:e}=ST;return((null==e?void 0:e.setImmediate)||c4)(...n)},clearImmediate(n){const{delegate:e}=ST;return((null==e?void 0:e.clearImmediate)||u4)(n)},delegate:void 0};new class extends DV.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let r,i=-1;e=e||t.shift();const o=t.length;do{if(r=e.execute(e.state,e.delay))break}while(++i<o&&(e=t.shift()));if(this._active=!1,r){for(;++i<o&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends SV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=ST.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(ST.clearImmediate(t),e._scheduled=void 0)}});function xV(n,e=Oc.P){return function(n){return(0,Nr.e)((e,t)=>{let r=!1,i=null,o=null,u=!1;const h=()=>{if(null==o||o.unsubscribe(),o=null,r){r=!1;const y=i;i=null,t.next(y)}u&&t.complete()},p=()=>{o=null,u&&t.complete()};e.subscribe(new Kn.Q(t,y=>{r=!0,i=y,o||(0,mi.Xf)(n()).subscribe(o=new Kn.Q(t,h,p))},()=>{u=!0,(!r||!o||o.closed)&&t.complete()}))})}(()=>Cm(n,e))}let iR=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new mr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(xV(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Fn(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Kl(r),o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ol(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(s.R0b),s.LFG(ki),s.LFG(H,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sR=(()=>{class n{constructor(t,r,i,o){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=o,this._destroyed=new Yt.x,this._elementScrolled=new mr.y(u=>this.ngZone.runOutsideAngular(()=>ol(this.elementRef.nativeElement,"scroll").pipe(Ur(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Lg()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Lg()?t.left=t.right:1==Lg()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;ED()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==t?t=u?i:r:"end"==t&&(t=u?r:i),u&&2==Lg()?t==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==Lg()?t==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(iR),s.Y36(s.R0b),s.Y36(Cd,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),DT=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Yt.x,this._changeListener=o=>{this._change.next(o)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(xV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ki),s.LFG(s.R0b),s.LFG(H,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),MV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Id,AT],Id,AT]}),n})();const kV=["*"],_4=["content"];function y4(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){return s.CHM(t),s.oxw()._onBackdropClicked()}),s.qZA()}if(2&n){const t=s.oxw();s.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function v4(n,e){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const b4=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],w4=["mat-drawer","mat-drawer-content","*"],E4={transformDrawer:qg("transform",[Nd("open, open-instant",Jl({transform:"none",visibility:"visible"})),Nd("void",Jl({"box-shadow":"none",visibility:"hidden"})),Cf("void => open-instant",Pd("0ms")),Cf("void <=> open, open-instant => void",Pd("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},C4=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),RV=new s.OlP("MAT_DRAWER_CONTAINER");let oR=(()=>{class n extends sR{constructor(t,r,i,o,u){super(i,o,u),this._changeDetectorRef=t,this._container=r}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>PV)),s.Y36(s.SBq),s.Y36(iR),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,r){2&t&&s.Udp("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},features:[s._Bn([{provide:sR,useExisting:n}]),s.qOj],ngContentSelectors:kV,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),OV=(()=>{class n{constructor(t,r,i,o,u,h,p,y){this._elementRef=t,this._focusTrapFactory=r,this._focusMonitor=i,this._platform=o,this._ngZone=u,this._interactivityChecker=h,this._doc=p,this._container=y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Yt.x,this._animationEnd=new Yt.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(Fn(T=>T),(0,Mt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Fn(T=>T.fromState!==T.toState&&0===T.toState.indexOf("open")),MC(void 0)),this._closedStream=this.openedChange.pipe(Fn(T=>!T),(0,Mt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Fn(T=>T.fromState!==T.toState&&"void"===T.toState),MC(void 0)),this._destroyed=new Yt.x,this.onPositionChanged=new s.vpe,this._modeChanged=new Yt.x,this.openedChange.subscribe(T=>{T?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{ol(this._elementRef.nativeElement,"keydown").pipe(Fn(T=>27===T.keyCode&&!this.disableClose&&!_f(T)),Ur(this._destroyed)).subscribe(T=>this._ngZone.run(()=>{this.close(),T.stopPropagation(),T.preventDefault()}))}),this._animationEnd.pipe(jg((T,R)=>T.fromState===R.fromState&&T.toState===R.toState)).subscribe(T=>{const{fromState:R,toState:W}=T;(0===W.indexOf("open")&&"void"===R||"void"===W&&0===R.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=jr(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"===this.mode?"dialog":"first-tabbable":t}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=jr(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(jr(t))}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{!r&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var t;this._focusTrap&&this._focusTrap.destroy(),null==(t=this._anchor)||t.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,r){t&&r&&(this._openedVia=r);const i=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),i}_setOpen(t,r,i){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",r&&this._restoreFocus(i)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe((0,rr.q)(1)).subscribe(u=>o(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const r=this._elementRef.nativeElement,i=r.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,r)),i.appendChild(r)):this._anchor&&this._anchor.parentNode.insertBefore(r,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(uA),s.Y36(Pc),s.Y36(ki),s.Y36(s.R0b),s.Y36(iA),s.Y36(H,8),s.Y36(RV,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,r){if(1&t&&s.Gf(_4,5),2&t){let i;s.iGM(i=s.CRH())&&(r._content=i.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,r){1&t&&s.WFA("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),2&t&&(s.uIk("align",null),s.d8E("@transform",r._animationState),s.ekj("mat-drawer-end","end"===r.position)("mat-drawer-over","over"===r.mode)("mat-drawer-push","push"===r.mode)("mat-drawer-side","side"===r.mode)("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:kV,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},directives:[sR],encapsulation:2,data:{animation:[E4.transformDrawer]},changeDetection:0}),n})(),PV=(()=>{class n{constructor(t,r,i,o,u,h=!1,p){this._dir=t,this._element=r,this._ngZone=i,this._changeDetectorRef=o,this._animationMode=p,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new Yt.x,this._doCheckSubject=new Yt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Yt.x,t&&t.change.pipe(Ur(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe(Ur(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=jr(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:jr(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(_i(this._allDrawers),Ur(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(r=>!r._container||r._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(_i(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(yf(10),Ur(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,r=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const i=this._left._getWidth();t+=i,r-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)r+=this._right._getWidth();else if("push"==this._right.mode){const i=this._right._getWidth();r+=i,t-=i}t=t||null,r=r||null,(t!==this._contentMargins.left||r!==this._contentMargins.right)&&(this._contentMargins={left:t,right:r},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(Fn(r=>r.fromState!==r.toState),Ur(this._drawers.changes)).subscribe(r=>{"open-instant"!==r.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ur(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe(Ur(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,rr.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ur((0,So.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const r=this._element.nativeElement.classList,i="mat-drawer-container-has-open";t?r.add(i):r.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Cd,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(DT),s.Y36(C4),s.Y36(Da,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,oR,5),s.Suo(i,OV,5)),2&t){let o;s.iGM(o=s.CRH())&&(r._content=o.first),s.iGM(o=s.CRH())&&(r._allDrawers=o)}},viewQuery:function(t,r){if(1&t&&s.Gf(oR,5),2&t){let i;s.iGM(i=s.CRH())&&(r._userContent=i.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:RV,useExisting:n}])],ngContentSelectors:w4,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,r){1&t&&(s.F$t(b4),s.YNc(0,y4,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,v4,2,0,"mat-drawer-content",1)),2&t&&(s.Q6J("ngIf",r.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!r._content))},directives:[Xr,oR],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),n})(),T4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ye,Wr,AT],AT,Wr]}),n})();const NV=["mat-button",""],FV=["*"],A4=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],x4=Fu(dC(hC(class{constructor(n){this._elementRef=n}})));let Vp=(()=>{class n extends x4{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of A4)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(Pc),s.Y36(Da,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&s.Gf(vv,5),2&t){let i;s.iGM(i=s.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(s.uIk("disabled",r.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:NV,ngContentSelectors:FV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&t&&(s.xp6(2),s.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[vv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),LV=(()=>{class n extends Vp{constructor(t,r,i,o){super(r,t,i),this._ngZone=o,this._haltDisabledEvents=u=>{this.disabled&&(u.preventDefault(),u.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Pc),s.Y36(s.SBq),s.Y36(Da,8),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("tabindex",r.disabled?-1:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[s.qOj],attrs:NV,ngContentSelectors:FV,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1),s._UZ(3,"span",2)),2&t&&(s.xp6(2),s.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),s.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[vv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),aR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ax,Wr],Wr]}),n})();function BV(...n){const e=(0,pa.jO)(n),{args:t,keys:r}=Pl(n),i=new mr.y(o=>{const{length:u}=t;if(!u)return void o.complete();const h=new Array(u);let p=u,y=u;for(let T=0;T<u;T++){let R=!1;(0,mi.Xf)(t[T]).subscribe(new Kn.Q(o,W=>{R||(R=!0,y--),h[T]=W},()=>p--,void 0,()=>{(!p||!R)&&(y||o.next(r?bc(r,h):h),o.complete())}))}});return e?i.pipe(qo(e)):i}class VV{}class UV{}class Yu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Yu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Yu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Yu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let u=this.headers.get(t);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class M4{encodeKey(e){return jV(e)}encodeValue(e){return jV(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const R4=/%(\d[a-f0-9])/gi,O4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function jV(n){return encodeURIComponent(n).replace(R4,(e,t)=>{var r;return null!=(r=O4[t])?r:e})}function HV(n){return`${n}`}class bh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new M4,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[u,h]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],p=t.get(u)||[];p.push(h),t.set(u,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(HV(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(HV(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class P4{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function zV(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function GV(n){return"undefined"!=typeof Blob&&n instanceof Blob}function $V(n){return"undefined"!=typeof FormData&&n instanceof FormData}class gb{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Yu),this.context||(this.context=new P4),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+u}}else this.params=new bh,this.urlWithParams=t}serializeBody(){return null===this.body?null:zV(this.body)||GV(this.body)||$V(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$V(this.body)?null:GV(this.body)?this.body.type||null:zV(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var R;const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,y=e.params||this.params;const T=null!=(R=e.context)?R:this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((W,ie)=>W.set(ie,e.setHeaders[ie]),p)),e.setParams&&(y=Object.keys(e.setParams).reduce((W,ie)=>W.set(ie,e.setParams[ie]),y)),new gb(t,r,o,{params:y,headers:p,context:T,reportProgress:h,responseType:i,withCredentials:u})}}var qi=(()=>((qi=qi||{})[qi.Sent=0]="Sent",qi[qi.UploadProgress=1]="UploadProgress",qi[qi.ResponseHeader=2]="ResponseHeader",qi[qi.DownloadProgress=3]="DownloadProgress",qi[qi.Response=4]="Response",qi[qi.User=5]="User",qi))();class lR{constructor(e,t=200,r="OK"){this.headers=e.headers||new Yu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class cR extends lR{constructor(e={}){super(e),this.type=qi.ResponseHeader}clone(e={}){return new cR({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xT extends lR{constructor(e={}){super(e),this.type=qi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WV extends lR{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uR(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let dR=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof gb)o=t;else{let p,y;p=i.headers instanceof Yu?i.headers:new Yu(i.headers),i.params&&(y=i.params instanceof bh?i.params:new bh({fromObject:i.params})),o=new gb(t,r,void 0!==i.body?i.body:null,{headers:p,context:i.context,params:y,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=Ct(o).pipe(za(p=>this.handler.handle(p)));if(t instanceof gb||"events"===i.observe)return u;const h=u.pipe(Fn(p=>p instanceof xT));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Mt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return h.pipe((0,Mt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return h.pipe((0,Mt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return h.pipe((0,Mt.U)(p=>p.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,uR(i,r))}post(t,r,i={}){return this.request("POST",t,uR(i,r))}put(t,r,i={}){return this.request("PUT",t,uR(i,r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(VV))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class qV{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const ZV=new s.OlP("HTTP_INTERCEPTORS");let L4=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const B4=/^\)\]\}',?\n/;let KV=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((ie,_e)=>i.setRequestHeader(ie,_e.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ie=t.detectContentTypeHeader();null!==ie&&i.setRequestHeader("Content-Type",ie)}if(t.responseType){const ie=t.responseType.toLowerCase();i.responseType="json"!==ie?ie:"text"}const o=t.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const ie=1223===i.status?204:i.status,_e=i.statusText||"OK",Le=new Yu(i.getAllResponseHeaders()),tt=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return u=new cR({headers:Le,status:ie,statusText:_e,url:tt}),u},p=()=>{let{headers:ie,status:_e,statusText:Le,url:tt}=h(),vt=null;204!==_e&&(vt=void 0===i.response?i.responseText:i.response),0===_e&&(_e=vt?200:0);let Pt=_e>=200&&_e<300;if("json"===t.responseType&&"string"==typeof vt){const Gt=vt;vt=vt.replace(B4,"");try{vt=""!==vt?JSON.parse(vt):null}catch(Ft){vt=Gt,Pt&&(Pt=!1,vt={error:Ft,text:vt})}}Pt?(r.next(new xT({body:vt,headers:ie,status:_e,statusText:Le,url:tt||void 0})),r.complete()):r.error(new WV({error:vt,headers:ie,status:_e,statusText:Le,url:tt||void 0}))},y=ie=>{const{url:_e}=h(),Le=new WV({error:ie,status:i.status||0,statusText:i.statusText||"Unknown Error",url:_e||void 0});r.error(Le)};let T=!1;const R=ie=>{T||(r.next(h()),T=!0);let _e={type:qi.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(_e.total=ie.total),"text"===t.responseType&&!!i.responseText&&(_e.partialText=i.responseText),r.next(_e)},W=ie=>{let _e={type:qi.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(_e.total=ie.total),r.next(_e)};return i.addEventListener("load",p),i.addEventListener("error",y),i.addEventListener("timeout",y),i.addEventListener("abort",y),t.reportProgress&&(i.addEventListener("progress",R),null!==o&&i.upload&&i.upload.addEventListener("progress",W)),i.send(o),r.next({type:qi.Sent}),()=>{i.removeEventListener("error",y),i.removeEventListener("abort",y),i.removeEventListener("load",p),i.removeEventListener("timeout",y),t.reportProgress&&(i.removeEventListener("progress",R),null!==o&&i.upload&&i.upload.removeEventListener("progress",W)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(zs))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const hR=new s.OlP("XSRF_COOKIE_NAME"),fR=new s.OlP("XSRF_HEADER_NAME");class YV{}let U4=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=zr(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(s.Lbi),s.LFG(hR))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),pR=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const o=this.tokenService.getToken();return null!==o&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,o)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(YV),s.LFG(fR))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),j4=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(ZV,[]);this.chain=r.reduceRight((i,o)=>new qV(i,o),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(UV),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),H4=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:pR,useClass:L4}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:hR,useValue:t.cookieName}:[],t.headerName?{provide:fR,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[pR,{provide:ZV,useExisting:pR,multi:!0},{provide:YV,useClass:U4},{provide:hR,useValue:"XSRF-TOKEN"},{provide:fR,useValue:"X-XSRF-TOKEN"}]}),n})(),QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[dR,{provide:VV,useClass:j4},KV,{provide:UV,useExisting:KV}],imports:[[H4.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const z4=["*"];let MT;function mb(n){var e;return(null==(e=function(){if(void 0===MT&&(MT=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(MT=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return MT}())?void 0:e.createHTML(n))||n}function XV(n){return Error(`Unable to find icon with the name "${n}"`)}function JV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function eU(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Up{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let kT=(()=>{class n{constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Up(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){const u=this._sanitizer.sanitize(s.q3G.HTML,i);if(!u)throw eU(i);const h=mb(u);return this._addSvgIconConfig(t,r,new Up("",h,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Up(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const o=this._sanitizer.sanitize(s.q3G.HTML,r);if(!o)throw eU(r);const u=mb(o);return this._addSvgIconSetConfig(t,new Up("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,t);if(!r)throw JV(t);const i=this._cachedIconsByUrl.get(r);return i?Ct(RT(i)):this._loadSvgIconFromConfig(new Up(t,null)).pipe((0,ui.b)(o=>this._cachedIconsByUrl.set(r,o)),(0,Mt.U)(o=>RT(o)))}getNamedSvgIcon(t,r=""){const i=tU(r,t);let o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):Ev(XV(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ct(RT(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Mt.U)(r=>RT(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?Ct(i):BV(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(ks(h=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(y)),Ct(null)})))).pipe((0,Mt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw XV(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ui.b)(r=>t.svgText=r),(0,Mt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ct(null):this._fetchIcon(t).pipe((0,ui.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const o=t.querySelector(`[id="${r}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const h=this._svgElementFromString(mb("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(mb("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){const{name:u,value:h}=i[o];"id"!==u&&r.setAttribute(u,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var y;const{url:r,options:i}=t,o=null!=(y=null==i?void 0:i.withCredentials)&&y;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const u=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!u)throw JV(r);const h=this._inProgressUrlFetches.get(u);if(h)return h;const p=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,Mt.U)(T=>mb(T)),hu(()=>this._inProgressUrlFetches.delete(u)),(0,xk.B)());return this._inProgressUrlFetches.set(u,p),p}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(tU(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const o=this._resolvers[i](r,t);if(o)return q4(o)?new Up(o.url,null,o.options):new Up(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(dR,8),s.LFG(Ua),s.LFG(H,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RT(n){return n.cloneNode(!0)}function tU(n,e){return n+":"+e}function q4(n){return!(!n.url||!n.options)}const Z4=Fu(class{constructor(n){this._elementRef=n}}),K4=new s.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,s.f3M)(H),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nU=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Q4=nU.map(n=>`[${n}]`).join(", "),X4=/^url\(['"]?#(.*?)['"]?\)$/;let _b=(()=>{class n extends Z4{constructor(t,r,i,o,u){super(t),this._iconRegistry=r,this._location=o,this._errorHandler=u,this._inline=!1,this._currentIconFetch=qs.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=jr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(u=>{o.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(Q4),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)nU.forEach(u=>{const h=r[o],p=h.getAttribute(u),y=p?p.match(X4):null;if(y){let T=i.get(h);T||(T=[],i.set(h,T)),T.push({name:u,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,rr.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(kT),s.$8M("aria-hidden"),s.Y36(K4),s.Y36(s.qLn))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(s.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),s.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:z4,decls:1,vars:0,template:function(t,r){1&t&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr],Wr]}),n})();const J4=["*",[["mat-toolbar-row"]]],e5=["*","mat-toolbar-row"],t5=Fu(class{constructor(n){this._elementRef=n}});let n5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),r5=(()=>{class n extends t5{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(ki),s.Y36(H))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,n5,5),2&t){let o;s.iGM(o=s.CRH())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&s.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:e5,decls:2,vars:0,template:function(t,r){1&t&&(s.F$t(J4),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),s5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr],Wr]}),n})(),o5=(()=>{class n{constructor(){this.menuButtonClicked=new s.vpe}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-topbar"]],outputs:{menuButtonClicked:"menuButtonClicked"},decls:8,vars:0,consts:[["mat-icon-button","","aria-label","Menu",1,"buttonMenu",3,"click"],[1,"appTitle"],[1,"example-spacer"]],template:function(t,r){1&t&&(s.TgZ(0,"mat-toolbar"),s.TgZ(1,"button",0),s.NdJ("click",function(){return r.menuButtonClicked.emit(!0)}),s.TgZ(2,"mat-icon"),s._uU(3,"menu"),s.qZA(),s.qZA(),s.TgZ(4,"div",1),s.TgZ(5,"h1"),s._uU(6,"Minou Tracker"),s.qZA(),s.qZA(),s._UZ(7,"span",2),s.qZA())},directives:[r5,Vp,_b],styles:[".appTitle[_ngcontent-%COMP%]{margin:auto}.buttonMenu[_ngcontent-%COMP%]{position:fixed}  .menuCloseButton{border-radius:10px;float:right}"]}),n})();function a5(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"img",14),s._UZ(2,"br"),s._uU(3),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.Q6J("src",null==t.connectedUser?null:t.connectedUser.photoURL,s.LSH),s.xp6(2),s.hij(" Hello ",null==t.connectedUser?null:t.connectedUser.displayName," ! ")}}function l5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"a",15),s.NdJ("click",function(){s.CHM(t);const i=s.oxw(),o=s.MAs(2);return i.disconnect(),o.toggle()}),s._uU(1,"Se d\xe9connecter"),s.qZA()}}const c5=function(){return["authentication"]};function u5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"a",16),s.NdJ("click",function(){return s.CHM(t),s.oxw(),s.MAs(2).toggle()}),s._uU(1,"Se connecter"),s.qZA()}2&n&&s.Q6J("routerLink",s.DdM(1,c5))}function d5(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"mat-tree-node",20),s._UZ(1,"button",21),s.TgZ(2,"a",22),s.NdJ("click",function(){const o=s.CHM(t).$implicit,u=s.oxw(2),h=s.MAs(2);return u.menuButtonClicked(o),h.toggle()}),s._uU(3),s.qZA(),s.qZA()}if(2&n){const t=e.$implicit;s.xp6(3),s.hij(" ",t.name," ")}}function h5(n,e){if(1&n&&(s.TgZ(0,"mat-tree-node",23),s.TgZ(1,"button",24),s.TgZ(2,"mat-icon",25),s._uU(3),s.qZA(),s.qZA(),s._uU(4),s.qZA()),2&n){const t=e.$implicit,r=s.oxw(2);s.xp6(1),s.uIk("aria-label","Toggle "+t.name),s.xp6(2),s.hij(" ",r.treeControl.isExpanded(t)?"expand_more":"chevron_right"," "),s.xp6(1),s.hij(" ",t.name," ")}}function f5(n,e){if(1&n&&(s.TgZ(0,"mat-tree",17),s.YNc(1,d5,4,1,"mat-tree-node",18),s.YNc(2,h5,5,3,"mat-tree-node",19),s.qZA()),2&n){const t=s.oxw();s.Q6J("dataSource",t.dataSource)("treeControl",t.treeControl),s.xp6(2),s.Q6J("matTreeNodeDefWhen",t.hasChild)}}let p5=(()=>{class n{constructor(t,r,i){this.authGuard=r,this.title="foodTrackingApp",this._transformer=(o,u)=>({expandable:!!o.children&&o.children.length>0,name:o.name,isPerson:o.isPerson,navigateUrl:o.navigateUrl,level:u}),this.menuContent=[{name:"Tracker",children:[{name:"Tracking du jour",navigateUrl:"tracker"},{name:"Team tracking",navigateUrl:"teamTracking"}]},{name:"Historique",children:[{name:"Tracking du jour",navigateUrl:"history"}]},{name:"Statistiques",children:[{name:"Evolution poids",navigateUrl:"statistiques"}]}],this.treeControl=new yw(o=>o.level,o=>o.expandable),this.treeFlattener=new qf(this._transformer,o=>o.level,o=>o.expandable,o=>o.children),this.dataSource=new fx(this.treeControl,this.treeFlattener),this.hasChild=(o,u)=>u.expandable,this.selectedPerson=void 0,t.available.subscribe(o=>{t.activateUpdate().then(u=>{document.location.reload()})}),this.dataSource.data=this.menuContent,this.routing=i}ngOnInit(){this.authGuard.isUserLoggedIn()||this.routing.navigate(["authentication"]),this.setUserIfNotSet()}setUserIfNotSet(){if(this.authGuard.isUserLoggedIn()&&void 0===this.connectedUser&&void 0!==localStorage.getItem("user")){const t=JSON.parse(localStorage.getItem("user"));this.connectedUser={uid:null==t?void 0:t.uid,email:null==t?void 0:t.email,displayName:null==t?void 0:t.displayName,photoURL:null==t?void 0:t.photoURL,emailVerified:null==t?void 0:t.emailVerified}}}disconnect(){this.authGuard.disconnect()}menuButtonClicked(t){t.isPerson?(this.selectedPerson=t.name,this.routing.navigate([`${t.navigateUrl}`])):this.routing.navigate([`${t.navigateUrl}`])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Sv),s.Y36(IT),s.Y36(rs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:19,vars:5,consts:[["autosize","",1,"example-container"],["mode","side",1,"sidenavMenu"],["drawer",""],[1,"topMenuContainer"],["mat-button","",1,"menuCloseButton",3,"disableRipple","click"],[1,"userNameButtonMenu"],[4,"ngIf"],[1,"loginLogoutButton"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"routerLink","click",4,"ngIf"],[3,"dataSource","treeControl",4,"ngIf"],[1,"globalContainer"],[3,"menuButtonClicked"],[1,"spacingToolbar"],[1,"imageLoggedUser",3,"src"],["mat-button","",3,"click"],["mat-button","",3,"routerLink","click"],[3,"dataSource","treeControl"],["matTreeNodePadding","1",4,"matTreeNodeDef"],["matTreeNodePadding","0",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","1"],["mat-icon-button","","disabled",""],["mat-raised-button","",3,"click"],["matTreeNodePadding","0"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"]],template:function(t,r){if(1&t){const i=s.EpF();s.TgZ(0,"mat-drawer-container",0),s.TgZ(1,"mat-drawer",1,2),s.TgZ(3,"div",3),s.TgZ(4,"h2"),s._uU(5,"\u{1f63a}MIOUNU"),s.qZA(),s.TgZ(6,"button",4),s.NdJ("click",function(){return s.CHM(i),s.MAs(2).toggle()}),s.TgZ(7,"mat-icon"),s._uU(8,"close"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(9,"div",5),s.YNc(10,a5,4,2,"div",6),s.TgZ(11,"div",7),s.YNc(12,l5,2,0,"a",8),s.YNc(13,u5,2,2,"a",9),s.qZA(),s.qZA(),s.YNc(14,f5,3,3,"mat-tree",10),s.qZA(),s.TgZ(15,"div",11),s.TgZ(16,"app-topbar",12),s.NdJ("menuButtonClicked",function(){return s.CHM(i),s.MAs(2).toggle()}),s.qZA(),s._UZ(17,"div",13),s._UZ(18,"router-outlet"),s.qZA(),s.qZA()}2&t&&(s.xp6(6),s.Q6J("disableRipple",!0),s.xp6(4),s.Q6J("ngIf",r.authGuard.isUserLoggedIn()),s.xp6(2),s.Q6J("ngIf",r.authGuard.isUserLoggedIn()),s.xp6(1),s.Q6J("ngIf",!r.authGuard.isUserLoggedIn()),s.xp6(1),s.Q6J("ngIf",r.authGuard.isUserLoggedIn()))},directives:[PV,OV,Vp,_b,Xr,o5,md,LV,Dg,DC,bv,TC,wv,$d],styles:[".globalContainer[_ngcontent-%COMP%]{width:100vw;height:100vh}.spacingToolbar[_ngcontent-%COMP%]{height:64px;width:100vw}app-topbar[_ngcontent-%COMP%]{position:fixed!important;width:100vw;z-index:99}.viewport[_ngcontent-%COMP%]  video{width:100%;height:240px;object-fit:cover}.appContent[_ngcontent-%COMP%]{display:flex}.sidenavMenu[_ngcontent-%COMP%]{padding:20px;width:250px}.topMenuContainer[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%], .topMenuContainer[_ngcontent-%COMP%] > .menuCloseButton[_ngcontent-%COMP%]{display:inline-block}.topMenuContainer[_ngcontent-%COMP%]{width:100%;height:50px}.userNameButtonMenu[_ngcontent-%COMP%]{background-color:#0000004d;text-align:center;padding:10px 0;border-radius:5px;margin-bottom:20px}.imageLoggedUser[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:30px;margin-bottom:5px}.loginLogoutButton[_ngcontent-%COMP%]{color:#ffffffb3}"]}),n})();const iU=Fg({passive:!0});let g5=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ha.E;const r=Kl(t),i=this._monitoredElements.get(r);if(i)return i.subject;const o=new Yt.x,u="cdk-text-field-autofilled",h=p=>{"cdk-text-field-autofill-start"!==p.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===p.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>o.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,iU),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:o,unlisten:()=>{r.removeEventListener("animationstart",h,iU)}}),o}stopMonitoring(t){const r=Kl(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ki),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),oU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),jp=(()=>{class n extends oU{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Yc=new s.OlP("NgValueAccessor"),_5={provide:Yc,useExisting:(0,s.Gpc)(()=>yb),multi:!0},v5=new s.OlP("CompositionEventMode");let yb=(()=>{class n extends oU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=v()?v().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(v5,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[s._Bn([_5]),s.qOj]}),n})();function wh(n){return null==n||0===n.length}function lU(n){return null!=n&&"number"==typeof n.length}const oo=new s.OlP("NgValidators"),Eh=new s.OlP("NgAsyncValidators"),b5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class x_{static min(e){return function(n){return e=>{if(wh(e.value)||wh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(wh(e.value)||wh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return wh(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return wh(n.value)||b5.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>wh(e.value)||!lU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>lU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return vb;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(wh(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return EU(e)}static composeAsync(e){return CU(e)}}function vb(n){return null}function _U(n){return null!=n}function yU(n){const e=(0,s.QGY)(n)?(0,dr.D)(n):n;return(0,s.CqO)(e),e}function vU(n){let e={};return n.forEach(t=>{e=null!=t?Tt(Tt({},e),t):e}),0===Object.keys(e).length?null:e}function bU(n,e){return e.map(t=>t(n))}function wU(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function EU(n){if(!n)return null;const e=n.filter(_U);return 0==e.length?null:function(t){return vU(bU(t,e))}}function mR(n){return null!=n?EU(wU(n)):null}function CU(n){if(!n)return null;const e=n.filter(_U);return 0==e.length?null:function(t){return BV(bU(t,e).map(yU)).pipe((0,Mt.U)(vU))}}function _R(n){return null!=n?CU(wU(n)):null}function IU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TU(n){return n._rawValidators}function SU(n){return n._rawAsyncValidators}function yR(n){return n?Array.isArray(n)?n:[n]:[]}function OT(n,e){return Array.isArray(n)?n.includes(e):n===e}function DU(n,e){const t=yR(e);return yR(n).forEach(i=>{OT(t,i)||t.push(i)}),t}function AU(n,e){return yR(e).filter(t=>!OT(n,t))}class xU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=_R(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ro extends xU{get formDirective(){return null}get path(){return null}}class Qc extends xU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MU{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(i=null==(r=this._cd)?void 0:r.control)?void 0:i[e])}}let vR=(()=>{class n extends MU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Qc,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[s.qOj]}),n})(),bR=(()=>{class n extends MU{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Ro,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&s.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[s.qOj]}),n})();function bb(n,e){CR(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kU(n,e)})}(n,e),function(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function FT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),BT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function LT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function CR(n,e){const t=TU(n);null!==e.validator?n.setValidators(IU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=SU(n);null!==e.asyncValidator?n.setAsyncValidators(IU(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();LT(e._rawValidators,i),LT(e._rawAsyncValidators,i)}function BT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=TU(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=SU(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(u=>u!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return LT(e._rawValidators,r),LT(e._rawAsyncValidators,r),t}function kU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RU(n,e){CR(n,e)}function OU(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function VT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wb="VALID",UT="INVALID",M_="PENDING",Eb="DISABLED";function SR(n){return(AR(n)?n.validators:n)||null}function PU(n){return Array.isArray(n)?mR(n):n||null}function DR(n,e){return(AR(e)?e.asyncValidators:n)||null}function NU(n){return Array.isArray(n)?_R(n):n||null}function AR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class xR{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=PU(this._rawValidators),this._composedAsyncValidatorFn=NU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===wb}get invalid(){return this.status===UT}get pending(){return this.status==M_}get disabled(){return this.status===Eb}get enabled(){return this.status!==Eb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=PU(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=NU(e)}addValidators(e){this.setValidators(DU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AU(e,this._rawAsyncValidators))}hasValidator(e){return OT(this._rawValidators,e)}hasAsyncValidator(e){return OT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=M_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Eb,this.errors=null,this._forEachChild(r=>{r.disable(Zi(Tt({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Zi(Tt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wb,this._forEachChild(r=>{r.enable(Zi(Tt({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Zi(Tt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wb||this.status===M_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Eb:wb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=M_,this._hasOwnPendingAsyncValidator=!0;const t=yU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=r instanceof k_?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof O5&&r.at(i)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Eb:this.errors?UT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(M_)?M_:this._anyControlsHaveStatus(UT)?UT:wb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){AR(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ch extends xR{constructor(e=null,t,r){super(SR(t),DR(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){VT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){VT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class k_ extends xR{constructor(e,t,r){super(SR(t),DR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Ch?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class O5 extends xR{constructor(e,t,r){super(SR(t),DR(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Ch?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const P5={provide:Ro,useExisting:(0,s.Gpc)(()=>Ib)},Cb=(()=>Promise.resolve(null))();let Ib=(()=>{class n extends Ro{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new s.vpe,this.form=new k_({},mR(t),_R(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Cb.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),bb(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Cb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),VT(this._directives,t)})}addFormGroup(t){Cb.then(()=>{const r=this._findContainer(t.path),i=new k_({});RU(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Cb.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Cb.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,OU(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(oo,10),s.Y36(Eh,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([P5]),s.qOj]}),n})(),MR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const L5={provide:Yc,useExisting:(0,s.Gpc)(()=>kR),multi:!0};let kR=(()=>{class n extends jp{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=s.n5z(n)))(r||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&s.NdJ("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[s._Bn([L5]),s.qOj]}),n})(),UU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const RR=new s.OlP("NgModelWithFormControlWarning"),H5={provide:Ro,useExisting:(0,s.Gpc)(()=>Hp)};let Hp=(()=>{class n extends Ro{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(BT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bb(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){FT(t.control||null,t,!1),VT(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,OU(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(FT(r||null,t),i instanceof Ch&&(bb(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);RU(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return BT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CR(this.form,this),this._oldForm&&BT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(oo,10),s.Y36(Eh,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&s.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([H5]),s.qOj,s.TTD]}),n})();const $5={provide:Qc,useExisting:(0,s.Gpc)(()=>jT)};let jT=(()=>{class n extends Qc{constructor(t,r,i,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===yb?t=o:function(n){return Object.getPrototypeOf(n.constructor)===jp}(o)?r=o:i=o}),i||r||t||null}(0,o)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(s.Y36(Ro,13),s.Y36(oo,10),s.Y36(Eh,10),s.Y36(Yc,10),s.Y36(RR,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([$5]),s.qOj,s.TTD]}),n})(),nj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[UU]]}),n})(),o8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nj]}),n})(),a8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:RR,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[nj]}),n})(),rj=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l8=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Kl(t);return new mr.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Yt.x,i=this._mutationObserverFactory.create(o=>r.next(o));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(rj))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c8=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=jr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Mi(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(yf(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(l8),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),u8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[rj]}),n})();const d8=["connectionContainer"],h8=["inputContainer"],f8=["label"];function p8(n,e){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15),s._UZ(3,"div",16),s._UZ(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15),s._UZ(7,"div",16),s._UZ(8,"div",17),s.qZA(),s.BQk())}function g8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){return s.CHM(t),s.oxw().updateOutlineGap()}),s.Hsn(1,1),s.qZA()}if(2&n){const t=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function m8(n,e){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const t=s.oxw(2);s.xp6(3),s.Oqu(t._control.placeholder)}}function _8(n,e){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function y8(n,e){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function v8(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){return s.CHM(t),s.oxw().updateOutlineGap()}),s.YNc(2,m8,4,1,"ng-container",12),s.YNc(3,_8,1,0,"ng-content",12),s.YNc(4,y8,2,0,"span",22),s.qZA()}if(2&n){const t=s.oxw();s.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),s.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),s.uIk("for",t._control.id)("aria-owns",t._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function b8(n,e){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function w8(n,e){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const t=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function E8(n,e){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState)}}function C8(n,e){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.Q6J("id",t._hintLabelId),s.xp6(1),s.Oqu(t.hintLabel)}}function I8(n,e){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,C8,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const t=s.oxw();s.Q6J("@transitionMessages",t._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",t.hintLabel)}}const T8=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],S8=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],D8=new s.OlP("MatError"),A8={transitionMessages:qg("transitionMessages",[Nd("enter",Jl({opacity:1,transform:"translateY(0%)"})),Cf("void => enter",[Jl({opacity:0,transform:"translateY(-5px)"}),Pd("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let zT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n}),n})();const x8=new s.OlP("MatHint");let GT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),M8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const k8=new s.OlP("MatPrefix"),ij=new s.OlP("MatSuffix");let R8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:ij,useExisting:n}])]}),n})(),sj=0;const P8=Fu(class{constructor(n){this._elementRef=n}},"primary"),N8=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),aj=new s.OlP("MatFormField");let lj=(()=>{class n extends P8{constructor(t,r,i,o,u,h,p){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Yt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+sj++,this._labelId="mat-form-field-label-"+sj++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=o&&o.appearance?o.appearance:"legacy",this._hideRequiredMarker=!(!o||null==o.hideRequiredMarker)&&o.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=jr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(_i(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ur(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ur(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,So.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(_i(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(_i(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ur(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ol(this._label.nativeElement,"transitionend").pipe((0,rr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,i=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=r.querySelectorAll(`${i}, ${o}`);for(let R=0;R<T.length;R++)T[R].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const p=r.querySelectorAll(i),y=r.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const T=r.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const R=this._getStartEnd(T),W=t.children,ie=this._getStartEnd(W[0].getBoundingClientRect());let _e=0;for(let Le=0;Le<W.length;Le++)_e+=W[Le].offsetWidth;u=Math.abs(ie-R)-5,h=_e>0?.75*_e+10:0}for(let T=0;T<p.length;T++)p[T].style.width=`${u}px`;for(let T=0;T<y.length;T++)y[T].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Cd,8),s.Y36(N8,8),s.Y36(ki),s.Y36(s.R0b),s.Y36(Da,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,zT,5),s.Suo(i,zT,7),s.Suo(i,GT,5),s.Suo(i,GT,7),s.Suo(i,M8,5),s.Suo(i,D8,5),s.Suo(i,x8,5),s.Suo(i,k8,5),s.Suo(i,ij,5)),2&t){let o;s.iGM(o=s.CRH())&&(r._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(r._controlStatic=o.first),s.iGM(o=s.CRH())&&(r._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(r._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(r._placeholderChild=o.first),s.iGM(o=s.CRH())&&(r._errorChildren=o),s.iGM(o=s.CRH())&&(r._hintChildren=o),s.iGM(o=s.CRH())&&(r._prefixChildren=o),s.iGM(o=s.CRH())&&(r._suffixChildren=o)}},viewQuery:function(t,r){if(1&t&&(s.Gf(d8,7),s.Gf(h8,5),s.Gf(f8,5)),2&t){let i;s.iGM(i=s.CRH())&&(r._connectionContainerRef=i.first),s.iGM(i=s.CRH())&&(r._inputContainerRef=i.first),s.iGM(i=s.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&s.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:aj,useExisting:n}]),s.qOj],ngContentSelectors:S8,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(s.F$t(T8),s.TgZ(0,"div",0),s.TgZ(1,"div",1,2),s.NdJ("click",function(o){return r._control.onContainerClick&&r._control.onContainerClick(o)}),s.YNc(3,p8,9,0,"ng-container",3),s.YNc(4,g8,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,v8,5,16,"label",8),s.qZA(),s.qZA(),s.YNc(10,b8,2,0,"div",9),s.qZA(),s.YNc(11,w8,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,E8,2,1,"div",12),s.YNc(14,I8,5,2,"div",13),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Q6J("ngIf","outline"==r.appearance),s.xp6(1),s.Q6J("ngIf",r._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",r._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",r._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=r.appearance),s.xp6(1),s.Q6J("ngSwitch",r._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},directives:[Xr,No,Jr,c8],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[A8.transitionMessages]},changeDetection:0}),n})(),BR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ye,Wr,u8],Wr]}),n})();const F8=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),L8=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let B8=0;const V8=pC(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let cj=(()=>{class n extends V8{constructor(t,r,i,o,u,h,p,y,T,R){super(h,o,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=y,this._formField=R,this._uid="mat-input-"+B8++,this.focused=!1,this.stateChanges=new Yt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(_e=>wD().has(_e)),this._iOSKeyupListener=_e=>{const Le=_e.target;!Le.value&&0===Le.selectionStart&&0===Le.selectionEnd&&(Le.setSelectionRange(1,1),Le.setSelectionRange(0,0))};const W=this._elementRef.nativeElement,ie=W.nodeName.toLowerCase();this._inputValueAccessor=p||W,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ie,this._isTextarea="textarea"===ie,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=W.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=jr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,o;return null!=(o=null!=(i=this._required)?i:null==(r=null==(t=this.ngControl)?void 0:t.control)?void 0:r.hasValidator(x_.required))&&o}set required(t){this._required=jr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&wD().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=jr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,i;const t=(null==(i=null==(r=this._formField)?void 0:r._hideControlPlaceholder)?void 0:i.call(r))?null:this.placeholder;if(t!==this._previousPlaceholder){const o=this._elementRef.nativeElement;this._previousPlaceholder=t,t?o.setAttribute("placeholder",t):o.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){L8.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(ki),s.Y36(Qc,10),s.Y36(Ib,8),s.Y36(Hp,8),s.Y36(vm),s.Y36(F8,10),s.Y36(g5),s.Y36(s.R0b),s.Y36(aj,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&s.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(s.Ikx("disabled",r.disabled)("required",r.required),s.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),s.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:zT,useExisting:n}]),s.qOj,s.TTD]}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vm],imports:[[sU,BR,Wr],sU,BR]}),n})();function U8(n,e){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const t=s.oxw(),r=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),s.uIk("r",t._getCircleRadius())}}function j8(n,e){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const t=s.oxw(),r=s.MAs(1);s.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),s.uIk("r",t._getCircleRadius())}}const z8=Fu(class{constructor(n){this._elementRef=n}},"primary"),G8=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class Qu extends z8{constructor(e,t,r,i,o,u,h,p){super(e),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=qs.w0.EMPTY,this.mode="determinate";const y=Qu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),y.has(r.head)||y.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!o&&!o._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),t.isBrowser&&t.SAFARI&&h&&u&&p&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&p.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=Mi(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=Mi(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,Mi(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=CD(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){var r;const t=50*(null!=(r=e.currentScale)?r:1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=Qu._diameters;let i=r.get(e);if(!i||!i.has(t)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),e.appendChild(o),i||(i=new Set,r.set(e,i)),i.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Qu._diameters=new WeakMap,Qu.\u0275fac=function(e){return new(e||Qu)(s.Y36(s.SBq),s.Y36(ki),s.Y36(H,8),s.Y36(Da,8),s.Y36(G8),s.Y36(s.sBO),s.Y36(DT),s.Y36(s.R0b))},Qu.\u0275cmp=s.Xpm({type:Qu,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(s.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),s.Udp("width",t.diameter,"px")("height",t.diameter,"px"),s.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,U8,1,11,"circle",2),s.YNc(3,j8,1,9,"circle",3),s.qZA()),2&e&&(s.Udp("width",t.diameter,"px")("height",t.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===t.mode),s.uIk("viewBox",t._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},directives:[No,Jr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr,ye],Wr]}),n})();const hj="@firebase/database";let UR="";function pj(n){UR=n}class K8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,se.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,se.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Y8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,se.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const gj=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new K8(e)}}catch(e){}return new Y8},zp=gj("localStorage"),jR=gj("sessionStorage"),R_=new xa.Yd("@firebase/database"),mj=function(){let n=1;return function(){return n++}}(),_j=function(n){const e=(0,se.dS)(n),t=new se.gQ;t.update(e);const r=t.digest();return se.US.encodeByteArray(r)},Tb=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Tb.apply(null,r):e+="object"==typeof r?(0,se.Pz)(r):r,e+=" "}return e};let Gp=null,yj=!0;const vj=function(n,e){(0,se.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(R_.logLevel=xa.in.VERBOSE,Gp=R_.log.bind(R_),e&&jR.set("logging_enabled",!0)):"function"==typeof n?Gp=n:(Gp=null,jR.remove("logging_enabled"))},Cs=function(...n){if(!0===yj&&(yj=!1,null===Gp&&!0===jR.get("logging_enabled")&&vj(!0)),Gp){const e=Tb.apply(null,n);Gp(e)}},Sb=function(n){return function(...e){Cs(n,...e)}},HR=function(...n){const e="FIREBASE INTERNAL ERROR: "+Tb(...n);R_.error(e)},Xc=function(...n){const e=`FIREBASE FATAL ERROR: ${Tb(...n)}`;throw R_.error(e),new Error(e)},ao=function(...n){const e="FIREBASE WARNING: "+Tb(...n);R_.warn(e)},$T=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Xu="[MIN_NAME]",Jc="[MAX_NAME]",$p=function(n,e){if(n===e)return 0;if(n===Xu||e===Jc)return-1;if(e===Xu||n===Jc)return 1;{const t=WT(n),r=WT(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},J8=function(n,e){return n===e?0:n<e?-1:1},Db=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,se.Pz)(e))},zR=function(n){if("object"!=typeof n||null===n)return(0,se.Pz)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,se.Pz)(e[r]),t+=":",t+=zR(n[e[r]]);return t+="}",t},bj=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Is(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const wj=function(n){(0,se.hu)(!$T(n),"Invalid JSON number");const r=1023;let i,o,u,h,p;0===n?(o=0,u=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),o=h+r,u=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,u=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(u%2?1:0),u=Math.floor(u/2);for(p=11;p;p-=1)y.push(o%2?1:0),o=Math.floor(o/2);y.push(i?1:0),y.reverse();const T=y.join("");let R="";for(p=0;p<64;p+=8){let W=parseInt(T.substr(p,8),2).toString(16);1===W.length&&(W="0"+W),R+=W}return R.toLowerCase()},rZ=new RegExp("^-?(0*)\\d{1,10}$"),Ej=-2147483648,GR=2147483647,WT=function(n){if(rZ.test(n)){const e=Number(n);if(e>=Ej&&e<=GR)return e}return null},O_=function(n){try{n()}catch(e){setTimeout(()=>{throw ao("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Ab=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class sZ{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ao(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class oZ{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Cs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ao(e)}}let xb=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Dj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mj="websocket",kj="long_polling";class WR{constructor(e,t,r,i,o=!1,u="",h=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zp.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zp.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Rj(n,e,t){let r;if((0,se.hu)("string"==typeof e,"typeof type must == string"),(0,se.hu)("object"==typeof t,"typeof params must == object"),e===Mj)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==kj)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Is(t,(o,u)=>{i.push(o+"="+u)}),r+i.join("&")}class lZ{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,se.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,se.p$)(this.counters_)}}const qR={},ZR={};function KR(n){const e=n.toString();return qR[e]||(qR[e]=new lZ),qR[e]}class uZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&O_(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ih{constructor(e,t,r,i,o,u,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sb(e),this.stats_=KR(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),Rj(t,kj,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new uZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,se.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new YR((...o)=>{const[u,h,p,y,T]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===u)this.id=h,this.password=p;else{if("close"!==u)throw new Error("Unrecognized command received: "+u);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[u,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Dj.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ih.forceAllow_=!0}static forceDisallow(){Ih.forceDisallow_=!0}static isAvailable(){return!((0,se.Yr)()||!Ih.forceAllow_&&(Ih.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,se.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,se.h$)(t),i=bj(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,se.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,se.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class YR{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,se.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=mj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=YR.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Cs("frame writing exception"),h.stack&&Cs(h.stack),Cs(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Cs("No IE domain setting required")}catch(t){const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const u=this.pendingSegs.shift();r=r+"&seg"+i+"="+u.seg+"&ts"+i+"="+u.ts+"&d"+i+"="+u.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,se.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Cs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let ZT=null;"undefined"!=typeof MozWebSocket?ZT=MozWebSocket:"undefined"!=typeof WebSocket&&(ZT=WebSocket);let P_=(()=>{class n{constructor(t,r,i,o,u,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sb(this.connId),this.stats_=KR(r),this.connURL=n.connectionURL_(r,h,p,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,o,u){const h={v:"5"};return!(0,se.Yr)()&&"undefined"!=typeof location&&location.hostname&&Dj.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),o&&(h.ac=o),u&&(h.p=u),Rj(t,Mj,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zp.set("previous_websocket_failure",!0);try{let i;if((0,se.Yr)()){const u={headers:{"User-Agent":`Firebase/5/${UR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(u.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(u.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,p=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;p&&(u.proxy={origin:p})}this.mySock=new ZT(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==ZT&&!n.forceDisallow_}static previouslyFailed(){return zp.isInMemoryStorage||!0===zp.get("previous_websocket_failure")}markConnectionHealthy(){zp.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,se.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,se.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,se.Pz)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=bj(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Vj=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ih,P_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=P_&&P_.isAvailable();let i=r&&!P_.previouslyFailed();if(t.webSocketOnly&&(r||ao("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[P_];else{const o=this.transports_=[];for(const u of n.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Wj{constructor(e,t,r,i,o,u,h,p,y,T){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sb("c:"+this.id+":"),this.transportManager_=new Vj(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ab(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Db("t",e),r=Db("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Db("t",e),r=Db("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Db("t",e);if("d"in e){const r=e.d;if("h"===t)this.onHandshake_(r);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?HR("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):HR("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&ao("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Ab(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ab(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zp.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class qj{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class Zj{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,se.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===t&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(e){(0,se.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class KT extends Zj{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,se.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new KT}getInitialEvent(e){return(0,se.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ir{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function fr(){return new Ir("")}function Bn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Th(n){return n.pieces_.length-n.pieceNum_}function Hr(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ir(n.pieces_,e)}function XR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Mb(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Qj(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ir(e,0)}function ai(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof Ir)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new Ir(t,0)}function Vn(n){return n.pieceNum_>=n.pieces_.length}function Oo(n,e){const t=Bn(n),r=Bn(e);if(null===t)return e;if(t===r)return Oo(Hr(n),Hr(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function RZ(n,e){const t=Mb(n,0),r=Mb(e,0);for(let i=0;i<t.length&&i<r.length;i++){const o=$p(t[i],r[i]);if(0!==o)return o}return t.length===r.length?0:t.length<r.length?-1:1}function JR(n,e){if(Th(n)!==Th(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function dl(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Th(n)>Th(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class OZ{constructor(e,t){this.errorPrefix_=t,this.parts_=Mb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,se.ug)(this.parts_[r]);Xj(this)}}function Xj(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Wp(n))}function Wp(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class eO extends Zj{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new eO}getInitialEvent(e){return(0,se.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const kb=1e3;let QT,qp=(()=>{class n extends qj{constructor(t,r,i,o,u,h,p,y){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=Sb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kb,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,se.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eO.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&KT.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const o=++this.requestNumber_,u={r:o,a:t,b:r};this.log_((0,se.Pz)(u)),(0,se.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),i&&(this.requestCBHash_[o]=i)}get(t){this.initConnection_();const r=new se.BH,i={p:t._path.toString(),q:t._queryObject},o={action:"g",request:i,onComplete:h=>{const p=h.d;"ok"===h.s?(this.onDataUpdate_(i.p,p,!1,null),r.resolve(p)):r.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const h=this.outstandingGets_[u];void 0===h||o!==h||(delete this.outstandingGets_[u],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+u+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(u),r.promise}listen(t,r,i,o){this.initConnection_();const u=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+u),this.listens.has(h)||this.listens.set(h,new Map),(0,se.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,se.hu)(!this.listens.get(h).has(u),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:r,query:t,tag:i};this.listens.get(h).set(u,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const u={p:i};t.tag&&(u.q=r._queryObject,u.t=t.tag),u.h=t.hashFn(),this.sendRequest("q",u,p=>{const y=p.d,T=p.s;n.warnOnListenWarnings_(y,r),(this.listens.get(i)&&this.listens.get(i).get(o))===t&&(this.log_("listen response",p),"ok"!==T&&this.removeListen_(i,o),t.onComplete&&t.onComplete(T,y))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,se.r3)(t,"w")){const i=(0,se.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',u=r._path.toString();ao(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,se.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,se.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const u=o.s,h=o.d||"error";this.authToken_===t&&("ok"===u?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),(0,se.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,t._queryObject,r)}sendUnlisten_(t,r,i,o){this.log_("Unlisten on "+t+" for "+r);const u={p:t};o&&(u.q=i,u.t=o),this.sendRequest("n",u)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,o){const u={p:r,d:i};this.log_("onDisconnect "+t,u),this.sendRequest(t,u,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,r,i,o){this.putInternal("p",t,r,i,o)}merge(t,r,i,o){this.putInternal("m",t,r,i,o)}putInternal(t,r,i,o,u){this.initConnection_();const h={p:r,d:i};void 0!==u&&(h.h=u),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,u=>{this.log_(r+" response",u),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,se.Pz)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):HR("Unrecognized action received from server: "+(0,se.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,se.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kb,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=kb,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kb),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,it.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),u=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,y=null;const T=function(){y?y.close():(p=!0,o())};t.realtime_={close:T,sendRequest:function(ie){(0,se.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(ie)}};const W=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[ie,_e]=yield Promise.all([t.authTokenProvider_.getToken(W),t.appCheckTokenProvider_.getToken(W)]);p?Cs("getToken() completed but was canceled"):(Cs("getToken() completed. Creating connection."),t.authToken_=ie&&ie.accessToken,t.appCheckToken_=_e&&_e.token,y=new Wj(u,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,o,Le=>{ao(Le+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(ie){t.log_("Failed to get token: "+ie),p||(t.repoInfo_.nodeAdmin&&ao(ie),T())}}})()}interrupt(t){Cs("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Cs("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,se.xb)(this.interruptReasons_)&&(this.reconnectDelay_=kb,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(u=>zR(u)).join("$"):"default";const o=this.removeListen_(t,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,r){const i=new Ir(t).toString();let o;if(this.listens.has(i)){const u=this.listens.get(i);o=u.get(r),u.delete(r),0===u.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(t,r){Cs("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Cs("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,se.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+UR.replace(/\./g,"-")]=1,(0,se.uI)()?t["framework.cordova"]=1:(0,se.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=KT.getInstance().currentlyOnline();return(0,se.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class $n{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new $n(e,t)}}class YT{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new $n(Xu,e),i=new $n(Xu,t);return 0!==this.compare(r,i)}minPost(){return $n.MIN}}class t3 extends YT{static get __EMPTY_NODE(){return QT}static set __EMPTY_NODE(e){QT=e}compare(e,t){return $p(e.name,t.name)}isDefinedOn(e){throw(0,se.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return $n.MIN}maxPost(){return new $n(Jc,QT)}makePost(e,t){return(0,se.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new $n(e,QT)}toString(){return".key"}}const eu=new t3;class XT{constructor(e,t,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=t?r(e.key,t):1,i&&(u*=-1),u<0)e=this.isReverse_?e.left:e.right;else{if(0===u){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let nO,oc=(()=>{class n{constructor(t,r,i,o,u){this.key=t,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=o?o:ra.EMPTY_NODE,this.right=null!=u?u:ra.EMPTY_NODE}copy(t,r,i,o,u){return new n(null!=t?t:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=o?o:this.left,null!=u?u:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let o=this;const u=i(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,r,i),null):0===u?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(t,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ra.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,o;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return ra.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ra{constructor(e,t=ra.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new ra(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,oc.BLACK,null,null))}remove(e){return new ra(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,oc.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new XT(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new XT(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new XT(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new XT(this.root_,null,this.comparator_,!0,e)}}function HZ(n,e){return $p(n.name,e.name)}function tO(n,e){return $p(n,e)}ra.EMPTY_NODE=new class{copy(e,t,r,i,o){return this}insert(e,t,r){return new oc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const n3=function(n){return"number"==typeof n?"number:"+wj(n):"string:"+n},r3=function(n){if(n.isLeafNode()){const e=n.val();(0,se.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,se.r3)(e,".sv"),"Priority must be a string or number.")}else(0,se.hu)(n===nO||n.isEmpty(),"priority of unexpected type.");(0,se.hu)(n===nO||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let s3,o3,a3,N_=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,se.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),r3(this.priorityNode_)}static set __childrenNodeConstructor(t){s3=t}static get __childrenNodeConstructor(){return s3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Vn(t)?this:".priority"===Bn(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Bn(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,se.hu)(".priority"!==i||1===Th(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Hr(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+n3(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?wj(this.value_):this.value_,this.lazyHash_=_j(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,se.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(r),u=n.VALUE_TYPE_ORDER.indexOf(i);return(0,se.hu)(o>=0,"Unknown leaf type: "+r),(0,se.hu)(u>=0,"Unknown leaf type: "+i),o===u?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Zr=new class extends YT{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),o=r.compareTo(i);return 0===o?$p(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return $n.MIN}maxPost(){return new $n(Jc,new N_("[PRIORITY-POST]",a3))}makePost(e,t){const r=o3(e);return new $n(t,new N_("[PRIORITY-POST]",r))}toString(){return".priority"}},qZ=Math.log(2);class ZZ{constructor(e){this.count=parseInt(Math.log(e+1)/qZ,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const JT=function(n,e,t,r){n.sort(e);const i=function(p,y){const T=y-p;let R,W;if(0===T)return null;if(1===T)return R=n[p],W=t?t(R):R,new oc(W,R.node,oc.BLACK,null,null);{const ie=parseInt(T/2,10)+p,_e=i(p,ie),Le=i(ie+1,y);return R=n[ie],W=t?t(R):R,new oc(W,R.node,oc.BLACK,_e,Le)}},h=function(p){let y=null,T=null,R=n.length;const W=function(_e,Le){const tt=R-_e,vt=R;R-=_e;const Pt=i(tt+1,vt),Gt=n[tt],Ft=t?t(Gt):Gt;ie(new oc(Ft,Gt.node,Le,null,Pt))},ie=function(_e){y?(y.left=_e,y=_e):(T=_e,y=_e)};for(let _e=0;_e<p.count;++_e){const Le=p.nextBitIsOne(),tt=Math.pow(2,p.count-(_e+1));Le?W(tt,oc.BLACK):(W(tt,oc.BLACK),W(tt,oc.RED))}return T}(new ZZ(n.length));return new ra(r||e,h)};let rO;const F_={};class Ju{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,se.hu)(F_&&Zr,"ChildrenNode.ts has not been loaded"),rO=rO||new Ju({".priority":F_},{".priority":Zr}),rO}get(e){const t=(0,se.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ra?t:null}hasIndex(e){return(0,se.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,se.hu)(e!==eu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=t.getIterator($n.Wrap);let h,u=o.getNext();for(;u;)i=i||e.isDefinedOn(u.node),r.push(u),u=o.getNext();h=i?JT(r,e.getCompare()):F_;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const T=Object.assign({},this.indexes_);return T[p]=h,new Ju(T,y)}addToIndexes(e,t){const r=(0,se.UI)(this.indexes_,(i,o)=>{const u=(0,se.DV)(this.indexSet_,o);if((0,se.hu)(u,"Missing index implementation for "+o),i===F_){if(u.isDefinedOn(e.node)){const h=[],p=t.getIterator($n.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&h.push(y),y=p.getNext();return h.push(e),JT(h,u.getCompare())}return F_}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new $n(e.name,h))),p.insert(e,e.node)}});return new Ju(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,se.UI)(this.indexes_,i=>{if(i===F_)return i;{const o=t.get(e.name);return o?i.remove(new $n(e.name,o)):i}});return new Ju(r,this.indexSet_)}}let Rb,Tn=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&r3(this.priorityNode_),this.children_.isEmpty()&&(0,se.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rb||(Rb=new n(new ra(tO),null,Ju.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rb}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Rb:r}}getChild(t){const r=Bn(t);return null===r?this:this.getImmediateChild(r).getChild(Hr(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,se.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new $n(t,r);let o,u;r.isEmpty()?(o=this.children_.remove(t),u=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(t,r),u=this.indexMap_.addToIndexes(i,this.children_));const h=o.isEmpty()?Rb:this.priorityNode_;return new n(o,h,u)}}updateChild(t,r){const i=Bn(t);if(null===i)return r;{(0,se.hu)(".priority"!==Bn(t)||1===Th(t),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Hr(t),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,o=0,u=!0;if(this.forEachChild(Zr,(h,p)=>{r[h]=p.val(t),i++,u&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):u=!1}),!t&&u&&o<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+n3(this.getPriority().val())+":"),this.forEachChild(Zr,(r,i)=>{const o=i.hash();""!==o&&(t+=":"+r+":"+o)}),this.lazyHash_=""===t?"":_j(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const o=this.resolveIndex_(i);if(o){const u=o.getPredecessorKey(new $n(t,r));return u?u.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new $n(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new $n(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,$n.Wrap);let u=o.peek();for(;null!=u&&r.compare(u,t)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,$n.Wrap);let u=o.peek();for(;null!=u&&r.compare(u,t)>0;)o.getNext(),u=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ob?-1:0}withIndex(t){if(t===eu||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===eu||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Zr),o=r.getIterator(Zr);let u=i.getNext(),h=o.getNext();for(;u&&h;){if(u.name!==h.name||!u.node.equals(h.node))return!1;u=i.getNext(),h=o.getNext()}return null===u&&null===h}return!1}return!1}}resolveIndex_(t){return t===eu?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ob=new class extends Tn{constructor(){super(new ra(tO),Tn.EMPTY_NODE,Ju.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Tn.EMPTY_NODE}isEmpty(){return!1}};function di(n,e=null){if(null===n)return Tn.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,se.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new N_(n,di(e));if(n instanceof Array){let t=Tn.EMPTY_NODE;return Is(n,(r,i)=>{if((0,se.r3)(n,r)&&"."!==r.substring(0,1)){const o=di(i);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(r,o))}}),t.updatePriority(di(e))}{const t=[];let r=!1;if(Is(n,(u,h)=>{if("."!==u.substring(0,1)){const p=di(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new $n(u,p)))}}),0===t.length)return Tn.EMPTY_NODE;const o=JT(t,HZ,u=>u.name,tO);if(r){const u=JT(t,Zr.getCompare());return new Tn(o,di(e),new Ju({".priority":u},{".priority":Zr}))}return new Tn(o,di(e),Ju.Default)}}Object.defineProperties($n,{MIN:{value:new $n(Xu,Tn.EMPTY_NODE)},MAX:{value:new $n(Jc,Ob)}}),t3.__EMPTY_NODE=Tn.EMPTY_NODE,N_.__childrenNodeConstructor=Tn,function(n){nO=n}(Ob),function(n){a3=n}(Ob),function(n){o3=n}(di);class iO extends YT{constructor(e){super(),this.indexPath_=e,(0,se.hu)(!Vn(e)&&".priority"!==Bn(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),o=r.compareTo(i);return 0===o?$p(e.name,t.name):o}makePost(e,t){const r=di(e),i=Tn.EMPTY_NODE.updateChild(this.indexPath_,r);return new $n(t,i)}maxPost(){const e=Tn.EMPTY_NODE.updateChild(this.indexPath_,Ob);return new $n(Jc,e)}toString(){return Mb(this.indexPath_,0).join("/")}}const sO=new class extends YT{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?$p(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return $n.MIN}maxPost(){return $n.MAX}makePost(e,t){const r=di(e);return new $n(t,r)}toString(){return".value"}},L_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",XZ=function(){let n=0;const e=[];return function(t){const r=t===n;let i;n=t;const o=new Array(8);for(i=7;i>=0;i--)o[i]=L_.charAt(t%64),t=Math.floor(t/64);(0,se.hu)(0===t,"Cannot push at time == 0");let u=o.join("");if(r){for(i=11;i>=0&&63===e[i];i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=L_.charAt(e[i]);return(0,se.hu)(20===u.length,"nextPushId: Length should be 20."),u}}(),u3=function(n){if(n===""+GR)return"-";const e=WT(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let u=0;u<t.length;u++)t[u]=n.charAt(u);if(t.length<786)return t.push("-"),t.join("");let r=t.length-1;for(;r>=0&&"z"===t[r];)r--;if(-1===r)return Jc;const o=L_.charAt(L_.indexOf(t[r])+1);return t[r]=o,t.slice(0,r+1).join("")},d3=function(n){if(n===""+Ej)return Xu;const e=WT(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let r=0;r<t.length;r++)t[r]=n.charAt(r);return"-"===t[t.length-1]?1===t.length?""+GR:(delete t[t.length-1],t.join("")):(t[t.length-1]=L_.charAt(L_.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function h3(n){return{type:"value",snapshotNode:n}}function B_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function Pb(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function Nb(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class aO{constructor(e){this.index_=e}updateChild(e,t,r,i,o,u){(0,se.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(i).equals(r.getChild(i))&&h.isEmpty()===r.isEmpty()||(null!=u&&(r.isEmpty()?e.hasChild(t)?u.trackChildChange(Pb(t,h)):(0,se.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(B_(t,r)):u.trackChildChange(Nb(t,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return null!=r&&(e.isLeafNode()||e.forEachChild(Zr,(i,o)=>{t.hasChild(i)||r.trackChildChange(Pb(i,o))}),t.isLeafNode()||t.forEachChild(Zr,(i,o)=>{if(e.hasChild(i)){const u=e.getImmediateChild(i);u.equals(o)||r.trackChildChange(Nb(i,o,u))}else r.trackChildChange(B_(i,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Tn.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fb{constructor(e){this.indexedFilter_=new aO(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Fb.getStartPost_(e),this.endPost_=Fb.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,r,i,o,u){return this.matches(new $n(t,r))||(r=Tn.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,o,u)}updateFullNode(e,t,r){t.isLeafNode()&&(t=Tn.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(Tn.EMPTY_NODE);const o=this;return t.forEachChild(Zr,(u,h)=>{o.matches(new $n(u,h))||(i=i.updateImmediateChild(u,Tn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class eK{constructor(e){this.rangedFilter_=new Fb(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,r,i,o,u){return this.rangedFilter_.matches(new $n(t,r))||(r=Tn.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,o,u):this.fullLimitUpdateChild_(e,t,r,o,u)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=Tn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;i=Tn.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;o.hasNext()&&u<this.limit_;){const h=o.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),h)<=0:this.index_.compare(h,this.rangedFilter_.getEndPost())<=0,!p)break;i=i.updateImmediateChild(h.name,h.node),u++}}else{let o,u,h,p;if(i=t.withIndex(this.index_),i=i.updatePriority(Tn.EMPTY_NODE),this.reverse_){p=i.getReverseIterator(this.index_),o=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();const R=this.index_.getCompare();h=(W,ie)=>R(ie,W)}else p=i.getIterator(this.index_),o=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),h=this.index_.getCompare();let y=0,T=!1;for(;p.hasNext();){const R=p.getNext();!T&&h(o,R)<=0&&(T=!0),T&&y<this.limit_&&h(R,u)<=0?y++:i=i.updateImmediateChild(R.name,Tn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,o){let u;if(this.reverse_){const R=this.index_.getCompare();u=(W,ie)=>R(ie,W)}else u=this.index_.getCompare();const h=e;(0,se.hu)(h.numChildren()===this.limit_,"");const p=new $n(t,r),y=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),T=this.rangedFilter_.matches(p);if(h.hasChild(t)){const R=h.getImmediateChild(t);let W=i.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=W&&(W.name===t||h.hasChild(W.name));)W=i.getChildAfterChild(this.index_,W,this.reverse_);const ie=null==W?1:u(W,p);if(T&&!r.isEmpty()&&ie>=0)return null!=o&&o.trackChildChange(Nb(t,r,R)),h.updateImmediateChild(t,r);{null!=o&&o.trackChildChange(Pb(t,R));const Le=h.updateImmediateChild(t,Tn.EMPTY_NODE);return null!=W&&this.rangedFilter_.matches(W)?(null!=o&&o.trackChildChange(B_(W.name,W.node)),Le.updateImmediateChild(W.name,W.node)):Le}}return r.isEmpty()?e:T&&u(y,p)>=0?(null!=o&&(o.trackChildChange(Pb(y.name,y.node)),o.trackChildChange(B_(t,r))),h.updateImmediateChild(t,r).updateImmediateChild(y.name,Tn.EMPTY_NODE)):e}}class eS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zr}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,se.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,se.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xu}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,se.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,se.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jc}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,se.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zr}copy(){const e=new eS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function lO(n,e,t){const r=n.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=t?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function cO(n,e,t){const r=n.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==t?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function tS(n,e){const t=n.copy();return t.index_=e,t}function f3(n){const e={};if(n.isDefault())return e;let t;return n.index_===Zr?t="$priority":n.index_===sO?t="$value":n.index_===eu?t="$key":((0,se.hu)(n.index_ instanceof iO,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,se.Pz)(t),n.startSet_&&(e.startAt=(0,se.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,se.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,se.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,se.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function p3(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Zr&&(e.i=n.index_.toString()),e}class nS extends qj{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sb("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,se.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const u=nS.getListenId_(e,r),h={};this.listens_[u]=h;const p=f3(e._queryParams);this.restRequest_(o+".json",p,(y,T)=>{let R=T;if(404===y&&(R=null,y=null),null===y&&this.onDataUpdate_(o,R,!1,r),(0,se.DV)(this.listens_,u)===h){let W;W=y?401===y?"permission_denied":"rest_error:"+y:"ok",i(W,null)}})}unlisten(e,t){const r=nS.getListenId_(e,t);delete this.listens_[r]}get(e){const t=f3(e._queryParams),r=e._path.toString(),i=new se.BH;return this.restRequest_(r+".json",t,(o,u)=>{let h=u;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,se.xO)(t);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,se.cI)(h.responseText)}catch(y){ao("Failed to parse JSON response for "+u+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&ao("Got unsuccessful REST response for "+u+" Status: "+h.status),r(h.status);r=null}},h.open("GET",u,!0),h.send()})}}class oK{constructor(){this.rootNode_=Tn.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function rS(){return{value:null,children:new Map}}function V_(n,e,t){if(Vn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Bn(e);n.children.has(r)||n.children.set(r,rS()),V_(n.children.get(r),e=Hr(e),t)}}function uO(n,e){if(Vn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Zr,(r,i)=>{V_(n,new Ir(r),i)}),uO(n,e)}}if(n.children.size>0){const t=Bn(e);return e=Hr(e),n.children.has(t)&&uO(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function dO(n,e,t){null!==n.value?t(e,n.value):function(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{dO(i,new Ir(e.toString()+"/"+r),t)})}class lK{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Is(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class dK{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new lK(e);const r=1e4+2e4*Math.random();Ab(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Is(e,(i,o)=>{o>0&&(0,se.r3)(this.statsToReport_,i)&&(t[i]=o,r=!0)}),r&&this.server_.reportStats(t),Ab(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var hl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(hl||(hl={})),hl))();function pO(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class iS{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=hl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Vn(this.path)){if(null!=this.affectedTree.value)return(0,se.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ir(e));return new iS(fr(),t,this.revert)}}return(0,se.hu)(Bn(this.path)===e,"operationForChild called for unrelated child."),new iS(Hr(this.path),this.affectedTree,this.revert)}}class Lb{constructor(e,t){this.source=e,this.path=t,this.type=hl.LISTEN_COMPLETE}operationForChild(e){return Vn(this.path)?new Lb(this.source,fr()):new Lb(this.source,Hr(this.path))}}class Zp{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=hl.OVERWRITE}operationForChild(e){return Vn(this.path)?new Zp(this.source,fr(),this.snap.getImmediateChild(e)):new Zp(this.source,Hr(this.path),this.snap)}}class U_{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=hl.MERGE}operationForChild(e){if(Vn(this.path)){const t=this.children.subtree(new Ir(e));return t.isEmpty()?null:t.value?new Zp(this.source,fr(),t.value):new U_(this.source,fr(),t)}return(0,se.hu)(Bn(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new U_(this.source,Hr(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Sh{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Vn(e))return this.isFullyInitialized()&&!this.filtered_;const t=Bn(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class hK{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Bb(n,e,t,r,i,o){const u=r.filter(h=>h.type===t);u.sort((h,p)=>function(n,e,t){if(null==e.childName||null==t.childName)throw(0,se.g5)("Should only compare child_ events.");const r=new $n(e.childName,e.snapshotNode),i=new $n(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),u.forEach(h=>{const p=function(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,o);i.forEach(y=>{y.respondsTo(h.type)&&e.push(y.createEvent(p,n.query_))})})}function sS(n,e){return{eventCache:n,serverCache:e}}function Vb(n,e,t,r){return sS(new Sh(e,t,r),n.serverCache)}function m3(n,e,t,r){return sS(n.eventCache,new Sh(e,t,r))}function oS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Kp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let gO;class Kr{constructor(e,t=(()=>(gO||(gO=new ra(J8)),gO))()){this.value=e,this.children=t}static fromObject(e){let t=new Kr(null);return Is(e,(r,i)=>{t=t.set(new Ir(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:fr(),value:this.value};if(Vn(e))return null;{const r=Bn(e),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Hr(e),t);return null!=o?{path:ai(new Ir(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Vn(e))return this;{const t=Bn(e),r=this.children.get(t);return null!==r?r.subtree(Hr(e)):new Kr(null)}}set(e,t){if(Vn(e))return new Kr(t,this.children);{const r=Bn(e),o=(this.children.get(r)||new Kr(null)).set(Hr(e),t),u=this.children.insert(r,o);return new Kr(this.value,u)}}remove(e){if(Vn(e))return this.children.isEmpty()?new Kr(null):new Kr(null,this.children);{const t=Bn(e),r=this.children.get(t);if(r){const i=r.remove(Hr(e));let o;return o=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&o.isEmpty()?new Kr(null):new Kr(this.value,o)}return this}}get(e){if(Vn(e))return this.value;{const t=Bn(e),r=this.children.get(t);return r?r.get(Hr(e)):null}}setTree(e,t){if(Vn(e))return t;{const r=Bn(e),o=(this.children.get(r)||new Kr(null)).setTree(Hr(e),t);let u;return u=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Kr(this.value,u)}}fold(e){return this.fold_(fr(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ai(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,fr(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Vn(e))return null;{const o=Bn(e),u=this.children.get(o);return u?u.findOnPath_(Hr(e),ai(t,o),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,fr(),t)}foreachOnPath_(e,t,r){if(Vn(e))return this;{this.value&&r(t,this.value);const i=Bn(e),o=this.children.get(i);return o?o.foreachOnPath_(Hr(e),ai(t,i),r):new Kr(null)}}foreach(e){this.foreach_(fr(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(ai(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class ac{constructor(e){this.writeTree_=e}static empty(){return new ac(new Kr(null))}}function Ub(n,e,t){if(Vn(e))return new ac(new Kr(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let o=r.value;const u=Oo(i,e);return o=o.updateChild(u,t),new ac(n.writeTree_.set(i,o))}{const i=new Kr(t),o=n.writeTree_.setTree(e,i);return new ac(o)}}}function mO(n,e,t){let r=n;return Is(t,(i,o)=>{r=Ub(r,ai(e,i),o)}),r}function _3(n,e){if(Vn(e))return ac.empty();{const t=n.writeTree_.setTree(e,new Kr(null));return new ac(t)}}function _O(n,e){return null!=Yp(n,e)}function Yp(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Oo(t.path,e)):null}function y3(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Zr,(r,i)=>{e.push(new $n(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new $n(r,i.value))}),e}function Dh(n,e){if(Vn(e))return n;{const t=Yp(n,e);return new ac(null!=t?new Kr(t):n.writeTree_.subtree(e))}}function yO(n){return n.writeTree_.isEmpty()}function j_(n,e){return v3(fr(),n.writeTree_,e)}function v3(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{".priority"===i?((0,se.hu)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):t=v3(ai(n,i),o,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(ai(n,".priority"),r)),t}}function aS(n,e){return I3(e,n)}function wK(n,e){if(n.snap)return dl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&dl(ai(n.path,t),e))return!0;return!1}function CK(n){return n.visible}function b3(n,e,t){let r=ac.empty();for(let i=0;i<n.length;++i){const o=n[i];if(e(o)){const u=o.path;let h;if(o.snap)dl(t,u)?(h=Oo(t,u),r=Ub(r,h,o.snap)):dl(u,t)&&(h=Oo(u,t),r=Ub(r,fr(),o.snap.getChild(h)));else{if(!o.children)throw(0,se.g5)("WriteRecord should have .snap or .children");if(dl(t,u))h=Oo(t,u),r=mO(r,h,o.children);else if(dl(u,t))if(h=Oo(u,t),Vn(h))r=mO(r,fr(),o.children);else{const p=(0,se.DV)(o.children,Bn(h));if(p){const y=p.getChild(Hr(h));r=Ub(r,fr(),y)}}}}}return r}function w3(n,e,t,r,i){if(r||i){const o=Dh(n.visibleWrites,e);return!i&&yO(o)?t:i||null!=t||_O(o,fr())?j_(b3(n.allWrites,function(y){return(y.visible||i)&&(!r||!~r.indexOf(y.writeId))&&(dl(y.path,e)||dl(e,y.path))},e),t||Tn.EMPTY_NODE):null}{const o=Yp(n.visibleWrites,e);if(null!=o)return o;{const u=Dh(n.visibleWrites,e);return yO(u)?t:null!=t||_O(u,fr())?j_(u,t||Tn.EMPTY_NODE):null}}}function lS(n,e,t,r){return w3(n.writeTree,n.treePath,e,t,r)}function vO(n,e){return function(n,e,t){let r=Tn.EMPTY_NODE;const i=Yp(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Zr,(o,u)=>{r=r.updateImmediateChild(o,u)}),r;if(t){const o=Dh(n.visibleWrites,e);return t.forEachChild(Zr,(u,h)=>{const p=j_(Dh(o,new Ir(u)),h);r=r.updateImmediateChild(u,p)}),y3(o).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}return y3(Dh(n.visibleWrites,e)).forEach(u=>{r=r.updateImmediateChild(u.name,u.node)}),r}(n.writeTree,n.treePath,e)}function E3(n,e,t,r){return function(n,e,t,r,i){(0,se.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=ai(e,t);if(_O(n.visibleWrites,o))return null;{const u=Dh(n.visibleWrites,o);return yO(u)?i.getChild(t):j_(u,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function cS(n,e){return function(n,e){return Yp(n.visibleWrites,e)}(n.writeTree,ai(n.treePath,e))}function bO(n,e,t){return function(n,e,t,r){const i=ai(e,t),o=Yp(n.visibleWrites,i);return null!=o?o:r.isCompleteForChild(t)?j_(Dh(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function C3(n,e){return I3(ai(n.treePath,e),n.writeTree)}function I3(n,e){return{treePath:n,writeTree:e}}class kK{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,se.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,se.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(r,Nb(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(r,Pb(r,i.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(r,B_(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,se.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Nb(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const T3=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class wO{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Sh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bO(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Kp(this.viewCache_),o=function(n,e,t,r,i,o){return function(n,e,t,r,i,o,u){let h;const p=Dh(n.visibleWrites,e),y=Yp(p,fr());if(null!=y)h=y;else{if(null==t)return[];h=j_(p,t)}if(h=h.withIndex(u),h.isEmpty()||h.isLeafNode())return[];{const T=[],R=u.getCompare(),W=o?h.getReverseIteratorFrom(r,u):h.getIteratorFrom(r,u);let ie=W.getNext();for(;ie&&T.length<i;)0!==R(ie,r)&&T.push(ie),ie=W.getNext();return T}}(n.writeTree,n.treePath,e,t,r,i,o)}(this.writes_,i,t,1,r,e);return 0===o.length?null:o[0]}}function S3(n,e,t,r,i,o){const u=e.eventCache;if(null!=cS(r,t))return e;{let h,p;if(Vn(t))if((0,se.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=Kp(e),R=vO(r,y instanceof Tn?y:Tn.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),R,o)}else{const y=lS(r,Kp(e));h=n.filter.updateFullNode(e.eventCache.getNode(),y,o)}else{const y=Bn(t);if(".priority"===y){(0,se.hu)(1===Th(t),"Can't have a priority with additional path components");const T=u.getNode();p=e.serverCache.getNode();const R=E3(r,t,T,p);h=null!=R?n.filter.updatePriority(T,R):u.getNode()}else{const T=Hr(t);let R;if(u.isCompleteForChild(y)){p=e.serverCache.getNode();const W=E3(r,t,u.getNode(),p);R=null!=W?u.getNode().getImmediateChild(y).updateChild(T,W):u.getNode().getImmediateChild(y)}else R=bO(r,y,e.serverCache);h=null!=R?n.filter.updateChild(u.getNode(),y,R,T,i,o):u.getNode()}}return Vb(e,h,u.isFullyInitialized()||Vn(t),n.filter.filtersNodes())}}function uS(n,e,t,r,i,o,u,h){const p=e.serverCache;let y;const T=u?n.filter:n.filter.getIndexedFilter();if(Vn(t))y=T.updateFullNode(p.getNode(),r,null);else if(T.filtersNodes()&&!p.isFiltered()){const ie=p.getNode().updateChild(t,r);y=T.updateFullNode(p.getNode(),ie,null)}else{const ie=Bn(t);if(!p.isCompleteForPath(t)&&Th(t)>1)return e;const _e=Hr(t),tt=p.getNode().getImmediateChild(ie).updateChild(_e,r);y=".priority"===ie?T.updatePriority(p.getNode(),tt):T.updateChild(p.getNode(),ie,tt,_e,T3,null)}const R=m3(e,y,p.isFullyInitialized()||Vn(t),T.filtersNodes());return S3(n,R,t,i,new wO(i,R,o),h)}function EO(n,e,t,r,i,o,u){const h=e.eventCache;let p,y;const T=new wO(i,e,o);if(Vn(t))y=n.filter.updateFullNode(e.eventCache.getNode(),r,u),p=Vb(e,y,!0,n.filter.filtersNodes());else{const R=Bn(t);if(".priority"===R)y=n.filter.updatePriority(e.eventCache.getNode(),r),p=Vb(e,y,h.isFullyInitialized(),h.isFiltered());else{const W=Hr(t),ie=h.getNode().getImmediateChild(R);let _e;if(Vn(W))_e=r;else{const Le=T.getCompleteChild(R);_e=null!=Le?".priority"===XR(W)&&Le.getChild(Qj(W)).isEmpty()?Le:Le.updateChild(W,r):Tn.EMPTY_NODE}p=ie.equals(_e)?e:Vb(e,n.filter.updateChild(h.getNode(),R,_e,W,T,u),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function D3(n,e){return n.eventCache.isCompleteForChild(e)}function A3(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function CO(n,e,t,r,i,o,u,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=Vn(t)?r:new Kr(null).setTree(t,r);const T=e.serverCache.getNode();return y.children.inorderTraversal((R,W)=>{if(T.hasChild(R)){const _e=A3(0,e.serverCache.getNode().getImmediateChild(R),W);p=uS(n,p,new Ir(R),_e,i,o,u,h)}}),y.children.inorderTraversal((R,W)=>{const ie=!e.serverCache.isCompleteForChild(R)&&void 0===W.value;if(!T.hasChild(R)&&!ie){const Le=A3(0,e.serverCache.getNode().getImmediateChild(R),W);p=uS(n,p,new Ir(R),Le,i,o,u,h)}}),p}class jK{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new aO(r.getIndex()),o=function(n){return n.loadsAllData()?new aO(n.getIndex()):n.hasLimit()?new eK(n):new Fb(n)}(r);this.processor_=function(n){return{filter:n}}(o);const u=t.serverCache,h=t.eventCache,p=i.updateFullNode(Tn.EMPTY_NODE,u.getNode(),null),y=o.updateFullNode(Tn.EMPTY_NODE,h.getNode(),null),T=new Sh(p,u.isFullyInitialized(),i.filtersNodes()),R=new Sh(y,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=sS(R,T),this.eventGenerator_=new hK(this.query_)}get query(){return this.query_}}function GK(n,e){const t=Kp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Vn(e)&&!t.getImmediateChild(Bn(e)).isEmpty())?t.getChild(e):null}function x3(n){return 0===n.eventRegistrations_.length}function M3(n,e,t){const r=[];if(t){(0,se.hu)(null==e,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(o=>{const u=o.createCancelEvent(t,i);u&&r.push(u)})}if(e){let i=[];for(let o=0;o<n.eventRegistrations_.length;++o){const u=n.eventRegistrations_[o];if(u.matches(e)){if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(o+1));break}}else i.push(u)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function k3(n,e,t,r){e.type===hl.MERGE&&null!==e.source.queryId&&((0,se.hu)(Kp(n.viewCache_),"We should always have a full cache before handling merges"),(0,se.hu)(oS(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,o=function(n,e,t,r,i){const o=new kK;let u,h;if(t.type===hl.OVERWRITE){const y=t;y.source.fromUser?u=EO(n,e,y.path,y.snap,r,i,o):((0,se.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered()&&!Vn(y.path),u=uS(n,e,y.path,y.snap,r,i,h,o))}else if(t.type===hl.MERGE){const y=t;y.source.fromUser?u=function(n,e,t,r,i,o,u){let h=e;return r.foreach((p,y)=>{const T=ai(t,p);D3(e,Bn(T))&&(h=EO(n,h,T,y,i,o,u))}),r.foreach((p,y)=>{const T=ai(t,p);D3(e,Bn(T))||(h=EO(n,h,T,y,i,o,u))}),h}(n,e,y.path,y.children,r,i,o):((0,se.hu)(y.source.fromServer,"Unknown source."),h=y.source.tagged||e.serverCache.isFiltered(),u=CO(n,e,y.path,y.children,r,i,h,o))}else if(t.type===hl.ACK_USER_WRITE){const y=t;u=y.revert?function(n,e,t,r,i,o){let u;if(null!=cS(r,t))return e;{const h=new wO(r,e,i),p=e.eventCache.getNode();let y;if(Vn(t)||".priority"===Bn(t)){let T;if(e.serverCache.isFullyInitialized())T=lS(r,Kp(e));else{const R=e.serverCache.getNode();(0,se.hu)(R instanceof Tn,"serverChildren would be complete if leaf node"),T=vO(r,R)}T=T,y=n.filter.updateFullNode(p,T,o)}else{const T=Bn(t);let R=bO(r,T,e.serverCache);null==R&&e.serverCache.isCompleteForChild(T)&&(R=p.getImmediateChild(T)),y=null!=R?n.filter.updateChild(p,T,R,Hr(t),h,o):e.eventCache.getNode().hasChild(T)?n.filter.updateChild(p,T,Tn.EMPTY_NODE,Hr(t),h,o):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=lS(r,Kp(e)),u.isLeafNode()&&(y=n.filter.updateFullNode(y,u,o)))}return u=e.serverCache.isFullyInitialized()||null!=cS(r,fr()),Vb(e,y,u,n.filter.filtersNodes())}}(n,e,y.path,r,i,o):function(n,e,t,r,i,o,u){if(null!=cS(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(Vn(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return uS(n,e,t,p.getNode().getChild(t),i,o,h,u);if(Vn(t)){let y=new Kr(null);return p.getNode().forEachChild(eu,(T,R)=>{y=y.set(new Ir(T),R)}),CO(n,e,t,y,i,o,h,u)}return e}{let y=new Kr(null);return r.foreach((T,R)=>{const W=ai(t,T);p.isCompleteForPath(W)&&(y=y.set(T,p.getNode().getChild(W)))}),CO(n,e,t,y,i,o,h,u)}}(n,e,y.path,y.affectedTree,r,i,o)}else{if(t.type!==hl.LISTEN_COMPLETE)throw(0,se.g5)("Unknown operation type: "+t.type);u=function(n,e,t,r,i){const o=e.serverCache;return S3(n,m3(e,o.getNode(),o.isFullyInitialized()||Vn(t),o.isFiltered()),t,r,T3,i)}(n,e,t.path,r,o)}const p=o.getChanges();return function(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=oS(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&t.push(h3(oS(e)))}}(e,u,p),{viewCache:u,changes:p}}(n.processor_,i,e,t,r);return function(n,e){(0,se.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,se.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,se.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,R3(n,o.changes,o.viewCache.eventCache.getNode(),null)}function R3(n,e,t,r){return function(n,e,t,r){const i=[],o=[];return e.forEach(u=>{"child_changed"===u.type&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&o.push(function(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(u.childName,u.snapshotNode))}),Bb(n,i,"child_removed",e,r,t),Bb(n,i,"child_added",e,r,t),Bb(n,i,"child_moved",o,r,t),Bb(n,i,"child_changed",e,r,t),Bb(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}let dS,fS;class O3{constructor(){this.views=new Map}}function IO(n,e,t,r){const i=e.source.queryId;if(null!==i){const o=n.views.get(i);return(0,se.hu)(null!=o,"SyncTree gave us an op for an invalid query."),k3(o,e,t,r)}{let o=[];for(const u of n.views.values())o=o.concat(k3(u,e,t,r));return o}}function P3(n,e,t,r,i){const u=n.views.get(e._queryIdentifier);if(!u){let h=lS(t,i?r:null),p=!1;h?p=!0:r instanceof Tn?(h=vO(t,r),p=!1):(h=Tn.EMPTY_NODE,p=!1);const y=sS(new Sh(h,p,!1),new Sh(r,i,!1));return new jK(e,y)}return u}function N3(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Ah(n,e){let t=null;for(const r of n.views.values())t=t||GK(r,e);return t}function F3(n,e){return e._queryParams.loadsAllData()?hS(n):n.views.get(e._queryIdentifier)}function L3(n,e){return null!=F3(n,e)}function xh(n){return null!=hS(n)}function hS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let e7=1;class B3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Kr(null),this.pendingWriteTree_={visibleWrites:ac.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function TO(n,e,t,r,i){return function(n,e,t,r,i){(0,se.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Ub(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?H_(n,new Zp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Mh(n,e,t=!1){const r=function(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,se.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,o=!1,u=n.allWrites.length-1;for(;i&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=t&&wK(h,r.path)?i=!1:dl(r.path,h.path)&&(o=!0)),u--}return!!i&&(o?(function(n){n.visibleWrites=b3(n.allWrites,CK,fr()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=_3(n.visibleWrites,r.path):Is(r.children,p=>{n.visibleWrites=_3(n.visibleWrites,ai(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let o=new Kr(null);return null!=r.snap?o=o.set(fr(),!0):Is(r.children,u=>{o=o.set(new Ir(u),!0)}),H_(n,new iS(r.path,o,t))}return[]}function jb(n,e,t){return H_(n,new Zp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function SO(n,e,t,r){const i=e._path,o=n.syncPointTree_.get(i);let u=[];if(o&&("default"===e._queryIdentifier||L3(o,e))){const h=function(n,e,t,r){const i=e._queryIdentifier,o=[];let u=[];const h=xh(n);if("default"===i)for(const[p,y]of n.views.entries())u=u.concat(M3(y,t,r)),x3(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||o.push(y.query));else{const p=n.views.get(i);p&&(u=u.concat(M3(p,t,r)),x3(p)&&(n.views.delete(i),p.query._queryParams.loadsAllData()||o.push(p.query)))}return h&&!xh(n)&&o.push(new((0,se.hu)(dS,"Reference.ts has not been loaded"),dS)(e._repo,e._path)),{removed:o,events:u}}(o,e,t,r);(function(n){return 0===n.views.size})(o)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const p=h.removed;u=h.events;const y=-1!==p.findIndex(R=>R._queryParams.loadsAllData()),T=n.syncPointTree_.findOnPath(i,(R,W)=>xh(W));if(y&&!T){const R=n.syncPointTree_.subtree(i);if(!R.isEmpty()){const W=function(n){return n.fold((e,t,r)=>{if(t&&xh(t))return[hS(t)];{let i=[];return t&&(i=N3(t)),Is(r,(o,u)=>{i=i.concat(u)}),i}})}(R);for(let ie=0;ie<W.length;++ie){const _e=W[ie],Le=_e.query,tt=H3(n,_e);n.listenProvider_.startListening(Hb(Le),gS(n,Le),tt.hashFn,tt.onComplete)}}}if(!T&&p.length>0&&!r)if(y){const R=null;n.listenProvider_.stopListening(Hb(e),R)}else p.forEach(R=>{const W=n.queryToTagMap.get(mS(R));n.listenProvider_.stopListening(Hb(R),W)});!function(n,e){for(let t=0;t<e.length;++t){const r=e[t];if(!r._queryParams.loadsAllData()){const i=mS(r),o=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(o)}}}(n,p)}return u}function V3(n,e,t){const r=e._path;let i=null,o=!1;n.syncPointTree_.foreachOnPath(r,(R,W)=>{const ie=Oo(R,r);i=i||Ah(W,ie),o=o||xh(W)});let h,u=n.syncPointTree_.get(r);u?(o=o||xh(u),i=i||Ah(u,fr())):(u=new O3,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=i?h=!0:(h=!1,i=Tn.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((W,ie)=>{const _e=Ah(ie,fr());_e&&(i=i.updateImmediateChild(W,_e))}));const p=L3(u,e);if(!p&&!e._queryParams.loadsAllData()){const R=mS(e);(0,se.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const W=e7++;n.queryToTagMap.set(R,W),n.tagToQueryMap.set(W,R)}let T=function(n,e,t,r,i,o){const u=P3(n,e,r,i,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,u),function(n,e){n.eventRegistrations_.push(e)}(u,t),function(n,e){const t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Zr,(o,u)=>{r.push(B_(o,u))}),t.isFullyInitialized()&&r.push(h3(t.getNode())),R3(n,r,t.getNode(),e)}(u,t)}(u,e,t,aS(n.pendingWriteTree_,r),i,h);if(!p&&!o){const R=F3(u,e);T=T.concat(function(n,e,t){const r=e._path,i=gS(n,e),o=H3(n,t),u=n.listenProvider_.startListening(Hb(e),i,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(r);if(i)(0,se.hu)(!xh(h.value),"If we're adding a query, it shouldn't be shadowed");else{const p=h.fold((y,T,R)=>{if(!Vn(y)&&T&&xh(T))return[hS(T).query];{let W=[];return T&&(W=W.concat(N3(T).map(ie=>ie.query))),Is(R,(ie,_e)=>{W=W.concat(_e)}),W}});for(let y=0;y<p.length;++y){const T=p[y];n.listenProvider_.stopListening(Hb(T),gS(n,T))}}return u}(n,e,R))}return T}function pS(n,e,t){const i=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(u,h)=>{const y=Ah(h,Oo(u,e));if(y)return y});return w3(i,e,o,t,!0)}function H_(n,e){return U3(e,n.syncPointTree_,null,aS(n.pendingWriteTree_,fr()))}function U3(n,e,t,r){if(Vn(n.path))return j3(n,e,t,r);{const i=e.get(fr());null==t&&null!=i&&(t=Ah(i,fr()));let o=[];const u=Bn(n.path),h=n.operationForChild(u),p=e.children.get(u);if(p&&h){const y=t?t.getImmediateChild(u):null,T=C3(r,u);o=o.concat(U3(h,p,y,T))}return i&&(o=o.concat(IO(i,n,r,t))),o}}function j3(n,e,t,r){const i=e.get(fr());null==t&&null!=i&&(t=Ah(i,fr()));let o=[];return e.children.inorderTraversal((u,h)=>{const p=t?t.getImmediateChild(u):null,y=C3(r,u),T=n.operationForChild(u);T&&(o=o.concat(j3(T,h,p,y)))}),i&&(o=o.concat(IO(i,n,r,t))),o}function H3(n,e){const t=e.query,r=gS(n,t);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(e)||Tn.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function(n,e,t){const r=DO(n,t);if(r){const i=AO(r),o=i.path,u=i.queryId,h=Oo(o,e);return xO(n,o,new Lb(pO(u),h))}return[]}(n,t._path,r):function(n,e){return H_(n,new Lb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}(i,t);return SO(n,t,null,o)}}}}function gS(n,e){const t=mS(e);return n.queryToTagMap.get(t)}function mS(n){return n._path.toString()+"$"+n._queryIdentifier}function DO(n,e){return n.tagToQueryMap.get(e)}function AO(n){const e=n.indexOf("$");return(0,se.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ir(n.substr(0,e))}}function xO(n,e,t){const r=n.syncPointTree_.get(e);return(0,se.hu)(r,"Missing sync point for query tag that we're tracking"),IO(r,t,aS(n.pendingWriteTree_,e),null)}function Hb(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,se.hu)(fS,"Reference.ts has not been loaded"),fS)(n._repo,n._path):n}class MO{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new MO(t)}node(){return this.node_}}class kO{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ai(this.path_,e);return new kO(this.syncTree_,t)}node(){return pS(this.syncTree_,this.path_)}}const z3=function(n,e,t){return n&&"object"==typeof n?((0,se.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?f7(n[".sv"],e,t):"object"==typeof n[".sv"]?p7(n[".sv"],e):void(0,se.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},f7=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,se.hu)(!1,"Unexpected server value: "+n)},p7=function(n,e,t){n.hasOwnProperty("increment")||(0,se.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,se.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,se.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const u=i.getValue();return"number"!=typeof u?r:u+r},G3=function(n,e,t,r){return OO(e,new kO(t,n),r)},RO=function(n,e,t){return OO(n,new MO(e),t)};function OO(n,e,t){const r=n.getPriority().val(),i=z3(r,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const u=n,h=z3(u.getValue(),e,t);return h!==u.getValue()||i!==u.getPriority().val()?new N_(h,di(i)):n}{const u=n;return o=u,i!==u.getPriority().val()&&(o=o.updatePriority(new N_(i))),u.forEachChild(Zr,(h,p)=>{const y=OO(p,e.getImmediateChild(h),t);y!==p&&(o=o.updateImmediateChild(h,y))}),o}}class PO{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function _S(n,e){let t=e instanceof Ir?e:new Ir(e),r=n,i=Bn(t);for(;null!==i;){const o=(0,se.DV)(r.node.children,i)||{children:{},childCount:0};r=new PO(i,r,o),t=Hr(t),i=Bn(t)}return r}function Qp(n){return n.node.value}function NO(n,e){n.node.value=e,FO(n)}function $3(n){return n.node.childCount>0}function yS(n,e){Is(n.node.children,(t,r)=>{e(new PO(t,n,r))})}function W3(n,e,t,r){t&&!r&&e(n),yS(n,i=>{W3(i,e,!0,r)}),t&&r&&e(n)}function zb(n){return new Ir(null===n.parent?n.name:zb(n.parent)+"/"+n.name)}function FO(n){null!==n.parent&&function(n,e,t){const r=function(n){return void 0===Qp(n)&&!$3(n)}(t),i=(0,se.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,FO(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,FO(n))}(n.parent,n.name,n)}const y7=/[\[\].#$\/\u0000-\u001F\u007F]/,v7=/[\[\].#$\u0000-\u001F\u007F]/,LO=10485760,vS=function(n){return"string"==typeof n&&0!==n.length&&!y7.test(n)},q3=function(n){return"string"==typeof n&&0!==n.length&&!v7.test(n)},Gb=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!$T(n)||n&&"object"==typeof n&&(0,se.r3)(n,".sv")},tu=function(n,e,t,r){r&&void 0===e||$b((0,se.gK)(n,"value"),e,t)},$b=function(n,e,t){const r=t instanceof Ir?new OZ(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Wp(r));if("function"==typeof e)throw new Error(n+"contains a function "+Wp(r)+" with contents = "+e.toString());if($T(e))throw new Error(n+"contains "+e.toString()+" "+Wp(r));if("string"==typeof e&&e.length>LO/3&&(0,se.ug)(e)>LO)throw new Error(n+"contains a string greater than "+LO+" utf8 bytes "+Wp(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,o=!1;if(Is(e,(u,h)=>{if(".value"===u)i=!0;else if(".priority"!==u&&".sv"!==u&&(o=!0,!vS(u)))throw new Error(n+" contains an invalid key ("+u+") "+Wp(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,se.ug)(e),Xj(n)})(r,u),$b(n,h,r),function(n){const e=n.parts_.pop();n.byteLength_-=(0,se.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&o)throw new Error(n+' contains ".value" child '+Wp(r)+" in addition to actual children.")}},Z3=function(n,e,t,r){if(r&&void 0===e)return;const i=(0,se.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const o=[];Is(e,(u,h)=>{const p=new Ir(u);if($b(i,h,ai(t,p)),".priority"===XR(p)&&!Gb(h))throw new Error(i+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];const o=Mb(r);for(let u=0;u<o.length;u++)if((".priority"!==o[u]||u!==o.length-1)&&!vS(o[u]))throw new Error(n+"contains an invalid key ("+o[u]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(RZ);let i=null;for(t=0;t<e.length;t++){if(r=e[t],null!==i&&dl(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},BO=function(n,e,t){if(!t||void 0!==e){if($T(e))throw new Error((0,se.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gb(e))throw new Error((0,se.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Wb=function(n,e,t,r){if(!(r&&void 0===t||vS(t)))throw new Error((0,se.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},qb=function(n,e,t,r){if(!(r&&void 0===t||q3(t)))throw new Error((0,se.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fl=function(n,e){if(".info"===Bn(e))throw new Error(n+" failed = Can't modify data under /.info/")},K3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!vS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),q3(n)}(t))throw new Error((0,se.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class C7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bS(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();null!==t&&!JR(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(i)}t&&n.eventLists_.push(t)}function VO(n,e,t){bS(n,t),Y3(n,r=>JR(r,e))}function pl(n,e,t){bS(n,t),Y3(n,r=>dl(r,e)||dl(e,r))}function Y3(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(I7(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function I7(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Gp&&Cs("event: "+t.toString()),O_(r)}}}const Q3="repo_interrupt";class S7{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new C7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rS(),this.transactionQueueTree_=new PO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function X3(n){const t=n.infoData_.getNode(new Ir(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Zb(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:X3(n)})}function J3(n,e,t,r,i){n.dataUpdateCount++;const o=new Ir(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let u=[];if(i)if(r){const p=(0,se.UI)(t,y=>di(y));u=function(n,e,t,r){const i=DO(n,r);if(i){const o=AO(i),u=o.path,h=o.queryId,p=Oo(u,e),y=Kr.fromObject(t);return xO(n,u,new U_(pO(h),p,y))}return[]}(n.serverSyncTree_,o,p,i)}else{const p=di(t);u=function(n,e,t,r){const i=DO(n,r);if(null!=i){const o=AO(i),u=o.path,h=o.queryId,p=Oo(u,e);return xO(n,u,new Zp(pO(h),p,t))}return[]}(n.serverSyncTree_,o,p,i)}else if(r){const p=(0,se.UI)(t,y=>di(y));u=function(n,e,t){const r=Kr.fromObject(t);return H_(n,new U_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,o,p)}else{const p=di(t);u=jb(n.serverSyncTree_,o,p)}let h=o;u.length>0&&(h=G_(n,o)),pl(n.eventQueue_,h,u)}function eH(n,e){UO(n,"connected",e),!1===e&&function(n){z_(n,"onDisconnectEvents");const e=Zb(n),t=rS();dO(n.onDisconnect_,fr(),(i,o)=>{const u=G3(i,o,n.serverSyncTree_,e);V_(t,i,u)});let r=[];dO(t,fr(),(i,o)=>{r=r.concat(jb(n.serverSyncTree_,i,o));const u=GO(n,i);G_(n,u)}),n.onDisconnect_=rS(),pl(n.eventQueue_,fr(),r)}(n)}function UO(n,e,t){const r=new Ir("/.info/"+e),i=di(t);n.infoData_.updateSnapshot(r,i);const o=jb(n.infoSyncTree_,r,i);pl(n.eventQueue_,r,o)}function wS(n){return n.nextWriteId_++}function jO(n,e,t,r,i){z_(n,"set",{path:e.toString(),value:t,priority:r});const o=Zb(n),u=di(t,r),h=pS(n.serverSyncTree_,e),p=RO(u,h,o),y=wS(n),T=TO(n.serverSyncTree_,e,p,y,!0);bS(n.eventQueue_,T),n.server_.put(e.toString(),u.val(!0),(W,ie)=>{const _e="ok"===W;_e||ao("set at "+e+" failed: "+W);const Le=Mh(n.serverSyncTree_,y,!_e);pl(n.eventQueue_,e,Le),kh(0,i,W,ie)});const R=GO(n,e);G_(n,R),pl(n.eventQueue_,R,[])}function R7(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{"ok"===r&&uO(n.onDisconnect_,e),kh(0,t,r,i)})}function tH(n,e,t,r){const i=di(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(o,u)=>{"ok"===o&&V_(n.onDisconnect_,e,i),kh(0,r,o,u)})}function HO(n,e,t){let r;r=".info"===Bn(e._path)?SO(n.infoSyncTree_,e,t):SO(n.serverSyncTree_,e,t),VO(n.eventQueue_,e._path,r)}function nH(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Q3)}function z_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Cs(t,...e)}function kh(n,e,t,r){e&&O_(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let o=i;r&&(o+=": "+r);const u=new Error(o);u.code=i,e(u)}})}function zO(n,e,t){return pS(n.serverSyncTree_,e,t)||Tn.EMPTY_NODE}function ES(n,e=n.transactionQueueTree_){if(e||CS(n,e),Qp(e)){const t=iH(n,e);(0,se.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function(n,e,t){const r=t.map(y=>y.currentWriteId),i=zO(n,e,r);let o=i;const u=i.hash();for(let y=0;y<t.length;y++){const T=t[y];(0,se.hu)(0===T.status,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const R=Oo(e,T.path);o=o.updateChild(R,T.currentOutputSnapshotRaw)}const h=o.val(!0),p=e;n.server_.put(p.toString(),h,y=>{z_(n,"transaction put response",{path:p.toString(),status:y});let T=[];if("ok"===y){const R=[];for(let W=0;W<t.length;W++)t[W].status=2,T=T.concat(Mh(n.serverSyncTree_,t[W].currentWriteId)),t[W].onComplete&&R.push(()=>t[W].onComplete(null,!0,t[W].currentOutputSnapshotResolved)),t[W].unwatcher();CS(n,_S(n.transactionQueueTree_,e)),ES(n,n.transactionQueueTree_),pl(n.eventQueue_,e,T);for(let W=0;W<R.length;W++)O_(R[W])}else{if("datastale"===y)for(let R=0;R<t.length;R++)t[R].status=3===t[R].status?4:0;else{ao("transaction at "+p.toString()+" failed: "+y);for(let R=0;R<t.length;R++)t[R].status=4,t[R].abortReason=y}G_(n,e)}},u)}(n,zb(e),t)}else $3(e)&&yS(e,t=>{ES(n,t)})}function G_(n,e){const t=rH(n,e),r=zb(t);return function(n,e,t){if(0===e.length)return;const r=[];let i=[];const u=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],y=Oo(t,p.path);let R,T=!1;if((0,se.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)T=!0,R=p.abortReason,i=i.concat(Mh(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)T=!0,R="maxretry",i=i.concat(Mh(n.serverSyncTree_,p.currentWriteId,!0));else{const W=zO(n,p.path,u);p.currentInputSnapshot=W;const ie=e[h].update(W.val());if(void 0!==ie){$b("transaction failed: Data returned ",ie,p.path);let _e=di(ie);"object"==typeof ie&&null!=ie&&(0,se.r3)(ie,".priority")||(_e=_e.updatePriority(W.getPriority()));const tt=p.currentWriteId,vt=Zb(n),Pt=RO(_e,W,vt);p.currentOutputSnapshotRaw=_e,p.currentOutputSnapshotResolved=Pt,p.currentWriteId=wS(n),u.splice(u.indexOf(tt),1),i=i.concat(TO(n.serverSyncTree_,p.path,Pt,p.currentWriteId,p.applyLocally)),i=i.concat(Mh(n.serverSyncTree_,tt,!0))}else T=!0,R="nodata",i=i.concat(Mh(n.serverSyncTree_,p.currentWriteId,!0))}pl(n.eventQueue_,t,i),i=[],T&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===R?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(R),!1,null)))}CS(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)O_(r[h]);ES(n,n.transactionQueueTree_)}(n,iH(n,t),r),r}function rH(n,e){let t,r=n.transactionQueueTree_;for(t=Bn(e);null!==t&&void 0===Qp(r);)r=_S(r,t),t=Bn(e=Hr(e));return r}function iH(n,e){const t=[];return sH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function sH(n,e,t){const r=Qp(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);yS(e,i=>{sH(n,i,t)})}function CS(n,e){const t=Qp(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,NO(e,t.length>0?t:void 0)}yS(e,r=>{CS(n,r)})}function GO(n,e){const t=zb(rH(n,e)),r=_S(n.transactionQueueTree_,e);return function(n,e,t){let r=n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{$O(n,i)}),$O(n,r),W3(r,i=>{$O(n,i)}),t}function $O(n,e){const t=Qp(e);if(t){const r=[];let i=[],o=-1;for(let u=0;u<t.length;u++)3===t[u].status||(1===t[u].status?((0,se.hu)(o===u-1,"All SENT items should be at beginning of queue."),o=u,t[u].status=3,t[u].abortReason="set"):((0,se.hu)(0===t[u].status,"Unexpected transaction status in abort"),t[u].unwatcher(),i=i.concat(Mh(n.serverSyncTree_,t[u].currentWriteId,!0)),t[u].onComplete&&r.push(t[u].onComplete.bind(null,new Error("set"),!1,null))));-1===o?NO(e,void 0):t.length=o+1,pl(n.eventQueue_,zb(e),i);for(let u=0;u<r.length;u++)O_(r[u])}}const WO=function(n,e){const t=H7(n),r=t.namespace;return"firebase.com"===t.domain&&Xc(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Xc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ao("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new WR(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new Ir(t.pathString)}},H7=function(n){let e="",t="",r="",i="",o="",u=!0,h="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(h=n.substring(0,y-1),n=n.substring(y+2));let T=n.indexOf("/");-1===T&&(T=n.length);let R=n.indexOf("?");-1===R&&(R=n.length),e=n.substring(0,Math.min(T,R)),T<R&&(i=function(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(n.substring(T,R)));const W=function(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ao(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,R)));y=e.indexOf(":"),y>=0?(u="https"===h||"wss"===h,p=parseInt(e.substring(y+1),10)):y=e.length;const ie=e.slice(0,y);if("localhost"===ie.toLowerCase())t="localhost";else if(ie.split(".").length<=2)t=ie;else{const _e=e.indexOf(".");r=e.substring(0,_e).toLowerCase(),t=e.substring(_e+1),o=r}"ns"in W&&(o=W.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:u,scheme:h,pathString:i,namespace:o}};class oH{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,se.Pz)(this.snapshot.exportVal())}}class aH{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lH{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,se.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class cH{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new se.BH;return R7(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){fl("OnDisconnect.remove",this._path);const e=new se.BH;return tH(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){fl("OnDisconnect.set",this._path),tu("OnDisconnect.set",e,this._path,!1);const t=new se.BH;return tH(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){fl("OnDisconnect.setWithPriority",this._path),tu("OnDisconnect.setWithPriority",e,this._path,!1),BO("OnDisconnect.setWithPriority",t,!1);const r=new se.BH;return function(n,e,t,r,i){const o=di(t,r);n.server_.onDisconnectPut(e.toString(),o.val(!0),(u,h)=>{"ok"===u&&V_(n.onDisconnect_,e,o),kh(0,i,u,h)})}(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){fl("OnDisconnect.update",this._path),Z3("OnDisconnect.update",e,this._path,!1);const t=new se.BH;return function(n,e,t,r){if((0,se.xb)(t))return Cs("onDisconnect().update() called with empty data.  Don't do anything."),void kh(0,r,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(i,o)=>{"ok"===i&&Is(t,(u,h)=>{const p=di(h);V_(n.onDisconnect_,ai(e,u),p)}),kh(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class ia{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Vn(this._path)?null:XR(this._path)}get ref(){return new gl(this._repo,this._path)}get _queryIdentifier(){const e=p3(this._queryParams),t=zR(e);return"{}"===t?"default":t}get _queryObject(){return p3(this._queryParams)}isEqual(e){if(!((e=(0,se.m9)(e))instanceof ia))return!1;const t=this._repo===e._repo,r=JR(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function IS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Rh(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===eu){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Xu)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Jc)throw new Error(r);if("string"!=typeof t)throw new Error(i)}}else if(n.getIndex()===Zr){if(null!=e&&!Gb(e)||null!=t&&!Gb(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,se.hu)(n.getIndex()instanceof iO||n.getIndex()===sO,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function TS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class gl extends ia{constructor(e,t){super(e,t,new eS,!1)}get parent(){const e=Qj(this._path);return null===e?null:new gl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Xp{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ir(e),r=Jp(this.ref,e);return new Xp(this._node.getChild(t),r,Zr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>e(new Xp(i,Jp(this.ref,r),Zr)))}hasChild(e){const t=new Ir(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uH(n,e){return(n=(0,se.m9)(n))._checkNotDeleted("ref"),void 0!==e?Jp(n._root,e):n._root}function dH(n,e){(n=(0,se.m9)(n))._checkNotDeleted("refFromURL");const t=WO(e,n._repo.repoInfo_.nodeAdmin);K3("refFromURL",t);const r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Xc("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),uH(n,t.path.toString())}function Jp(n,e){return null===Bn((n=(0,se.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qb("child","path",t,!1)):qb("child","path",e,!1),new gl(n._repo,ai(n._path,e));var t}function qO(n,e){n=(0,se.m9)(n),fl("set",n._path),tu("set",e,n._path,!1);const t=new se.BH;return jO(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function q7(n,e){Z3("update",e,n._path,!1);const t=new se.BH;return function(n,e,t,r){z_(n,"update",{path:e.toString(),value:t});let i=!0;const o=Zb(n),u={};if(Is(t,(h,p)=>{i=!1,u[h]=G3(ai(e,h),di(p),n.serverSyncTree_,o)}),i)Cs("update() called with empty data.  Don't do anything."),kh(0,r,"ok",void 0);else{const h=wS(n),p=function(n,e,t,r){!function(n,e,t,r){(0,se.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=mO(n.visibleWrites,e,t),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r);const i=Kr.fromObject(t);return H_(n,new U_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,e,u,h);bS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,T)=>{const R="ok"===y;R||ao("update at "+e+" failed: "+y);const W=Mh(n.serverSyncTree_,h,!R),ie=W.length>0?G_(n,e):e;pl(n.eventQueue_,ie,W),kh(0,r,y,T)}),Is(t,y=>{const T=GO(n,ai(e,y));G_(n,T)}),pl(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function Z7(n){return function(n,e){const t=function(n,e){const t=e._path;let r=null;n.syncPointTree_.foreachOnPath(t,(y,T)=>{const R=Oo(y,t);r=r||Ah(T,R)});let i=n.syncPointTree_.get(t);i?r=r||Ah(i,fr()):(i=new O3,n.syncPointTree_=n.syncPointTree_.set(t,i));const o=null!=r,u=o?new Sh(r,!0,!1):null;return function(n){return oS(n.viewCache_)}(P3(i,e,aS(n.pendingWriteTree_,e._path),o?u.getNode():Tn.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(r=>{const i=di(r).withIndex(e._queryParams.getIndex()),o=jb(n.serverSyncTree_,e._path,i);return VO(n.eventQueue_,e._path,o),Promise.resolve(i)},r=>(z_(n,"get for query "+(0,se.Pz)(e)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,se.m9)(n))._repo,n).then(e=>new Xp(e,new gl(n._repo,n._path),n._queryParams.getIndex()))}class SS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const r=t._queryParams.getIndex();return new oH("value",this,new Xp(e.snapshotNode,new gl(t._repo,t._path),r))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new aH(this,e,t):null}matches(e){return e instanceof SS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class DS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new aH(this,e,t):null}createEvent(e,t){(0,se.hu)(null!=e.childName,"Child events should have a childName.");const r=Jp(new gl(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new oH(e.type,this,new Xp(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof DS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Kb(n,e,t,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const p=t,y=(T,R)=>{HO(n._repo,n,h),p(T,R)};y.userCallback=t.userCallback,y.context=t.context,t=y}const u=new lH(t,o||void 0),h="value"===e?new SS(u):new DS(e,u);return function(n,e,t){let r;r=".info"===Bn(e._path)?V3(n.infoSyncTree_,e,t):V3(n.serverSyncTree_,e,t),VO(n.eventQueue_,e._path,r)}(n._repo,n,h),()=>HO(n._repo,n,h)}function ZO(n,e,t,r){return Kb(n,"value",e,t,r)}function hH(n,e,t,r){return Kb(n,"child_added",e,t,r)}function fH(n,e,t,r){return Kb(n,"child_changed",e,t,r)}function pH(n,e,t,r){return Kb(n,"child_moved",e,t,r)}function gH(n,e,t,r){return Kb(n,"child_removed",e,t,r)}function mH(n,e,t){let r=null;const i=t?new lH(t):null;"value"===e?r=new SS(i):e&&(r=new DS(e,i)),HO(n._repo,n,r)}class lc{}class _H extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("endAt",this._value,e._path,!0);const t=cO(e._queryParams,this._value,this._key);if(TS(t),Rh(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(e._repo,e._path,t,e._orderByCalled)}}class Y7 extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("endBefore",this._value,e._path,!1);const t=function(n,e,t){let r,i;return n.index_===eu?("string"==typeof e&&(e=d3(e)),i=cO(n,e,t)):(r=null==t?Xu:d3(t),i=cO(n,e,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(TS(t),Rh(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ia(e._repo,e._path,t,e._orderByCalled)}}class yH extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("startAt",this._value,e._path,!0);const t=lO(e._queryParams,this._value,this._key);if(TS(t),Rh(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ia(e._repo,e._path,t,e._orderByCalled)}}class J7 extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){tu("startAfter",this._value,e._path,!1);const t=function(n,e,t){let r;if(n.index_===eu)"string"==typeof e&&(e=u3(e)),r=lO(n,e,t);else{let i;i=null==t?Jc:u3(t),r=lO(n,e,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(TS(t),Rh(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ia(e._repo,e._path,t,e._orderByCalled)}}class tY extends lc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(e._repo,e._path,function(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class rY extends lc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ia(e._repo,e._path,function(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class sY extends lc{constructor(e){super(),this._path=e}_apply(e){IS(e,"orderByChild");const t=new Ir(this._path);if(Vn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new iO(t),i=tS(e._queryParams,r);return Rh(i),new ia(e._repo,e._path,i,!0)}}class aY extends lc{_apply(e){IS(e,"orderByKey");const t=tS(e._queryParams,eu);return Rh(t),new ia(e._repo,e._path,t,!0)}}class cY extends lc{_apply(e){IS(e,"orderByPriority");const t=tS(e._queryParams,Zr);return Rh(t),new ia(e._repo,e._path,t,!0)}}class dY extends lc{_apply(e){IS(e,"orderByValue");const t=tS(e._queryParams,sO);return Rh(t),new ia(e._repo,e._path,t,!0)}}class fY extends lc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(tu("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _H(this._value,this._key)._apply(new yH(this._value,this._key)._apply(e))}}function cc(n,...e){let t=(0,se.m9)(n);for(const r of e)t=r._apply(t);return t}(function(n){(0,se.hu)(!dS,"__referenceConstructor has already been defined"),dS=n})(gl),function(n){(0,se.hu)(!fS,"__referenceConstructor has already been defined"),fS=n}(gl);const KO={};function bH(n,e,t,r,i){let o=r||n.options.databaseURL;void 0===o&&(n.options.projectId||Xc("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Cs("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,u=WO(o,i),h=u.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,o=`http://${y}?ns=${h.namespace}`,u=WO(o,i),h=u.repoInfo):p=!u.repoInfo.secure;const T=i&&p?new xb(xb.OWNER):new oZ(n.name,n.options,e);K3("Invalid Firebase Database URL",u),Vn(u.path)||Xc("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function(n,e,t,r){let i=KO[e.name];i||(i={},KO[e.name]=i);let o=i[n.toURLString()];return o&&Xc("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new S7(n,false,t,r),i[n.toURLString()]=o,o}(h,n,T,new sZ(n.name,t));return new bY(R,n)}class bY{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,e,t){if(n.stats_=KR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new nS(n.repoInfo_,(r,i,o,u)=>{J3(n,r,i,o,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>eH(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,se.Pz)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new qp(n.repoInfo_,e,(r,i,o,u)=>{J3(n,r,i,o,u)},r=>{eH(n,r)},r=>{!function(n,e){Is(e,(t,r)=>{UO(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,e){const t=n.toString();return ZR[t]||(ZR[t]=e()),ZR[t]}(n.repoInfo_,()=>new dK(n.stats_,n.server_)),n.infoData_=new oK,n.infoSyncTree_=new B3({startListening:(r,i,o,u)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=jb(n.infoSyncTree_,r._path,p),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),UO(n,"connected",!1),n.serverSyncTree_=new B3({startListening:(r,i,o,u)=>(n.server_.listen(r,o,i,(h,p)=>{const y=u(h,p);pl(n.eventQueue_,r._path,y)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new gl(this._repo,fr())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,e){const t=KO[e];(!t||t[n.key]!==n)&&Xc(`Database ${e}(${n.repoInfo_}) has already been deleted.`),nH(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Xc("Cannot call "+e+" on a deleted database.")}}function wH(){Vj.IS_TRANSPORT_INITIALIZED&&ao("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function wY(){wH(),Ih.forceDisallow()}function EY(){wH(),P_.forceDisallow(),Ih.forceAllow()}function SY(n,e){vj(n,e)}class kY{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},qp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},pj(Aa.SDK_VERSION),(0,Aa._registerComponent)(new tc.wA("database",(e,{instanceIdentifier:t})=>bH(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Aa.registerVersion)(hj,"0.13.0",void 0),(0,Aa.registerVersion)(hj,"0.13.0","esm2017");const NY=new xa.Yd("@firebase/database-compat"),EH=function(n){NY.warn("FIREBASE WARNING: "+n)};class BY{constructor(e){this._delegate=e}cancel(e){(0,se.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,se.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){(0,se.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,se.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){(0,se.Dv)("OnDisconnect.set",1,2,arguments.length),(0,se.Wj)("OnDisconnect.set","onComplete",t,!0);const r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,se.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,se.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),o=>r(o)),i}update(e,t){if((0,se.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,EH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,se.Wj)("OnDisconnect.update","onComplete",t,!0);const r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}}class VY{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,se.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Oh{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,se.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,se.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,se.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,se.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,se.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),qb("DataSnapshot.child","path",e,!1),new Oh(this._database,this._delegate.child(e))}hasChild(e){return(0,se.Dv)("DataSnapshot.hasChild",1,1,arguments.length),qb("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,se.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,se.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,se.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Oh(this._database,t)))}hasChildren(){return(0,se.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,se.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,se.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ra(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Vs{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var o;(0,se.Dv)("Query.on",2,4,arguments.length),(0,se.Wj)("Query.on","callback",t,!1);const u=Vs.getCancelAndContextArgs_("Query.on",r,i),h=(y,T)=>{t.call(u.context,new Oh(this.database,y),T)};h.userCallback=t,h.context=u.context;const p=null===(o=u.cancel)||void 0===o?void 0:o.bind(u.context);switch(e){case"value":return ZO(this._delegate,h,p),t;case"child_added":return hH(this._delegate,h,p),t;case"child_removed":return gH(this._delegate,h,p),t;case"child_changed":return fH(this._delegate,h,p),t;case"child_moved":return pH(this._delegate,h,p),t;default:throw new Error((0,se.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if((0,se.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,se.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,se.Wj)("Query.off","callback",t,!0),(0,se.lb)("Query.off","context",r,!0),t){const i=()=>{};i.userCallback=t,i.context=r,mH(this._delegate,e,i)}else mH(this._delegate,e)}get(){return Z7(this._delegate).then(e=>new Oh(this.database,e))}once(e,t,r,i){(0,se.Dv)("Query.once",1,4,arguments.length),(0,se.Wj)("Query.once","callback",t,!0);const o=Vs.getCancelAndContextArgs_("Query.once",r,i),u=new se.BH,h=(y,T)=>{const R=new Oh(this.database,y);t&&t.call(o.context,R,T),u.resolve(R)};h.userCallback=t,h.context=o.context;const p=y=>{o.cancel&&o.cancel.call(o.context,y),u.reject(y)};switch(e){case"value":ZO(this._delegate,h,p,{onlyOnce:!0});break;case"child_added":hH(this._delegate,h,p,{onlyOnce:!0});break;case"child_removed":gH(this._delegate,h,p,{onlyOnce:!0});break;case"child_changed":fH(this._delegate,h,p,{onlyOnce:!0});break;case"child_moved":pH(this._delegate,h,p,{onlyOnce:!0});break;default:throw new Error((0,se.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise}limitToFirst(e){return(0,se.Dv)("Query.limitToFirst",1,1,arguments.length),new Vs(this.database,cc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new tY(n)}(e)))}limitToLast(e){return(0,se.Dv)("Query.limitToLast",1,1,arguments.length),new Vs(this.database,cc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new rY(n)}(e)))}orderByChild(e){return(0,se.Dv)("Query.orderByChild",1,1,arguments.length),new Vs(this.database,cc(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return qb("orderByChild","path",n,!1),new sY(n)}(e)))}orderByKey(){return(0,se.Dv)("Query.orderByKey",0,0,arguments.length),new Vs(this.database,cc(this._delegate,new aY))}orderByPriority(){return(0,se.Dv)("Query.orderByPriority",0,0,arguments.length),new Vs(this.database,cc(this._delegate,new cY))}orderByValue(){return(0,se.Dv)("Query.orderByValue",0,0,arguments.length),new Vs(this.database,cc(this._delegate,new dY))}startAt(e=null,t){return(0,se.Dv)("Query.startAt",0,2,arguments.length),new Vs(this.database,cc(this._delegate,function(n=null,e){return Wb("startAt","key",e,!0),new yH(n,e)}(e,t)))}startAfter(e=null,t){return(0,se.Dv)("Query.startAfter",0,2,arguments.length),new Vs(this.database,cc(this._delegate,function(n,e){return Wb("startAfter","key",e,!0),new J7(n,e)}(e,t)))}endAt(e=null,t){return(0,se.Dv)("Query.endAt",0,2,arguments.length),new Vs(this.database,cc(this._delegate,function(n,e){return Wb("endAt","key",e,!0),new _H(n,e)}(e,t)))}endBefore(e=null,t){return(0,se.Dv)("Query.endBefore",0,2,arguments.length),new Vs(this.database,cc(this._delegate,function(n,e){return Wb("endBefore","key",e,!0),new Y7(n,e)}(e,t)))}equalTo(e,t){return(0,se.Dv)("Query.equalTo",1,2,arguments.length),new Vs(this.database,cc(this._delegate,function(n,e){return Wb("equalTo","key",e,!0),new fY(n,e)}(e,t)))}toString(){return(0,se.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,se.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,se.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Vs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){const i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,(0,se.Wj)(e,"cancel",i.cancel,!0),i.context=r,(0,se.lb)(e,"context",i.context,!0);else if(t)if("object"==typeof t&&null!==t)i.context=t;else{if("function"!=typeof t)throw new Error((0,se.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=t}return i}get ref(){return new Ra(this.database,new gl(this._delegate._repo,this._delegate._path))}}class Ra extends Vs{constructor(e,t){super(e,new ia(t._repo,t._path,new eS,!1)),this.database=e,this._delegate=t}getKey(){return(0,se.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,se.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ra(this.database,Jp(this._delegate,e))}getParent(){(0,se.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ra(this.database,e):null}getRoot(){return(0,se.Dv)("Reference.root",0,0,arguments.length),new Ra(this.database,this._delegate.root)}set(e,t){(0,se.Dv)("Reference.set",1,2,arguments.length),(0,se.Wj)("Reference.set","onComplete",t,!0);const r=qO(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if((0,se.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const i={};for(let o=0;o<e.length;++o)i[""+o]=e[o];e=i,EH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fl("Reference.update",this._delegate._path),(0,se.Wj)("Reference.update","onComplete",t,!0);const r=q7(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){(0,se.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,se.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function(n,e,t){if(fl("setWithPriority",n._path),tu("setWithPriority",e,n._path,!1),BO("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new se.BH;return jO(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return r&&i.then(()=>r(null),o=>r(o)),i}remove(e){(0,se.Dv)("Reference.remove",0,1,arguments.length),(0,se.Wj)("Reference.remove","onComplete",e,!0);const t=function(n){return fl("remove",n._path),qO(n,null)}(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){(0,se.Dv)("Reference.transaction",1,3,arguments.length),(0,se.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,se.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,r){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,se.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function(n,e,t){var r;if(n=(0,se.m9)(n),fl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==t?void 0:t.applyLocally)||void 0===r||r,o=new se.BH,h=ZO(n,()=>{});return function(n,e,t,r,i,o){z_(n,"transaction on "+e);const u={path:e,update:t,onComplete:r,status:null,order:mj(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=zO(n,e,void 0);u.currentInputSnapshot=h;const p=u.update(h.val());if(void 0===p)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{$b("transaction failed: Data returned ",p,u.path),u.status=0;const y=_S(n.transactionQueueTree_,e),T=Qp(y)||[];let R;T.push(u),NO(y,T),"object"==typeof p&&null!==p&&(0,se.r3)(p,".priority")?(R=(0,se.DV)(p,".priority"),(0,se.hu)(Gb(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(pS(n.serverSyncTree_,e)||Tn.EMPTY_NODE).getPriority().val();const W=Zb(n),ie=di(p,R),_e=RO(ie,h,W);u.currentOutputSnapshotRaw=ie,u.currentOutputSnapshotResolved=_e,u.currentWriteId=wS(n);const Le=TO(n.serverSyncTree_,e,_e,u.currentWriteId,u.applyLocally);pl(n.eventQueue_,e,Le),ES(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,T)=>{let R=null;p?o.reject(p):(R=new Xp(T,new gl(n._repo,n._path),Zr),o.resolve(new kY(y,R)))},h,i),o.promise}(this._delegate,e,{applyLocally:r}).then(o=>new VY(o.committed,new Oh(this.database,o.snapshot)));return t&&i.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),i}setPriority(e,t){(0,se.Dv)("Reference.setPriority",1,2,arguments.length),(0,se.Wj)("Reference.setPriority","onComplete",t,!0);const r=function(n,e){n=(0,se.m9)(n),fl("setPriority",n._path),BO("setPriority",e,!1);const t=new se.BH;return jO(n._repo,ai(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){(0,se.Dv)("Reference.push",0,2,arguments.length),(0,se.Wj)("Reference.push","onComplete",t,!0);const r=function(n,e){n=(0,se.m9)(n),fl("push",n._path),tu("push",e,n._path,!0);const t=X3(n._repo),r=XZ(t),i=Jp(n,r),o=Jp(n,r);let u;return u=null!=e?qO(o,e).then(()=>o):Promise.resolve(o),i.then=u.then.bind(u),i.catch=u.then.bind(u,void 0),i}(this._delegate,e),i=r.then(u=>new Ra(this.database,u));t&&i.then(()=>t(null),u=>t(u));const o=new Ra(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return fl("Reference.onDisconnect",this._delegate._path),new BY(new cH(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Yb{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:wY,forceLongPolling:EY}}useEmulator(e,t,r={}){!function(n,e,t,r={}){(n=(0,se.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xc("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Xc('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new xb(xb.OWNER);else if(r.mockUserToken){const u="string"==typeof r.mockUserToken?r.mockUserToken:(0,se.Sg)(r.mockUserToken,n.app.options.projectId);o=new xb(u)}!function(n,e,t,r){n.repoInfo_=new WR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,e,t,o)}(this._delegate,e,t,r)}ref(e){if((0,se.Dv)("database.ref",0,1,arguments.length),e instanceof Ra){const t=dH(this._delegate,e.toString());return new Ra(this,t)}{const t=uH(this._delegate,e);return new Ra(this,t)}}refFromURL(e){(0,se.Dv)("database.refFromURL",1,1,arguments.length);const r=dH(this._delegate,e);return new Ra(this,r)}goOffline(){return(0,se.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,se.m9)(n))._checkNotDeleted("goOffline"),nH(n._repo)}(this._delegate)}goOnline(){return(0,se.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,se.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(Q3)}(n._repo)}(this._delegate)}}Yb.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var jY=Object.freeze({__proto__:null,initStandalone:function({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:o=!1}){pj(t);const u=new tc.zt("auth-internal",new tc.H0("database-standalone"));return u.setComponent(new tc.wA("auth-internal",()=>r,"PRIVATE")),{instance:new Yb(bH(n,u,void 0,e,o),n),namespace:i}}});const HY=Yb.ServerValue;function CH(n){return null==n}function IH(n){return"function"==typeof n.set}function TH(n,e){return IH(e)?e:n.ref(e)}function SH(n,e){if(function(n){return"string"==typeof n}(n))return e.stringCase();if(IH(n))return e.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Qb(n,e,t="on",r=Oc.z){return new mr.y(i=>{let o=null;return o=n[t](e,(u,h)=>{r.schedule(()=>{i.next({snapshot:u,prevKey:h})}),"once"===t&&r.schedule(()=>i.complete())},u=>{r.schedule(()=>i.error(u))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,Mt.U)(i=>{const{snapshot:o,prevKey:u}=i;let h=null;return o.exists()&&(h=o.key),{type:e,payload:o,prevKey:u,key:h}}),(0,xk.B)())}function DH(n,e){const t=n.length;for(let r=0;r<t;r++)if(n[r].payload.key===e)return r;return-1}function ZY(n,e){const{payload:t,prevKey:r,key:i}=e,o=DH(n,i),u=function(n,e){if(CH(e))return 0;{const t=DH(n,e);return-1===t?n.length:t+1}}(n,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:h,key:p.key};return h=p.key,n=[...n,y],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==r&&(n=n.filter(p=>p.payload.key!==t.key)).splice(u,0,e)}else{if(null==r)return[e,...n];(n=n.slice()).splice(u,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===i?e:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(u,0,h),n}return n;default:return n}}function AH(n){return(CH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function xH(n,e,t){return function(n,e,t){return Qb(n,"value","once",t).pipe(Fr(r=>{const i=[Ct(r)];return e.forEach(o=>i.push(Qb(n,o,"on",t))),(0,So.T)(...i).pipe(es(ZY,[]))}),jg())}(n,e=AH(e),t)}function MH(n,e,t){const r=(e=AH(e)).map(i=>Qb(n,i,"on",t));return(0,So.T)(...r)}function kH(n,e){return function(r,i){return SH(r,{stringCase:()=>n.child(r)[e](i),firebaseCase:()=>r[e](i),snapshotCase:()=>r.ref[e](i)})}}function XY(n){return function(t){return t?SH(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function RH(n,e){return function(){return Qb(n,"value","on",e)}}!function(n){n.INTERNAL.registerComponent(new tc.wA("database-compat",(e,{instanceIdentifier:t})=>{const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new Yb(i,r)},"PUBLIC").setServiceProps({Reference:Ra,Query:Vs,Database:Yb,DataSnapshot:Oh,enableLogging:SY,INTERNAL:jY,ServerValue:HY}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(Fv.Z);const t9=new s.OlP("angularfire2.realtimeDatabaseURL"),n9=new s.OlP("angularfire2.database.use-emulator");let r9=(()=>{class n{constructor(t,r,i,o,u,h,p,y,T,R,W,ie,_e,Le,tt){this.schedulers=h;const vt=p,Pt=(0,gs.on)(t,u,r);y&&Jk(Pt,u,T,W,ie,_e,R,Le),this.database=(0,gs.cc)(`${Pt.name}.database.${i}`,"AngularFireDatabase",Pt.name,()=>{const Gt=u.runOutsideAngular(()=>Pt.database(i||void 0));return vt&&Gt.useEmulator(...vt),Gt},[vt])}list(t,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>TH(this.database,t));let o=i;return r&&(o=r(i)),function(n,e){const t=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:kH(r,"update"),set:kH(r,"set"),push:i=>r.push(i),remove:XY(r),snapshotChanges:i=>xH(n,i,t).pipe(kr.iC),stateChanges:i=>MH(n,i,t).pipe(kr.iC),auditTrail:i=>function(n,e,t){return function(n,e,t){return function(n,e){return Qb(n,"value","on",e).pipe((0,Mt.U)(t=>{let r;return t.payload.forEach(i=>(r=i.key,!1)),{data:t,lastKeyToLoad:r}}))}(n,t).pipe(function(...n){const e=(0,pa.jO)(n);return(0,Nr.e)((t,r)=>{const i=n.length,o=new Array(i);let u=n.map(()=>!1),h=!1;for(let p=0;p<i;p++)(0,mi.Xf)(n[p]).subscribe(new Kn.Q(r,y=>{o[p]=y,!h&&!u[p]&&(u[p]=!0,(h=u.every(Wo.y))&&(u=null))},af.Z));t.subscribe(new Kn.Q(r,p=>{if(h){const y=[p,...o];r.next(e?e(...y):y)}}))})}(e),(0,Mt.U)(([i,o])=>{const u=i.lastKeyToLoad,h=o.map(p=>p.key);return{actions:o,lastKeyToLoad:u,loadedKeys:h}}),(0,Nr.e)((e,t)=>{let r=!1;e.subscribe(new Kn.Q(t,o=>(r||(r=!(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad))(o)))&&t.next(o)))}),(0,Mt.U)(i=>i.actions))}(n,MH(n,e).pipe(es((i,o)=>[...i,o],[])),t)}(n,i,t).pipe(kr.iC),valueChanges:(i,o)=>xH(n,i,t).pipe((0,Mt.U)(h=>h.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),kr.iC)}}(o,this)}object(t){return function(n,e){return{query:n,snapshotChanges:()=>RH(n,e.schedulers.outsideAngular)().pipe(kr.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>RH(n,e.schedulers.outsideAngular)().pipe(kr.iC,(0,Mt.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>TH(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(gs.Dh),s.LFG(gs.xv,8),s.LFG(t9,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(kr.HU),s.LFG(n9,8),s.LFG(wT,8),s.LFG(qk,8),s.LFG(Zk,8),s.LFG(Kk,8),s.LFG(Yk,8),s.LFG(Qk,8),s.LFG(Xk,8),s.LFG(bT,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),i9=(()=>{class n{constructor(){qq.Z.registerVersion("angularfire",kr.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[r9]}),n})(),s9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-page-not-found"]],decls:4,vars:0,consts:[["routerLink","/home"]],template:function(t,r){1&t&&(s.TgZ(0,"p"),s._uU(1,"Page non trouv\xe9e"),s.qZA(),s.TgZ(2,"li",0),s._uU(3,"Aller \xe0 la page d'accueil"),s.qZA())},directives:[bd],styles:[""]}),n})(),o9=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-history"]],decls:2,vars:0,template:function(t,r){1&t&&(s.TgZ(0,"p"),s._uU(1,"history works!"),s.qZA())},styles:[""]}),n})(),a9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ye,Ed.forChild([{path:"history",component:o9}])]]}),n})();class YO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class QO extends YO{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class OH extends YO{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class c9 extends YO{constructor(e){super(),this.element=e instanceof s.SBq?e.nativeElement:e}}class XO{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof QO?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof OH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof c9?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u9 extends XO{constructor(e,t,r,i,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const h=u.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=o}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let PH=(()=>{class n extends XO{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(o,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(H))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),NH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const FH=ED();class d9{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=yi(-this._previousScrollPosition.left),e.style.top=yi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,o=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),FH&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FH&&(r.scrollBehavior=o,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class h9{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LH{enable(){}disable(){}attach(){}}function JO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function BH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class f9{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();JO(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let p9=(()=>{class n{constructor(t,r,i,o){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new LH,this.close=u=>new h9(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new d9(this._viewportRuler,this._document),this.reposition=u=>new f9(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(iR),s.LFG(DT),s.LFG(s.R0b),s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VH{constructor(e){if(this.scrollStrategy=new LH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class g9{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let UH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),m9=(()=>{class n extends UH{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_9=(()=>{class n extends UH{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Md(o)},this._clickListener=o=>{const u=Md(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const T=p[y];if(T._outsidePointerEvents.observers.length<1||!T.hasAttached())continue;if(T.overlayElement.contains(u)||T.overlayElement.contains(h))break;const R=T._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(o)):R.next(o)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(ki),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jH=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Tw()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}const r=this._document.createElement("div");r.classList.add(t),Tw()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(H),s.LFG(ki))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class y9{constructor(e,t,r,i,o,u,h,p,y){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new Yt.x,this._attachments=new Yt.x,this._detachments=new Yt.x,this._locationChanges=qs.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new Yt.x,this._outsidePointerEvents=new Yt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,rr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Tt(Tt({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Zi(Tt({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=yi(this._config.width),e.height=yi(this._config.height),e.minWidth=yi(this._config.minWidth),e.minHeight=yi(this._config.minHeight),e.maxWidth=yi(this._config.maxWidth),e.maxHeight=yi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=lf(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ur((0,So.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const HH="cdk-overlay-connected-position-bounding-box",v9=/([A-Za-z%]+)$/;class b9{constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yt.x,this._resizeSubscription=qs.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(HH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,i,h),y=this._getOverlayPoint(p,t,h),T=this._getOverlayFit(y,t,r,h);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(T,y,r)?o.push({position:h,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:y,originPoint:p,position:h,overlayRect:t})}if(o.length){let h=null,p=-1;for(const y of o){const T=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);T>p&&(p=T,h=y)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&eg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,o;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?u:h}return t.left<0&&(i-=t.left),o="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i,o;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){const o=GH(t);let{x:u,y:h}=e,p=this._getOffset(i,"x"),y=this._getOffset(i,"y");p&&(u+=p),y&&(h+=y);let W=0-h,ie=h+o.height-r.height,_e=this._subtractOverflows(o.width,0-u,u+o.width-r.width),Le=this._subtractOverflows(o.height,W,ie),tt=_e*Le;return{visibleArea:tt,isCompletelyWithinViewport:o.width*o.height===tt,fitsInViewportVertically:Le===o.height,fitsInViewportHorizontally:_e==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,o=r.right-t.x,u=zH(this._overlayRef.getConfig().minHeight),h=zH(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=h&&h<=o;return(e.fitsInViewportVertically||null!=u&&u<=i)&&y}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=GH(t),o=this._viewportRect,u=Math.max(e.x+i.width-o.width,0),h=Math.max(e.y+i.height-o.height,0),p=Math.max(o.top-r.top-e.y,0),y=Math.max(o.left-r.left-e.x,0);let T=0,R=0;return T=i.width<=o.width?y||-u:e.x<this._viewportMargin?o.left-r.left-e.x:0,R=i.height<=o.height?p||-h:e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:T,y:R},{x:e.x+T,y:e.y+R}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new g9(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let o,u,h,T,R,W;if("top"===t.overlayY)u=e.y,o=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,o=r.height-h+this._viewportMargin;else{const ie=Math.min(r.bottom-e.y+r.top,e.y),_e=this._lastBoundingBoxSize.height;o=2*ie,u=e.y-ie,o>_e&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-_e/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)W=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)R=e.x,T=r.right-e.x;else{const ie=Math.min(r.right-e.x+r.left,e.x),_e=this._lastBoundingBoxSize.width;T=2*ie,R=e.x-ie,T>_e&&!this._isInitialRender&&!this._growAfterOpen&&(R=e.x-_e/2)}return{top:u,left:R,bottom:h,right:W,width:T,height:o}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=yi(r.height),i.top=yi(r.top),i.bottom=yi(r.bottom),i.width=yi(r.width),i.left=yi(r.left),i.right=yi(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(i.maxHeight=yi(o)),u&&(i.maxWidth=yi(u))}this._lastBoundingBoxSize=r,eg(this._boundingBox.style,i)}_resetBoundingBoxStyles(){eg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){eg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const T=this._viewportRuler.getViewportScrollPosition();eg(r,this._getExactOverlayY(t,e,T)),eg(r,this._getExactOverlayX(t,e,T))}else r.position="static";let h="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(h+=`translateX(${p}px) `),y&&(h+=`translateY(${y}px)`),r.transform=h.trim(),u.maxHeight&&(i?r.maxHeight=yi(u.maxHeight):o&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=yi(u.maxWidth):o&&(r.maxWidth="")),eg(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":i.top=yi(o.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=yi(o.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:BH(e,r),isOriginOutsideView:JO(e,r),isOverlayClipped:BH(t,r),isOverlayOutsideView:JO(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&lf(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof s.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function eg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function zH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(v9);return t&&"px"!==t?null:parseFloat(e)}return n||null}function GH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $H="cdk-global-overlay-wrapper";class w9{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add($H),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:u,maxHeight:h}=r,p=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),y=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove($H),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let E9=(()=>{class n{constructor(t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o}global(){return new w9}flexibleConnectedTo(t){return new b9(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(DT),s.LFG(H),s.LFG(ki),s.LFG(jH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),C9=0,AS=(()=>{class n{constructor(t,r,i,o,u,h,p,y,T,R,W){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=p,this._document=y,this._directionality=T,this._location=R,this._outsideClickDispatcher=W}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),o=this._createPortalOutlet(i),u=new VH(t);return u.direction=u.direction||this._directionality.value,new y9(o,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+C9++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new u9(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(p9),s.LFG(jH),s.LFG(s._Vd),s.LFG(E9),s.LFG(m9),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(H),s.LFG(Cd),s.LFG(Qe),s.LFG(_9))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const S9={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[AS],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let D9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[AS,S9],imports:[[Id,NH,MV],MV]}),n})();const WH=new Set;let $_,A9=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):M9}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!WH.has(n))try{$_||($_=document.createElement("style"),$_.setAttribute("type","text/css"),document.head.appendChild($_)),$_.sheet&&($_.sheet.insertRule(`@media ${n} {body{ }}`,0),WH.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(ki))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function M9(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let qH=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Yt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ZH(lf(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let o=xs(ZH(lf(t)).map(u=>this._registerQuery(u).observable));return o=vo(o.pipe((0,rr.q)(1)),o.pipe(Zw(1),yf(0))),o.pipe((0,Mt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:p,query:y})=>{h.matches=h.matches||p,h.breakpoints[y]=p}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),o={observable:new mr.y(u=>{const h=p=>this._zone.run(()=>u.next(p));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(_i(r),(0,Mt.U)(({matches:u})=>({query:t,matches:u})),Ur(this._destroySubject)),mql:r};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(A9),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZH(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function R9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div",2),s.TgZ(1,"button",3),s.NdJ("click",function(){return s.CHM(t),s.oxw().action()}),s._uU(2),s.qZA(),s.qZA()}if(2&n){const t=s.oxw();s.xp6(2),s.Oqu(t.data.action)}}function O9(n,e){}const eP=new s.OlP("MatSnackBarData");class xS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const P9=Math.pow(2,31)-1;class tP{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Yt.x,this._afterOpened=new Yt.x,this._onAction=new Yt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,P9))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let N9=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(tP),s.Y36(eP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,R9,3,1,"div",1)),2&t&&(s.xp6(1),s.Oqu(r.data.message),s.xp6(1),s.Q6J("ngIf",r.hasAction))},directives:[Xr,Vp],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const F9={snackBarState:qg("state",[Nd("void, hidden",Jl({transform:"scale(0.8)",opacity:0})),Nd("visible",Jl({transform:"scale(1)",opacity:1})),Cf("* => visible",Pd("150ms cubic-bezier(0, 0, 0.2, 1)")),Cf("* => void, * => hidden",Pd("75ms cubic-bezier(0.4, 0.0, 1, 1)",Jl({opacity:0})))])};let L9=(()=>{class n extends XO{constructor(t,r,i,o,u){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Yt.x,this._onExit=new Yt.x,this._onEnter=new Yt.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,rr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ki),s.Y36(xS))},n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&s.Gf(PH,7),2&t){let i;s.iGM(i=s.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&s.WFA("@state.done",function(o){return r.onAnimationEnd(o)}),2&t&&s.d8E("@state",r._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,O9,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&t&&(s.xp6(2),s.uIk("aria-live",r._live)("role",r._role))},directives:[PH],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[F9.snackBarState]}}),n})(),KH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[D9,NH,ye,aR,Wr],Wr]}),n})();const YH=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new xS}});let V9=(()=>{class n{constructor(t,r,i,o,u,h){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const o=Tt(Tt({},this._defaultConfig),i);return o.data={message:t,action:r},o.announcementMessage===t&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const o=s.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:xS,useValue:r}]}),u=new QO(this.snackBarContainerComponent,r.viewContainerRef,o),h=t.attach(u);return h.instance.snackBarConfig=r,h.instance}_attach(t,r){const i=Tt(Tt(Tt({},new xS),this._defaultConfig),r),o=this._createOverlay(i),u=this._attachSnackBarContainer(o,i),h=new tP(u,o);if(t instanceof s.Rgc){const p=new OH(t,null,{$implicit:i.data,snackBarRef:h});h.instance=u.attachTemplatePortal(p)}else{const p=this._createInjector(i,h),y=new QO(t,void 0,p),T=u.attachComponentPortal(y);h.instance=T.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ur(o.detachments())).subscribe(p=>{o.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),i.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(h,i),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new VH;r.direction=t.direction;let i=this._overlay.position().global();const o="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!o||"end"===t.horizontalPosition&&o,h=!u&&"center"!==t.horizontalPosition;return u?i.left("0"):h?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return s.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:tP,useValue:r},{provide:eP,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(AS),s.LFG(Mu),s.LFG(s.zs3),s.LFG(qH),s.LFG(n,12),s.LFG(YH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),nP=(()=>{class n extends V9{constructor(t,r,i,o,u,h){super(t,r,i,o,u,h),this.simpleSnackBarComponent=N9,this.snackBarContainerComponent=L9,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(AS),s.LFG(Mu),s.LFG(s.zs3),s.LFG(qH),s.LFG(n,12),s.LFG(YH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:KH}),n})(),rP=(()=>{class n{constructor(t){this.data=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(eP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-snackbar"]],decls:2,vars:1,template:function(t,r){1&t&&(s.TgZ(0,"b"),s._uU(1),s.qZA()),2&t&&(s.xp6(1),s.Oqu(r.data.text))},styles:[""]}),n})(),MS=(()=>{class n{constructor(t,r){this.authService=r,this.database=t}addIntakes(t,r,i){this.authService.userData.uid&&this.database.collection("intakes").add({nickname:t,intakeValue:r,titleIntake:i,date:new Date,uid:this.authService.userData.uid})}addTargetIntake(t){if(JSON.parse(localStorage.getItem("user")).uid){const r=this.database.doc(`person/${this.authService.userData.uid}`),i=JSON.parse(localStorage.getItem("user"));r.set({uid:i.uid,nickname:i.displayName,targetIntake:t},{merge:!0}),this.database.doc(`person/${this.authService.userData.uid}`).update({targetIntake:t}),this.database.doc(`users/${this.authService.userData.uid}`).update({targetIntake:t})}}addNewTeam(t){JSON.parse(localStorage.getItem("user")).uid&&this.database.collection("teams").add({teamName:t,ownerUid:this.authService.userData.uid}).then(r=>{this.database.collection("teamMembers").add({teamId:r.id,memberUid:this.authService.userData.uid,ownerUid:this.authService.userData.uid})})}getAllTeamsForUser(){if(JSON.parse(localStorage.getItem("user")).uid)return this.database.collection("teamMembers",t=>t.where("memberUid","==",JSON.parse(localStorage.getItem("user")).uid)).valueChanges()}getTeamFromOwnerId(t){return console.log(t),this.database.collection("teams",r=>r.where("ownerUid","==",t)).valueChanges({idField:"eventId"})}getAllIntakesDocuments(){if(void 0!==localStorage.getItem("user"))return this.database.collection("intakes",t=>t.where("uid","==",JSON.parse(localStorage.getItem("user")).uid)).valueChanges({idField:"eventId"})}getPersonConnectedInfos(){if(void 0!==localStorage.getItem("user"))return this.database.collection("person",t=>t.where("uid","==",JSON.parse(localStorage.getItem("user")).uid)).valueChanges()}getTeamMembersWithTeamId(t){return this.database.collection("teamMembers",r=>r.where("teamId","==",t)).valueChanges()}getUserByUid(t){return this.database.collection("users",r=>r.where("uid","==",t)).valueChanges()}getAllIntakesDocumentsByUid(t){return this.database.collection("intakes",r=>r.where("uid","==",t)).valueChanges()}deleteIntake(t){this.database.doc("intakes/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(s.LFG(nR),s.LFG(CT))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const U9=["*"],QH=new s.OlP("MatChipRemove"),XH=new s.OlP("MatChipAvatar"),JH=new s.OlP("MatChipTrailingIcon");class j9{constructor(e){this._elementRef=e}}const H9=fC(Fu(hC(j9),"primary"),-1);let kS=(()=>{class n extends H9{constructor(t,r,i,o,u,h,p,y){super(t),this._ngZone=r,this._changeDetectorRef=u,this._hasFocus=!1,this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListDisabled=!1,this._selected=!1,this._selectable=!0,this._disabled=!1,this._removable=!0,this._onFocus=new Yt.x,this._onBlur=new Yt.x,this.selectionChange=new s.vpe,this.destroyed=new s.vpe,this.removed=new s.vpe,this._addHostClassName(),this._chipRippleTarget=h.createElement("div"),this._chipRippleTarget.classList.add("mat-chip-ripple"),this._elementRef.nativeElement.appendChild(this._chipRippleTarget),this._chipRipple=new yC(this,r,this._chipRippleTarget,i),this._chipRipple.setupTriggerEvents(t),this.rippleConfig=o||{},this._animationsDisabled="NoopAnimations"===p,this.tabIndex=null!=y&&parseInt(y)||-1}get rippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}get selected(){return this._selected}set selected(t){const r=jr(t);r!==this._selected&&(this._selected=r,this._dispatchSelectionChange())}get value(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent}set value(t){this._value=t}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=jr(t)}get disabled(){return this._chipListDisabled||this._disabled}set disabled(t){this._disabled=jr(t)}get removable(){return this._removable}set removable(t){this._removable=jr(t)}get ariaSelected(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}_addHostClassName(){const t="mat-basic-chip",r=this._elementRef.nativeElement;r.hasAttribute(t)||r.tagName.toLowerCase()===t?r.classList.add(t):r.classList.add("mat-standard-chip")}ngOnDestroy(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}select(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}deselect(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}selectViaInteraction(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}toggleSelected(t=!1){return this._selected=!this.selected,this._dispatchSelectionChange(t),this._changeDetectorRef.markForCheck(),this.selected}focus(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}remove(){this.removable&&this.removed.emit({chip:this})}_handleClick(t){this.disabled&&t.preventDefault()}_handleKeydown(t){if(!this.disabled)switch(t.keyCode){case 46:case 8:this.remove(),t.preventDefault();break;case 32:this.selectable&&this.toggleSelected(!0),t.preventDefault()}}_blur(){this._ngZone.onStable.pipe((0,rr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._hasFocus=!1,this._onBlur.next({chip:this})})})}_dispatchSelectionChange(t=!1){this.selectionChange.emit({source:this,isUserInput:t,selected:this._selected})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(ki),s.Y36(vC,8),s.Y36(s.sBO),s.Y36(H),s.Y36(Da,8),s.$8M("tabindex"))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(t,r,i){if(1&t&&(s.Suo(i,XH,5),s.Suo(i,JH,5),s.Suo(i,QH,5)),2&t){let o;s.iGM(o=s.CRH())&&(r.avatar=o.first),s.iGM(o=s.CRH())&&(r.trailingIcon=o.first),s.iGM(o=s.CRH())&&(r.removeIcon=o.first)}},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(t,r){1&t&&s.NdJ("click",function(o){return r._handleClick(o)})("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r.focus()})("blur",function(){return r._blur()}),2&t&&(s.uIk("tabindex",r.disabled?null:r.tabIndex)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString())("aria-selected",r.ariaSelected),s.ekj("mat-chip-selected",r.selected)("mat-chip-with-avatar",r.avatar)("mat-chip-with-trailing-icon",r.trailingIcon||r.removeIcon)("mat-chip-disabled",r.disabled)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[s.qOj]}),n})(),ez=(()=>{class n{constructor(t,r){this._parentChip=t,"BUTTON"===r.nativeElement.nodeName&&r.nativeElement.setAttribute("type","button")}_handleClick(t){const r=this._parentChip;r.removable&&!r.disabled&&r.remove(),t.stopPropagation(),t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(kS),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(t,r){1&t&&s.NdJ("click",function(o){return r._handleClick(o)})},features:[s._Bn([{provide:QH,useExisting:n}])]}),n})();const tz=new s.OlP("mat-chips-default-options"),$9=pC(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let W9=0;class q9{constructor(e,t){this.source=e,this.value=t}}let nz=(()=>{class n extends $9{constructor(t,r,i,o,u,h,p){super(h,o,u,p),this._elementRef=t,this._changeDetectorRef=r,this._dir=i,this.controlType="mat-chip-list",this._lastDestroyedChipIndex=null,this._destroyed=new Yt.x,this._uid="mat-chip-list-"+W9++,this._tabIndex=0,this._userTabIndex=null,this._onTouched=()=>{},this._onChange=()=>{},this._multiple=!1,this._compareWith=(y,T)=>y===T,this._disabled=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.change=new s.vpe,this.valueChange=new s.vpe,this.ngControl&&(this.ngControl.valueAccessor=this)}get selected(){var t,r;return this.multiple?(null==(t=this._selectionModel)?void 0:t.selected)||[]:null==(r=this._selectionModel)?void 0:r.selected[0]}get role(){return this.empty?null:"listbox"}get multiple(){return this._multiple}set multiple(t){this._multiple=jr(t),this._syncChipsState()}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}get id(){return this._chipInput?this._chipInput.id:this._uid}get required(){var t,r,i,o;return null!=(o=null!=(i=this._required)?i:null==(r=null==(t=this.ngControl)?void 0:t.control)?void 0:r.hasValidator(x_.required))&&o}set required(t){this._required=jr(t),this.stateChanges.next()}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get focused(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}get shouldLabelFloat(){return!this.empty||this.focused}get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=jr(t),this._syncChipsState()}get selectable(){return this._selectable}set selectable(t){this._selectable=jr(t),this.chips&&this.chips.forEach(r=>r.chipListSelectable=this._selectable)}set tabIndex(t){this._userTabIndex=t,this._tabIndex=t}get chipSelectionChanges(){return(0,So.T)(...this.chips.map(t=>t.selectionChange))}get chipFocusChanges(){return(0,So.T)(...this.chips.map(t=>t._onFocus))}get chipBlurChanges(){return(0,So.T)(...this.chips.map(t=>t._onBlur))}get chipRemoveChanges(){return(0,So.T)(...this.chips.map(t=>t.destroyed))}ngAfterContentInit(){this._keyManager=new Ta(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Ur(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t)),this._keyManager.tabOut.pipe(Ur(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.chips.changes.pipe(_i(null),Ur(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>{this._syncChipsState()}),this._resetChips(),this._initializeSelection(),this._updateTabIndex(),this._updateFocusForDestroyedChips(),this.stateChanges.next()})}ngOnInit(){this._selectionModel=new Og(this.multiple,void 0,!1),this.stateChanges.next()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}registerInput(t){this._chipInput=t,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",t.id)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}writeValue(t){this.chips&&this._setSelectionByValue(t,!1)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this.stateChanges.next()}onContainerClick(t){this._originatesFromChip(t)||this.focus()}focus(t){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(t),this.stateChanges.next()))}_focusInput(t){this._chipInput&&this._chipInput.focus(t)}_keydown(t){const r=t.target;r&&r.classList.contains("mat-chip")&&(this._keyManager.onKeydown(t),this.stateChanges.next())}_updateTabIndex(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}_updateFocusForDestroyedChips(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){const t=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(t)}else this.focus();this._lastDestroyedChipIndex=null}_isValidIndex(t){return t>=0&&t<this.chips.length}_setSelectionByValue(t,r=!0){if(this._clearSelection(),this.chips.forEach(i=>i.deselect()),Array.isArray(t))t.forEach(i=>this._selectValue(i,r)),this._sortValues();else{const i=this._selectValue(t,r);i&&r&&this._keyManager.setActiveItem(i)}}_selectValue(t,r=!0){const i=this.chips.find(o=>null!=o.value&&this._compareWith(o.value,t));return i&&(r?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}_initializeSelection(){Promise.resolve().then(()=>{(this.ngControl||this._value)&&(this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value,!1),this.stateChanges.next())})}_clearSelection(t){this._selectionModel.clear(),this.chips.forEach(r=>{r!==t&&r.deselect()}),this.stateChanges.next()}_sortValues(){this._multiple&&(this._selectionModel.clear(),this.chips.forEach(t=>{t.selected&&this._selectionModel.select(t)}),this.stateChanges.next())}_propagateChanges(t){let r=null;r=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.change.emit(new q9(this,r)),this.valueChange.emit(r),this._onChange(r),this._changeDetectorRef.markForCheck()}_blur(){this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(()=>{this.focused||this._markAsTouched()}):this._markAsTouched())}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}_allowFocusEscape(){-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(()=>{this._tabIndex=this._userTabIndex||0,this._changeDetectorRef.markForCheck()}))}_resetChips(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}_dropSubscriptions(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}_listenToChipsSelection(){this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(t=>{t.source.selected?this._selectionModel.select(t.source):this._selectionModel.deselect(t.source),this.multiple||this.chips.forEach(r=>{!this._selectionModel.isSelected(r)&&r.selected&&r.deselect()}),t.isUserInput&&this._propagateChanges()})}_listenToChipsFocus(){this._chipFocusSubscription=this.chipFocusChanges.subscribe(t=>{let r=this.chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&this._keyManager.updateActiveItem(r),this.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(()=>{this._blur(),this.stateChanges.next()})}_listenToChipsRemoved(){this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(t=>{const r=t.chip,i=this.chips.toArray().indexOf(t.chip);this._isValidIndex(i)&&r._hasFocus&&(this._lastDestroyedChipIndex=i)})}_originatesFromChip(t){let r=t.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-chip"))return!0;r=r.parentElement}return!1}_hasFocusedChip(){return this.chips&&this.chips.some(t=>t._hasFocus)}_syncChipsState(){this.chips&&this.chips.forEach(t=>{t._chipListDisabled=this._disabled,t._chipListMultiple=this.multiple})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Cd,8),s.Y36(Ib,8),s.Y36(Hp,8),s.Y36(vm),s.Y36(Qc,10))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-chip-list"]],contentQueries:function(t,r,i){if(1&t&&s.Suo(i,kS,5),2&t){let o;s.iGM(o=s.CRH())&&(r.chips=o)}},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(t,r){1&t&&s.NdJ("focus",function(){return r.focus()})("blur",function(){return r._blur()})("keydown",function(o){return r._keydown(o)}),2&t&&(s.Ikx("id",r._uid),s.uIk("tabindex",r.disabled?null:r._tabIndex)("aria-describedby",r._ariaDescribedby||null)("aria-required",r.role?r.required:null)("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-multiselectable",r.multiple)("role",r.role)("aria-orientation",r.ariaOrientation),s.ekj("mat-chip-list-disabled",r.disabled)("mat-chip-list-invalid",r.errorState)("mat-chip-list-required",r.required))},inputs:{errorStateMatcher:"errorStateMatcher",multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",tabIndex:"tabIndex"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[s._Bn([{provide:zT,useExisting:n}]),s.qOj],ngContentSelectors:U9,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(t,r){1&t&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove{border:none;-webkit-appearance:none;-moz-appearance:none;padding:0;background:none}.mat-standard-chip .mat-chip-remove.mat-icon,.mat-standard-chip .mat-chip-remove .mat-icon{width:18px;height:18px;font-size:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.cdk-high-contrast-active .mat-standard-chip.mat-chip-selected{outline-width:3px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden;transform:translateZ(0)}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),n})(),Y9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[vm,{provide:tz,useValue:{separatorKeyCodes:[13]}}],imports:[[Wr]]}),n})();function Q9(n,e){1&n&&(s.TgZ(0,"div"),s.TgZ(1,"div",3),s._uU(2,"\u{1f914}"),s.qZA(),s.qZA())}function X9(n,e){if(1&n&&(s.TgZ(0,"div"),s.TgZ(1,"div",4),s.TgZ(2,"b"),s._uU(3),s.qZA(),s._uU(4," total calories"),s.qZA(),s.qZA()),2&n){const t=s.oxw();s.xp6(3),s.Oqu(t.calculateTotalCalories())}}function J9(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"mat-chip-list",5),s.TgZ(2,"mat-chip"),s._uU(3),s.TgZ(4,"button",6),s.TgZ(5,"mat-icon",7),s.NdJ("click",function(){const o=s.CHM(t).$implicit;return s.oxw().removeIntake(o)}),s._uU(6,"cancel"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&n){const t=e.$implicit;s.xp6(3),s.AsE(" ",t.titleIntake," | ",t.intakeValue," cal. ")}}let eQ=(()=>{class n{constructor(t,r){this.serviceIntake=t,this._snackBar=r,this.currentIntakes=[],this.totalIntakes=0}ngOnInit(){}calculateTotalCalories(){return this.totalIntakes=0,this.currentIntakes.length>0&&this.currentIntakes.forEach(t=>{this.totalIntakes+=t.intakeValue}),this.totalIntakes}removeIntake(t){this.serviceIntake.deleteIntake(t.eventId),this.confirmDelete(t)}confirmDelete(t){this._snackBar.openFromComponent(rP,{duration:5e3,data:{text:"\u26d4 "+t.titleIntake+" supprim\xe9 --\x3e "+t.intakeValue+" cal. retir\xe9s du total journalier."}})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(MS),s.Y36(nP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-intakes-history"]],inputs:{currentIntakes:"currentIntakes"},decls:6,vars:3,consts:[[1,"historiqueContainer"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"textVide"],[1,"totalCaloriesText"],["aria-label","Intakes"],["matChipRemove",""],[3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"h2"),s._uU(2,"Historique journalier"),s.qZA(),s.YNc(3,Q9,3,0,"div",1),s.YNc(4,X9,5,1,"div",1),s.YNc(5,J9,7,2,"div",2),s.qZA()),2&t&&(s.xp6(3),s.Q6J("ngIf",0===r.currentIntakes.length),s.xp6(1),s.Q6J("ngIf",r.currentIntakes.length>0),s.xp6(1),s.Q6J("ngForOf",r.currentIntakes))},directives:[Xr,ls,nz,kS,ez,_b],styles:["h2[_ngcontent-%COMP%]{margin:20px 0}.textVide[_ngcontent-%COMP%]{font-size:25px}.totalCaloriesText[_ngcontent-%COMP%]{margin:10px 0 20px;font-size:18px}.historiqueContainer[_ngcontent-%COMP%]{margin:40px 0 0;padding:0 0 40px}"]}),n})();function tQ(n,e){1&n&&(s.TgZ(0,"h1"),s._uU(1,"OW ! STOP MANGER GROS PORC"),s.qZA())}function nQ(n,e){if(1&n&&(s.TgZ(0,"div",16),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.Q6J("ngStyle",t.getSpinnerTextStyle()),s.xp6(1),s.AsE(" ",t.getTotalCurrentIntakesFromSelectedUser()," / ",null==t.selectedPerson?null:t.selectedPerson.targetIntake," ")}}function rQ(n,e){if(1&n&&(s.TgZ(0,"div",17),s._uU(1),s.qZA()),2&n){const t=s.oxw(2);s.Q6J("ngStyle",t.getSpinnerTextStyle()),s.xp6(1),s.hij(" ",t.getCurrentSmiley()," ")}}function iQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div",1),s.TgZ(2,"div"),s._uU(3),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"form",3),s.YNc(6,tQ,2,0,"h1",0),s.TgZ(7,"div",4),s._UZ(8,"mat-progress-spinner",5),s._UZ(9,"mat-progress-spinner",6),s.qZA(),s.YNc(10,nQ,2,3,"div",7),s.YNc(11,rQ,2,2,"div",8),s.TgZ(12,"button",9),s.NdJ("click",function(){return s.CHM(t),s.oxw().goToScanner()}),s._uU(13," Scanner le code barre "),s.qZA(),s._UZ(14,"br"),s._UZ(15,"br"),s._UZ(16,"br"),s.TgZ(17,"p"),s.TgZ(18,"b"),s._uU(19,"OU"),s.qZA(),s.qZA(),s.TgZ(20,"mat-form-field",10),s.TgZ(21,"mat-label"),s._uU(22,"Titre de l'apport calorique"),s.qZA(),s._UZ(23,"input",11),s.TgZ(24,"button",12),s.NdJ("click",function(){return s.CHM(t),s.oxw().resetTitleIntake()}),s.TgZ(25,"mat-icon"),s._uU(26,"close"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(27,"mat-form-field",10),s.TgZ(28,"mat-label"),s._uU(29,"Montant calorique"),s.qZA(),s._UZ(30,"input",13),s.TgZ(31,"button",12),s.NdJ("click",function(){return s.CHM(t),s.oxw().resetIntakeValue()}),s.TgZ(32,"mat-icon"),s._uU(33,"close"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(34,"button",14),s.NdJ("click",function(){return s.CHM(t),s.oxw().ajouterApport()}),s._uU(35," Ajouter l'apport "),s.qZA(),s.qZA(),s._UZ(36,"app-intakes-history",15),s.qZA(),s.qZA()}if(2&n){const t=s.oxw();s.xp6(3),s.Oqu(t.getSelectedPerson().displayName),s.xp6(2),s.Q6J("formGroup",t.intakeFormGroup),s.xp6(1),s.Q6J("ngIf",t.isOverMaxIntake()),s.xp6(2),s.Q6J("color","warn")("diameter",t.spinnerDiameter)("strokeWidth",14)("mode","determinate")("value",100),s.xp6(1),s.Q6J("color",t.getColorStateOfSpinner())("diameter",t.spinnerDiameter)("strokeWidth",15)("mode","determinate")("value",t.getSpinnerProgressValue()),s.xp6(1),s.Q6J("ngIf",t.getTargetIntakeOfSelectedUser()>0),s.xp6(1),s.Q6J("ngIf",0===t.getTargetIntakeOfSelectedUser()),s.xp6(25),s.Q6J("currentIntakes",t.selectedUserIntakes)}}function sQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div",18),s.TgZ(2,"p",19),s._uU(3,"Il semblerait que vous n'ayez pas d'objectif calorique journalier ..."),s.qZA(),s.TgZ(4,"div",20),s._uU(5,"\u{1f914}"),s.qZA(),s.TgZ(6,"p",21),s._uU(7,"Fixez-vous en un pour commencer \xe0 utiliser le tracker !"),s.qZA(),s.TgZ(8,"form",3),s.TgZ(9,"mat-form-field",10),s.TgZ(10,"mat-label"),s._uU(11,"Objectif calorique journalier"),s.qZA(),s._UZ(12,"input",22),s.qZA(),s.TgZ(13,"button",23),s.NdJ("click",function(){return s.CHM(t),s.oxw().ajouterObjectif()}),s._uU(14," Confirmer cet objectif (YOLO) "),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&n){const t=s.oxw();s.xp6(8),s.Q6J("formGroup",t.targetIntakeSetupFormGroup)}}let oQ=(()=>{class n{constructor(t,r,i,o){var u,h;this._snackbar=i,this.router=o,this.selectedPerson=void 0,this.lastPersonSelected=void 0,this.currentIntakeValue=1200,this.maxIntakeForTheDay=1300,this.spinnerDiameter=250,this.items=[],this.itemForSelectedUser={nickname:"",currentIntake:"",targetIntake:""},this.selectedUserIntakes=[],this.sportiveSmileyAnimation=["\u{1f975}","\u{1f919}","\u{1f957}","\u{1f346}","\u{1f34c}","\u{1f345}","\u{1f680}","\u{1f3c6}","\u{1f947}","\u{1f6bf}","\u{1f373}","\u{1f3c3}","\u{1f938}"],this.indexRandomIcon=0,this.emojiSubscription=new qs.w0,this.intakeFormGroup=new k_({titleIntake:new Ch("",x_.minLength(1)),intakeValue:new Ch("",x_.min(1))}),this.targetIntakeSetupFormGroup=new k_({targetIntake:new Ch("",x_.minLength(1))}),this.serviceIntake=r,null===(u=this.serviceIntake.getAllIntakesDocuments())||void 0===u||u.subscribe(p=>{this.items=p}),null===(h=this.serviceIntake.getPersonConnectedInfos())||void 0===h||h.subscribe(p=>{this.selectedPerson=p.length>0?p[0]:{displayName:"",targetIntake:0}})}ngOnInit(){this.intakeFormGroup.reset({titleIntake:"",intakeValue:void 0});const t=function(n=0,e=Oc.z){return n<0&&(n=0),Cm(n,n,e)}(2e3);this.emojiSubscription=t.subscribe(r=>{this.indexRandomIcon=Math.trunc(Math.random()*(this.sportiveSmileyAnimation.length-1)+1-1)}),this.setIntakesFromSelectedUser()}resetTitleIntake(){this.intakeFormGroup.reset(Object.assign(Object.assign({},this.intakeFormGroup.value),{titleIntake:""}))}resetIntakeValue(){this.intakeFormGroup.reset(Object.assign(Object.assign({},this.intakeFormGroup.value),{intakeValue:void 0}))}resetAllForm(){this.intakeFormGroup.reset({titleIntake:"",intakeValue:void 0}),this.targetIntakeSetupFormGroup.reset({targetIntake:void 0})}getSpinnerProgressValue(){var t;return this.selectedPerson?this.getTotalCurrentIntakesFromSelectedUser()/(null===(t=this.selectedPerson)||void 0===t?void 0:t.targetIntake)*100:0}getColorStateOfSpinner(){return this.isOverMaxIntake()?"warn":"primary"}getSpinnerTextStyle(){return{"margin-top":"-"+(this.spinnerDiameter/2+16)+"px","padding-bottom":this.spinnerDiameter/2+26+"px"}}isOverMaxIntake(){return this.getTotalCurrentIntakesFromSelectedUser()>this.maxIntakeForTheDay}ajouterApport(){this.intakeFormGroup.value.intakeValue&&this.intakeFormGroup.value.titleIntake&&(this.serviceIntake.addIntakes(this.itemForSelectedUser.nickname,this.intakeFormGroup.value.intakeValue,this.intakeFormGroup.value.titleIntake),this.setItemsForSelectedUser(),this._snackbar.openFromComponent(rP,{duration:5e3,data:{text:"\u{1f374} "+this.intakeFormGroup.value.titleIntake+" ajout\xe9 --\x3e "+this.intakeFormGroup.value.intakeValue+" cal. ajout\xe9s au total journalier."}}),this.resetAllForm())}ajouterObjectif(){this.targetIntakeSetupFormGroup.value.targetIntake&&(this.serviceIntake.addTargetIntake(this.targetIntakeSetupFormGroup.value.targetIntake),this.setItemsForSelectedUser(),this.resetAllForm())}getTotalCurrentIntakesFromSelectedUser(){let t=0;return this.selectedUserIntakes.forEach(r=>{t+=r.intakeValue}),t}getSelectedPerson(){return JSON.parse(localStorage.getItem("user"))||{}}getTargetIntakeOfSelectedUser(){var t;return(null===(t=this.selectedPerson)||void 0===t?void 0:t.targetIntake)?this.selectedPerson.targetIntake:0}isUserLoggedAndWithoutTargetIntake(){return!!this.selectedPerson&&(void 0===this.selectedPerson.targetIntake||this.selectedPerson.targetIntake<=0)}getSmileyAnimation(){return this.sportiveSmileyAnimation[this.indexRandomIcon]}getCurrentSmiley(){return this.getSmileyAnimation()}setIntakesFromSelectedUser(){this.serviceIntake.getAllIntakesDocuments().subscribe(t=>{this.selectedUserIntakes=[],t.forEach(r=>{r.dateFormatted=r.date.toDate(),r.dateFormatted.getDate()===(new Date).getDate()&&r.dateFormatted.getMonth()===(new Date).getMonth()&&r.dateFormatted.getFullYear()===(new Date).getFullYear()&&this.selectedUserIntakes.push(r)})})}setItemsForSelectedUser(){this.items.forEach(t=>{t.nickname===this.selectedPerson&&(this.itemForSelectedUser=t)}),this.setIntakesFromSelectedUser()}goToScanner(){this.router.navigate(["scanner"])}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(nR),s.Y36(MS),s.Y36(nP),s.Y36(rs))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"selectionButtonContainer"],[1,"formIntake"],[3,"formGroup"],[1,"spinnerContainer"],[1,"progressSpinnerBackground",3,"color","diameter","strokeWidth","mode","value"],[1,"progressSpinner",3,"color","diameter","strokeWidth","mode","value"],["class","textInSpinner",3,"ngStyle",4,"ngIf"],["class","textInSpinnerNotSelected",3,"ngStyle",4,"ngIf"],["mat-raised-button","","aria-label","Scanner code barre",3,"click"],["appearance","standard"],["matInput","","type","text","formControlName","titleIntake"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["matInput","","type","number","formControlName","intakeValue"],["mat-raised-button","","aria-label","Ajouter cet apport",3,"click"],[3,"currentIntakes"],[1,"textInSpinner",3,"ngStyle"],[1,"textInSpinnerNotSelected",3,"ngStyle"],[1,"setTargetIntakeContainer"],[2,"font-size","20px"],[1,"textVide",2,"padding","20px 0 50px 0"],[2,"font-size","15px"],["matInput","","type","number","formControlName","targetIntake"],["mat-raised-button","","aria-label","Confirmer cet objectif (YOLO)",3,"click"]],template:function(t,r){1&t&&(s.YNc(0,iQ,37,16,"div",0),s.YNc(1,sQ,15,1,"div",0)),2&t&&(s.Q6J("ngIf",!r.isUserLoggedAndWithoutTargetIntake()),s.xp6(1),s.Q6J("ngIf",r.isUserLoggedAndWithoutTargetIntake()))},directives:[Xr,MR,bR,Hp,Qu,Vp,lj,GT,cj,yb,vR,jT,R8,_b,kR,eQ,$r],styles:["@keyframes circleAnimation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.formIntake[_ngcontent-%COMP%]{margin:auto;width:min-content;text-align:center}.formIntake[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.spinnerContainer[_ngcontent-%COMP%]{margin:35px 0 10px}.textInSpinner[_ngcontent-%COMP%]{position:relative;font-size:26px;text-align:center}.textInSpinnerNotSelected[_ngcontent-%COMP%]{margin:auto;width:80%;font-size:50px;text-align:center}.topButton[_ngcontent-%COMP%]{margin:10px}.progressSpinnerBackground[_ngcontent-%COMP%]{animation:circleAnimation linear 30s infinite;position:absolute}.selectionButtonContainer[_ngcontent-%COMP%]{margin:15px 0 2px;text-align:center;font-size:20px}  .spinnerContainer>.progressSpinnerBackground>svg>.mat-progress-spinner.mat-warn circle,   .mat-spinner.mat-warn circle{stroke:#0000004d;stroke-dasharray:17.9!important;overflow-x:hidden}.setTargetIntakeContainer[_ngcontent-%COMP%]{text-align:center;margin:auto;width:80vw}.setTargetIntakeContainer[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:nth-child(1){padding:10px 0}.textVide[_ngcontent-%COMP%]{font-size:40px}"]}),n})();const aQ=["*",[["mat-card-footer"]]],lQ=["*","mat-card-footer"],cQ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],uQ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let dQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),hQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),fQ=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),pQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),gQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),mQ=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(Da,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&s.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:lQ,decls:2,vars:0,template:function(t,r){1&t&&(s.F$t(aQ),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),_Q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:uQ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(s.F$t(cQ),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),yQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[Wr],Wr]}),n})();function vQ(n,e){if(1&n){const t=s.EpF();s.TgZ(0,"div"),s._uU(1," Il semblerait que vous ne soyez dans aucune \xe9quipe. "),s._UZ(2,"br"),s._uU(3," Vous pouvez cr\xe9er la votre si vous le souhaitez "),s.TgZ(4,"form",2),s.TgZ(5,"mat-form-field",3),s.TgZ(6,"mat-label"),s._uU(7,"Nom de l'\xe9quipe"),s.qZA(),s._UZ(8,"input",4),s.qZA(),s.TgZ(9,"button",5),s.NdJ("click",function(){return s.CHM(t),s.oxw().ajouterEquipe()}),s._uU(10," Cr\xe9er l'\xe9quipe "),s.qZA(),s.qZA(),s.qZA()}if(2&n){const t=s.oxw();s.xp6(4),s.Q6J("formGroup",t.createTeamFormGroup)}}const bQ=function(n){return[n]};function wQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.TgZ(1,"mat-card"),s.TgZ(2,"mat-card-header"),s._UZ(3,"div",8),s.TgZ(4,"mat-card-title"),s._uU(5),s.qZA(),s.TgZ(6,"mat-card-subtitle"),s._uU(7,":("),s.qZA(),s.qZA(),s._UZ(8,"img",9),s.TgZ(9,"mat-card-actions"),s.TgZ(10,"button",10),s._uU(11,"Membres"),s.qZA(),s.TgZ(12,"button",11),s._uU(13,"Modifier"),s.qZA(),s.qZA(),s.qZA(),s._UZ(14,"div",12),s.qZA()),2&n){const t=e.$implicit;s.xp6(5),s.Oqu(t.teamName),s.xp6(5),s.Q6J("routerLink",s.VKq(4,bQ,t.eventId))("color","primary"),s.xp6(2),s.Q6J("disabled",!0)}}function EQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.TgZ(1,"h2"),s._uU(2,"Vos \xe9quipes"),s.qZA(),s.TgZ(3,"div",6),s.TgZ(4,"i"),s._uU(5,"C'est toujours mieux d'avancer ensemble"),s.qZA(),s.qZA(),s.YNc(6,wQ,15,6,"div",7),s.qZA()),2&n){const t=s.oxw();s.xp6(6),s.Q6J("ngForOf",t.teams)}}let CQ=(()=>{class n{constructor(t){this.serviceIntakes=t,this.userTeams=void 0,this.teams=[],this.createTeamFormGroup=new k_({teamName:new Ch("",x_.minLength(1))})}ngOnInit(){this.getTeamsFromConnectedUser()}resetAllForms(){this.createTeamFormGroup.reset({teamName:""})}ajouterEquipe(){this.createTeamFormGroup.invalid||(this.serviceIntakes.addNewTeam(this.createTeamFormGroup.value.teamName),this.getTeamsFromConnectedUser(),this.resetAllForms())}getTeamsFromConnectedUser(){var t;null===(t=this.serviceIntakes.getAllTeamsForUser())||void 0===t||t.subscribe(r=>{r.forEach(i=>{var o;null===(o=this.serviceIntakes.getTeamFromOwnerId(i.ownerUid))||void 0===o||o.subscribe(u=>{this.teams=u})}),this.userTeams=r})}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(MS))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:3,vars:2,consts:[[1,"teamTrackerContainer"],[4,"ngIf"],[3,"formGroup"],["appearance","standard"],["matInput","","type","text","formControlName","teamName"],["mat-raised-button","","aria-label","Cr\xe9er l'\xe9quipe",3,"click"],[1,"subtitleTeam"],[4,"ngFor","ngForOf"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","src","https://www.signupgenius.com/images/new-landing/sports/get-started-background.jpg","alt","Happy smiling team"],["mat-raised-button","",3,"routerLink","color"],["mat-button","",3,"disabled"],[1,"card-separator"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,vQ,11,1,"div",1),s.YNc(2,EQ,7,1,"div",1),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",void 0!==r.userTeams&&0===r.userTeams.length),s.xp6(1),s.Q6J("ngIf",r.teams.length>0))},directives:[Xr,MR,bR,Hp,lj,GT,cj,yb,vR,jT,Vp,ls,mQ,_Q,gQ,dQ,hQ,pQ,fQ,bd],styles:[".teamTrackerContainer[_ngcontent-%COMP%]{margin:auto}.card-separator[_ngcontent-%COMP%]{width:100%;height:30px}h2[_ngcontent-%COMP%], div[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}mat-card[_ngcontent-%COMP%]{width:80vw;margin:auto}.subtitleTeam[_ngcontent-%COMP%]{width:100vw;text-align:center;margin-bottom:10px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://i1.sndcdn.com/artworks-BUOQ4gYsZfCCcg4I-YocETQ-t500x500.jpg);background-size:cover}"]}),n})();const IQ=["primaryValueBar"],TQ=Fu(class{constructor(n){this._elementRef=n}},"primary"),SQ=new s.OlP("mat-progress-bar-location",{providedIn:"root",factory:function(){const n=(0,s.f3M)(H),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),AQ=new s.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let xQ=0,MQ=(()=>{class n extends TQ{constructor(t,r,i,o,u,h){super(t),this._ngZone=r,this._animationMode=i,this._changeDetectorRef=h,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new s.vpe,this._animationEndSubscription=qs.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+xQ++;const p=o?o.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===i,u&&(u.color&&(this.color=this.defaultColor=u.color),this.mode=u.mode||this.mode)}get value(){return this._value}set value(t){var r;this._value=rz(Mi(t)||0),null==(r=this._changeDetectorRef)||r.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(t){var r;this._bufferValue=rz(t||0),null==(r=this._changeDetectorRef)||r.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=this._primaryValueBar.nativeElement;this._animationEndSubscription=ol(t,"transitionend").pipe(Fn(r=>r.target===t)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Da,8),s.Y36(SQ,8),s.Y36(AQ,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(t,r){if(1&t&&s.Gf(IQ,5),2&t){let i;s.iGM(i=s.CRH())&&(r._primaryValueBar=i.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(t,r){2&t&&(s.uIk("aria-valuenow","indeterminate"===r.mode||"query"===r.mode?null:r.value)("mode",r.mode),s.ekj("_mat-animation-noopable",r._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[s.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.O4$(),s.TgZ(1,"svg",1),s.TgZ(2,"defs"),s.TgZ(3,"pattern",2),s._UZ(4,"circle",3),s.qZA(),s.qZA(),s._UZ(5,"rect",4),s.qZA(),s.kcU(),s._UZ(6,"div",5),s._UZ(7,"div",6,7),s._UZ(9,"div",8),s.qZA()),2&t&&(s.xp6(3),s.Q6J("id",r.progressbarId),s.xp6(2),s.uIk("fill",r._rectangleFillValue),s.xp6(1),s.Q6J("ngStyle",r._bufferTransform()),s.xp6(1),s.Q6J("ngStyle",r._primaryTransform()))},directives:[$r],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function rz(n,e=0,t=100){return Math.max(e,Math.min(t,n))}let kQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ye,Wr],Wr]}),n})();function RQ(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"mat-progress-bar",6),s.qZA()),2&n){const t=s.oxw().$implicit,r=s.oxw();s.xp6(1),s.Q6J("value",r.getValueForUser(t))}}function OQ(n,e){if(1&n&&(s.TgZ(0,"div"),s._UZ(1,"mat-progress-bar",7),s.qZA()),2&n){const t=s.oxw().$implicit,r=s.oxw();s.xp6(1),s.Q6J("value",r.getValueForUser(t))("color","warn")}}function PQ(n,e){if(1&n&&(s.TgZ(0,"div"),s.TgZ(1,"h3"),s._uU(2),s.qZA(),s.YNc(3,RQ,2,1,"div",4),s.YNc(4,OQ,2,2,"div",4),s.TgZ(5,"div",5),s._uU(6),s.qZA(),s.qZA()),2&n){const t=e.$implicit,r=s.oxw();s.xp6(2),s.Oqu(t.displayName),s.xp6(1),s.Q6J("ngIf",r.getValueForUser(t)<=100),s.xp6(1),s.Q6J("ngIf",r.getValueForUser(t)>100),s.xp6(2),s.AsE(" ",r.getTotalCurrentIntakesFromSelectedUser(t.intakes)," / ",t.targetIntake," ")}}let NQ=(()=>{class n{constructor(t,r){this.serviceIntake=t,this.route=r,this.teamId=void 0,this.teamMembers=[]}ngOnInit(){this.teamId=this.route.snapshot.paramMap.get("id"),this.serviceIntake.getTeamMembersWithTeamId(this.teamId).subscribe(t=>{t.forEach(r=>{this.serviceIntake.getUserByUid(r.memberUid).subscribe(i=>{const o=i[0];this.serviceIntake.getAllIntakesDocumentsByUid(r.memberUid).subscribe(u=>{const h=[];u.forEach(y=>{y.dateFormatted=y.date.toDate(),y.dateFormatted.getDate()===(new Date).getDate()&&y.dateFormatted.getMonth()===(new Date).getMonth()&&y.dateFormatted.getFullYear()===(new Date).getFullYear()&&h.push(y)});let p=-1;for(let y=0;y<this.teamMembers.length;y++)this.teamMembers[y].uid===o.uid&&(p=y);-1!==p?this.teamMembers[p]=Object.assign(Object.assign({},o),{intakes:h}):this.teamMembers.push(Object.assign(Object.assign({},o),{intakes:h}))})})})})}getTotalCurrentIntakesFromSelectedUser(t){if(t){let r=0;return t.forEach(i=>{r+=i.intakeValue}),r}return 0}getValueForUser(t){return this.getTotalCurrentIntakesFromSelectedUser(t.intakes)/t.targetIntake*100}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(MS),s.Y36(Ic))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-team-tracker-progress"]],decls:10,vars:2,consts:[[1,"goBackArrow"],["mat-icon-button","","aria-label","Menu",1,"buttonMenu",3,"routerLink"],[1,"membersContainer"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"membersContainer","statusBarNumber"],["mode","determinate",3,"value"],["mode","determinate",3,"value","color"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"button",1),s.TgZ(2,"mat-icon"),s._uU(3," keyboard_arrow_left "),s.qZA(),s.TgZ(4,"mat-icon"),s._uU(5," keyboard_arrow_left "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"div",2),s.TgZ(7,"h2"),s._uU(8,"Progression de l'\xe9quipe"),s.qZA(),s.YNc(9,PQ,7,5,"div",3),s.qZA()),2&t&&(s.xp6(1),s.Q6J("routerLink","/teamTracking"),s.xp6(8),s.Q6J("ngForOf",r.teamMembers))},directives:[Vp,bd,_b,ls,Xr,MQ],styles:[".goBackArrow[_ngcontent-%COMP%]{position:absolute}mat-icon[_ngcontent-%COMP%]{width:10px}.membersContainer[_ngcontent-%COMP%]{width:95vw;margin:auto}h2[_ngcontent-%COMP%]{text-align:center}h3[_ngcontent-%COMP%]{margin:0}.statusBarNumber[_ngcontent-%COMP%]{text-align:right}"]}),n})(),FQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ye,Ed.forChild([{path:"tracker",component:oQ,canActivate:[IT]},{path:"teamTracking",component:CQ,canActivate:[IT]},{path:"teamTracking/:id",component:NQ,canActivate:[IT]}]),dj,BR,gR,Y9,o8,a8,Al,QV,yv,aR,uj,gR,yQ,kQ]]}),n})(),LQ=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){}connectWithGoogle(){this.authService.signInWithGoogle()}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(CT))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-authentication"]],decls:2,vars:0,consts:[["mat-button","",3,"click"]],template:function(t,r){1&t&&(s.TgZ(0,"a",0),s.NdJ("click",function(){return r.connectWithGoogle()}),s._uU(1,"Connect with GOOGLE"),s.qZA())},directives:[LV],styles:[""]}),n})();var BQ=A(4762),VQ=A(2501),uc=A.n(VQ),UQ=A(5477),jQ=A.n(UQ);const HQ=["BarcodeScanner"],zQ={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},GQ=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function iz(n){if(!GQ.some(e=>e===n))throw new Error(`This barcode type '${n}' is not valid.`)}function sz(n){return`${n}_reader`}let oz=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new Yt.x,this.valueChanges=new s.vpe,this.started=new s.vpe,this._started=!1,this._destroyed=new Yt.x,this._valueChanges.pipe(Ur(this._destroyed),Fn(t=>{const r=t.codeResult.decodedCodes.filter(o=>void 0!==o.error).map(o=>o.error),i=this._getMedian(r);return!this.errorFilter||!(this.errorFilter.median&&i>this.errorFilter.median||this.errorFilter.threshold&&r.some(o=>o>this.errorFilter.threshold))})).subscribe(t=>{const r=uc().canvas.ctx.overlay;uc().ImageDebug.drawPath(t.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,r)=>{uc().onProcessed(i=>this.onProcessed(i)),uc().onDetected(i=>this.onDetected(i)),this.configQuagga=jQ()({},this.config,zQ),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function(n){return"string"==typeof n?(iz(n),[sz(n)]):n.map(e=>(iz(e),sz(e)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),uc().init(this.configQuagga,i=>{if(i)return console.log(i),r(i);t()})})}_getMedian(t){t.sort((i,o)=>i-o);const r=Math.floor(t.length/2);return t.length%2==1?t[r]:(t[r-1]+t[r])/2}start(){return(0,BQ.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),uc().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(uc().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){const r=uc().canvas.ctx.overlay,i=uc().canvas.dom.overlay;t&&(t.boxes&&(r.clearRect(0,0,parseInt(i.getAttribute("width"),10),parseInt(i.getAttribute("height"),10)),t.boxes.filter(o=>o!==t.box).forEach(o=>{uc().ImageDebug.drawPath(o,{x:0,y:1},r,{color:"green",lineWidth:2})})),t.box&&uc().ImageDebug.drawPath(t.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,r){if(1&t&&s.Gf(HQ,5),2&t){let i;s.iGM(i=s.CRH())&&(r.barcodeScanner=i.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[s.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0,1),s._UZ(2,"video"),s._UZ(3,"canvas",2),s.qZA()),2&t&&(s.Udp("max-height",r._maxHeight)("max-width",r._maxWidth),s.Q6J("hidden",!r.isStarted),s.xp6(2),s.Udp("max-height",r._maxHeight)("max-width",r._maxWidth),s.xp6(1),s.Udp("max-height",r._maxHeight)("max-width",r._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),WQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[ye]]}),n})();const qQ=function(){return["code_128","code_39","ean_8","ean"]},ZQ=function(){return{median:.08,threshold:.1}},KQ=[{path:"authentication",component:LQ},{path:"scanner",component:(()=>{class n{constructor(t){this._snackBar=t,this.barcodeValue=void 0}ngOnInit(){}ngAfterViewInit(){var t;null===(t=this.barcodeScanner)||void 0===t||t.start()}onValueChanges(t){this.barcodeValue=t.codeResult.code,this._snackBar.openFromComponent(rP,{duration:5e3,data:{text:"Code : "+this.barcodeValue}})}onStarted(t){console.log(t)}}return n.\u0275fac=function(t){return new(t||n)(s.Y36(nP))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],viewQuery:function(t,r){if(1&t&&s.Gf(oz,5),2&t){let i;s.iGM(i=s.CRH())&&(r.barcodeScanner=i.first)}},decls:3,vars:6,consts:[[3,"type","errorFilter","valueChanges","started"],[3,"hidden"]],template:function(t,r){1&t&&(s.TgZ(0,"barcode-scanner-livestream",0),s.NdJ("valueChanges",function(o){return r.onValueChanges(o)})("started",function(){return r.onStarted}),s.qZA(),s.TgZ(1,"div",1),s._uU(2),s.qZA()),2&t&&(s.Q6J("type",s.DdM(4,qQ))("errorFilter",s.DdM(5,ZQ)),s.xp6(1),s.Q6J("hidden",!r.barcodeValue),s.xp6(1),s.hij(" ",r.barcodeValue,"\n"))},directives:[oz],styles:[""]}),n})()},{path:"",redirectTo:"tracker",pathMatch:"full"},{path:"**",component:s9}];let YQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[p5]}),n.\u0275inj=s.cJS({providers:[CT],imports:[[Al,QV,sf,yv,uj,gR,aR,s5,dj,Ix.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),gs.hO.initializeApp({apiKey:"AIzaSyDwY0ustgrbdUrkt0FXwseq89vcH_zirJo",authDomain:"personnaltrack.firebaseapp.com",projectId:"personnaltrack",storageBucket:"personnaltrack.appspot.com",messagingSenderId:"588509586658",appId:"1:588509586658:web:334cb1ed45319ff2592abb",measurementId:"G-G9PZNFDF99"}),i9,T4,Wd,Ed.forRoot(KQ),a9,FQ,KH,WQ]]}),n})();(0,s.G48)(),fc().bootstrapModule(YQ).catch(n=>console.error(n))},9162:(bt,C,A)=>{"use strict";function Y(K,L,j,X){return new(j||(j=Promise))(function(J,Ae){function Ke(Ge){try{rt(X.next(Ge))}catch(Ye){Ae(Ye)}}function pt(Ge){try{rt(X.throw(Ge))}catch(Ye){Ae(Ye)}}function rt(Ge){Ge.done?J(Ge.value):function(J){return J instanceof j?J:new j(function(Ae){Ae(J)})}(Ge.value).then(Ke,pt)}rt((X=X.apply(K,L||[])).next())})}function Ee(K){return this instanceof Ee?(this.v=K,this):new Ee(K)}function de(K,L,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,X=j.apply(K,L||[]),J=[];return re={},Ae("next"),Ae("throw"),Ae("return"),re[Symbol.asyncIterator]=function(){return this},re;function Ae(Dt){X[Dt]&&(re[Dt]=function(Bt){return new Promise(function(hn,wt){J.push([Dt,Bt,hn,wt])>1||Ke(Dt,Bt)})})}function Ke(Dt,Bt){try{!function(Dt){Dt.value instanceof Ee?Promise.resolve(Dt.value.v).then(rt,Ge):Ye(J[0][2],Dt)}(X[Dt](Bt))}catch(hn){Ye(J[0][3],hn)}}function rt(Dt){Ke("next",Dt)}function Ge(Dt){Ke("throw",Dt)}function Ye(Dt,Bt){Dt(Bt),J.shift(),J.length&&Ke(J[0][0],J[0][1])}}function Oe(K){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,L=K[Symbol.asyncIterator];return L?L.call(K):(K=function(K){var L="function"==typeof Symbol&&Symbol.iterator,j=L&&K[L],X=0;if(j)return j.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&X>=K.length&&(K=void 0),{value:K&&K[X++],done:!K}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")}(K),j={},X("next"),X("throw"),X("return"),j[Symbol.asyncIterator]=function(){return this},j);function X(J){j[J]=K[J]&&function(Ae){return new Promise(function(Ke,pt){!function(J,Ae,Ke,pt){Promise.resolve(pt).then(function(rt){J({value:rt,done:Ke})},Ae)}(Ke,pt,(Ae=K[J](Ae)).done,Ae.value)})}}}A.d(C,{mG:()=>Y,qq:()=>Ee,FC:()=>de,KL:()=>Oe})},4762:(bt,C,A)=>{"use strict";function x(L,j){var X={};for(var re in L)Object.prototype.hasOwnProperty.call(L,re)&&j.indexOf(re)<0&&(X[re]=L[re]);if(null!=L&&"function"==typeof Object.getOwnPropertySymbols){var J=0;for(re=Object.getOwnPropertySymbols(L);J<re.length;J++)j.indexOf(re[J])<0&&Object.prototype.propertyIsEnumerable.call(L,re[J])&&(X[re[J]]=L[re[J]])}return X}function Y(L,j,X,re){return new(X||(X=Promise))(function(Ae,Ke){function pt(Ye){try{Ge(re.next(Ye))}catch(Dt){Ke(Dt)}}function rt(Ye){try{Ge(re.throw(Ye))}catch(Dt){Ke(Dt)}}function Ge(Ye){Ye.done?Ae(Ye.value):function(Ae){return Ae instanceof X?Ae:new X(function(Ke){Ke(Ae)})}(Ye.value).then(pt,rt)}Ge((re=re.apply(L,j||[])).next())})}A.d(C,{_T:()=>x,mG:()=>Y})},3668:(bt,C,A)=>{"use strict";A.d(C,{deG:()=>Ga,tb:()=>jv,AFp:()=>_s,ip1:()=>Xd,CZH:()=>Vu,hGG:()=>p0,z2F:()=>Uu,sBO:()=>Jv,Sil:()=>Fm,_Vd:()=>$d,EJc:()=>QC,SBq:()=>qf,qLn:()=>tf,vpe:()=>nc,tBr:()=>Br,XFs:()=>Zt,OlP:()=>wr,zs3:()=>Ia,ZZ4:()=>ip,aQg:()=>ju,soG:()=>Jd,YKP:()=>Cm,h0i:()=>qd,PXZ:()=>tI,R0b:()=>Ns,FiY:()=>Yn,Lbi:()=>Nm,g9A:()=>Uv,n_E:()=>Kf,Qsj:()=>px,FYo:()=>Ev,JOm:()=>Qa,q3G:()=>Vr,tp0:()=>ds,Rgc:()=>Lu,dDg:()=>eI,q4F:()=>Cv,GfV:()=>ol,s_b:()=>xm,ifc:()=>kt,eFA:()=>rI,G48:()=>oI,Gpc:()=>te,f3M:()=>ft,X6Q:()=>aM,_c5:()=>sp,VLi:()=>iM,c2e:()=>Hv,zSh:()=>zw,wAp:()=>on,vHH:()=>Ue,EiD:()=>yd,mCW:()=>ql,qzn:()=>Tc,JVY:()=>Eu,pB0:()=>ny,eBb:()=>hg,L6k:()=>Cu,LAX:()=>Kh,cg1:()=>Uf,kL8:()=>jf,yhl:()=>Wl,dqk:()=>Cn,sIi:()=>zg,CqO:()=>yE,QGY:()=>ec,F4k:()=>Bd,RDi:()=>Jt,AaK:()=>Y,z3N:()=>ba,qOj:()=>Ly,TTD:()=>ae,_Bn:()=>IC,xp6:()=>Id,uIk:()=>Vy,ekj:()=>Ff,Suo:()=>Nx,Xpm:()=>an,lG2:()=>yt,Yz7:()=>wt,cJS:()=>sn,oAB:()=>Re,Yjl:()=>Qt,Y36:()=>Fc,_UZ:()=>mE,GkF:()=>ev,BQk:()=>Xg,ynx:()=>rl,qZA:()=>Ld,TgZ:()=>Af,EpF:()=>Sa,n5z:()=>Ll,Ikx:()=>hm,LFG:()=>Te,$8M:()=>rr,$Z:()=>Sf,NdJ:()=>Mf,CRH:()=>Fx,kcU:()=>W_,O4$:()=>cu,oxw:()=>bE,Hsn:()=>eo,F$t:()=>tv,Q6J:()=>Qg,DdM:()=>xv,VKq:()=>Mv,iGM:()=>Ox,MAs:()=>Nd,CHM:()=>yo,LSH:()=>yg,Udp:()=>jd,WFA:()=>Jg,d8E:()=>gv,YNc:()=>Hy,_uU:()=>FE,Oqu:()=>am,hij:()=>Bf,AsE:()=>lv,Gf:()=>Px});var s=A(273),b=A(7908),v=A(8305),x=A(3719),O=A(3174);function B(a){for(let l in a)if(a[l]===B)return l;throw Error("Could not find renamed property on target object.")}function H(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function Y(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Y).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function ee(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const Q=B({__forward_ref__:B});function te(a){return a.__forward_ref__=te,a.toString=function(){return Y(this())},a}function me(a){return Ze(a)?a():a}function Ze(a){return"function"==typeof a&&a.hasOwnProperty(Q)&&a.__forward_ref__===te}class Ue extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function de(a){return"string"==typeof a?a:null==a?"":String(a)}function ce(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():de(a)}function be(a,l){const c=l?` in ${l}`:"";throw new Ue("201",`No provider for ${ce(a)} found${c}`)}function Ge(a,l){null==a&&function(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function wt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function sn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Rr(a){return Or(a,Yr)||Or(a,Ci)}function Or(a,l){return a.hasOwnProperty(l)?a[l]:null}function Ei(a){return a&&(a.hasOwnProperty(gr)||a.hasOwnProperty(hi))?a[gr]:null}const Yr=B({\u0275prov:B}),gr=B({\u0275inj:B}),Ci=B({ngInjectableDef:B}),hi=B({ngInjectorDef:B});var Zt=(()=>((Zt=Zt||{})[Zt.Default=0]="Default",Zt[Zt.Host=1]="Host",Zt[Zt.Self=2]="Self",Zt[Zt.SkipSelf=4]="SkipSelf",Zt[Zt.Optional=8]="Optional",Zt))();let Mn;function Zn(a){const l=Mn;return Mn=a,l}function Un(a,l,c){const d=Rr(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&Zt.Optional?null:void 0!==l?l:void be(Y(a),"Injector")}function Jn(a){return{toString:a}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),kt=(()=>{return(a=kt||(kt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",kt;var a})();const Rt="undefined"!=typeof globalThis&&globalThis,ri="undefined"!=typeof window&&window,ii="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Cn=Rt||"undefined"!=typeof global&&global||ri||ii,De={},Ce=[],ke=B({\u0275cmp:B}),et=B({\u0275dir:B}),Se=B({\u0275pipe:B}),Ve=B({\u0275mod:B}),ot=B({\u0275fac:B}),mt=B({__NG_ELEMENT_ID__:B});let Wt=0;function an(a){return Jn(()=>{const c={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||Ce,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||kt.Emulated,id:"c",styles:a.styles||Ce,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,w=a.pipes;return d.id+=Wt++,d.inputs=st(a.inputs,c),d.outputs=st(a.outputs),g&&g.forEach(I=>I(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Xt):null,d.pipeDefs=w?()=>("function"==typeof w?w():w).map(_r):null,d})}function Xt(a){return zt(a)||function(a){return a[et]||null}(a)}function _r(a){return function(a){return a[Se]||null}(a)}const He={};function Re(a){return Jn(()=>{const l={type:a.type,bootstrap:a.bootstrap||Ce,declarations:a.declarations||Ce,imports:a.imports||Ce,exports:a.exports||Ce,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(He[a.id]=a.type),l})}function st(a,l){if(null==a)return De;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,l&&(l[f]=g)}return c}const yt=an;function Qt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function zt(a){return a[ke]||null}function zn(a,l){const c=a[Ve]||null;if(!c&&!0===l)throw new Error(`Type ${Y(a)} does not have '\u0275mod' property.`);return c}function Jr(a){return Array.isArray(a)&&"object"==typeof a[1]}function li(a){return Array.isArray(a)&&!0===a[1]}function co(a){return 0!=(8&a.flags)}function Qi(a){return 2==(2&a.flags)}function uo(a){return 1==(1&a.flags)}function $r(a){return null!==a.template}function sa(a){return 0!=(512&a[2])}function F(a,l){return a.hasOwnProperty(ot)?a[ot]:null}class U{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ae(){return pe}function pe(a){return a.type.prototype.ngOnChanges&&(a.setInput=ye),ue}function ue(){const a=z(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===De)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function ye(a,l,c,d){const f=z(a)||function(a,l){return a[Fe]=l}(a,{previous:De,current:null}),g=f.current||(f.current={}),w=f.previous,I=this.declaredInputs[c],M=w[I];g[I]=new U(M&&M.currentValue,l,w===De),a[d]=l}ae.ngInherit=!0;const Fe="__ngSimpleChanges__";function z(a){return a[Fe]||null}const At="http://www.w3.org/2000/svg";let Nt;function Jt(a){Nt=a}function wn(a){return!!a.listen}const mo={createRenderer:(a,l)=>void 0!==Nt?Nt:"undefined"!=typeof document?document:void 0};function ur(a){for(;Array.isArray(a);)a=a[0];return a}function ca(a,l){return ur(l[a])}function ci(a,l){return ur(l[a.index])}function Vo(a,l){return a.data[l]}function qn(a,l){const c=l[a];return Jr(c)?c:c[0]}function yl(a){return 4==(4&a[2])}function ua(a){return 128==(128&a[2])}function Di(a,l){return null==l?null:a[l]}function hc(a){a[18]=0}function Uo(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const en={lFrame:xl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function iu(){return en.bindingsEnabled}function ut(){return en.lFrame.lView}function On(){return en.lFrame.tView}function yo(a){return en.lFrame.contextLView=a,a[8]}function Pr(){let a=Cl();for(;null!==a&&64===a.type;)a=a.parent;return a}function Cl(){return en.lFrame.currentTNode}function pi(a,l){const c=en.lFrame;c.currentTNode=a,c.isParent=l}function su(){return en.lFrame.isParent}function da(){en.lFrame.isParent=!1}function La(){return en.isInCheckNoChangesMode}function Il(a){en.isInCheckNoChangesMode=a}function gi(){const a=en.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function zo(){return en.lFrame.bindingIndex++}function Gs(a){const l=en.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Dl(a,l){const c=en.lFrame;c.bindingIndex=c.bindingRootIndex=a,ha(l)}function ha(a){en.lFrame.currentDirectiveIndex=a}function fc(a){const l=en.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Ba(){return en.lFrame.currentQueryIndex}function Al(a){en.lFrame.currentQueryIndex=a}function pc(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function id(a,l,c){if(c&Zt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||c&Zt.Host||(f=pc(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=en.lFrame=gc();return d.currentTNode=l,d.lView=a,!0}function ou(a){const l=gc(),c=a[1];en.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function gc(){const a=en.lFrame,l=null===a?null:a.child;return null===l?xl(a):l}function xl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function au(){const a=en.lFrame;return en.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const fa=au;function mc(){const a=au();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function vr(){return en.lFrame.selectedIndex}function Go(a){en.lFrame.selectedIndex=a}function br(){const a=en.lFrame;return Vo(a.tView,a.selectedIndex)}function cu(){en.lFrame.currentNamespace=At}function W_(){en.lFrame.currentNamespace=null}function Ml(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:I,ngAfterViewInit:M,ngAfterViewChecked:V,ngOnDestroy:$}=g;w&&(a.contentHooks||(a.contentHooks=[])).push(-c,w),I&&((a.contentHooks||(a.contentHooks=[])).push(c,I),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,I)),M&&(a.viewHooks||(a.viewHooks=[])).push(-c,M),V&&((a.viewHooks||(a.viewHooks=[])).push(c,V),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,V)),null!=$&&(a.destroyHooks||(a.destroyHooks=[])).push(c,$)}}function uu(a,l,c){du(a,l,3,c)}function kl(a,l,c,d){(3&a[2])===c&&du(a,l,c,d)}function $o(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function du(a,l,c,d){const g=null!=d?d:-1,w=l.length-1;let I=0;for(let M=void 0!==d?65535&a[18]:0;M<w;M++)if("number"==typeof l[M+1]){if(I=l[M],null!=d&&I>=d)break}else l[M]<0&&(a[18]+=65536),(I<g||-1==g)&&(sd(a,c,l,M),a[18]=(4294901760&a[18])+M+2),M++}function sd(a,l,c,d){const f=c[d]<0,g=c[d+1],I=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class Rl{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function dr(a,l,c){const d=wn(a);let f=0;for(;f<c.length;){const g=c[f];if("number"==typeof g){if(0!==g)break;f++;const w=c[f++],I=c[f++],M=c[f++];d?a.setAttribute(l,I,M,w):l.setAttributeNS(w,I,M)}else{const w=g,I=c[++f];Ct(w)?d&&a.setProperty(l,w,I):d?a.setAttribute(l,w,I):l.setAttribute(w,I),f++}}return f}function pa(a){return 3===a||4===a||6===a}function Ct(a){return 64===a.charCodeAt(0)}function Yt(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||ei(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function ei(a,l,c,d,f){let g=0,w=a.length;if(-1===l)w=-1;else for(;g<a.length;){const I=a[g++];if("number"==typeof I){if(I===l){w=-1;break}if(I>l){w=g-1;break}}}for(;g<a.length;){const I=a[g];if("number"==typeof I)break;if(I===c){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==w&&(a.splice(w,0,l),g=w+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function mr(a){return-1!==a}function ga(a){return 32767&a}function ja(a,l){let c=function(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let xr=!0;function Pl(a){const l=xr;return xr=a,l}let Vh=0;function qo(a,l){const c=Kn(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,bc(d.data,a),bc(l,null),bc(d.blueprint,null));const f=Nl(a,l),g=a.injectorIndex;if(mr(f)){const w=ga(f),I=ja(f,l),M=I[1].data;for(let V=0;V<8;V++)l[g+V]=I[w+V]|M[w+V]}return l[g+8]=f,g}function bc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Kn(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Nl(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){const g=f[1],w=g.type;if(d=2===w?g.declTNode:1===w?f[6]:null,null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function xs(a,l,c){!function(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(mt)&&(d=c[mt]),null==d&&(d=c[mt]=Vh++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function Ms(a,l,c){if(c&Zt.Optional)return a;be(l,"NodeInjector")}function Fl(a,l,c,d){if(c&Zt.Optional&&void 0===d&&(d=null),0==(c&(Zt.Self|Zt.Host))){const f=a[9],g=Zn(void 0);try{return f?f.get(l,d,c&Zt.Optional):Un(l,d,c&Zt.Optional)}finally{Zn(g)}}return Ms(d,l,c)}function ma(a,l,c,d=Zt.Default,f){if(null!==a){const g=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(mt)?a[mt]:void 0;return"number"==typeof l?l>=0?255&l:ad:l}(c);if("function"==typeof g){if(!id(l,a,d))return d&Zt.Host?Ms(f,c,d):Fl(l,c,d,f);try{const w=g(d);if(null!=w||d&Zt.Optional)return w;be(c)}finally{fa()}}else if("number"==typeof g){let w=null,I=Kn(a,l),M=-1,V=d&Zt.Host?l[16][6]:null;for((-1===I||d&Zt.SkipSelf)&&(M=-1===I?Nl(a,l):l[I+8],-1!==M&&Nr(d,!1)?(w=l[1],I=ga(M),l=ja(M,l)):I=-1);-1!==I;){const $=l[1];if(qs(g,I,$.data)){const he=vo(I,l,c,w,d,V);if(he!==$s)return he}M=l[I+8],-1!==M&&Nr(d,l[1].data[I+8]===V)&&qs(g,I,l)?(w=$,I=ga(M),l=ja(M,l)):I=-1}}}return Fl(l,c,d,f)}const $s={};function ad(){return new _a(Pr(),ut())}function vo(a,l,c,d,f,g){const w=l[1],I=w.data[a+8],$=mi(I,w,c,null==d?Qi(I)&&xr:d!=w&&0!=(3&I.type),f&Zt.Host&&g===I);return null!==$?Ws(l,w,$,I):$s}function mi(a,l,c,d,f){const g=a.providerIndexes,w=l.data,I=1048575&g,M=a.directiveStart,$=g>>20,xe=f?I+$:a.directiveEnd;for(let Be=d?I:I+$;Be<xe;Be++){const nt=w[Be];if(Be<M&&c===nt||Be>=M&&nt.type===c)return Be}if(f){const Be=w[M];if(Be&&$r(Be)&&Be.type===c)return M}return null}function Ws(a,l,c,d){let f=a[c];const g=l.data;if(function(a){return a instanceof Rl}(f)){const w=f;w.resolving&&function(a,l){throw new Ue("200",`Circular dependency in DI detected for ${a}`)}(ce(g[c]));const I=Pl(w.canSeeViewProviders);w.resolving=!0;const M=w.injectImpl?Zn(w.injectImpl):null;id(a,d,Zt.Default);try{f=a[c]=w.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const w=pe(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,w)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==M&&Zn(M),Pl(I),w.resolving=!1,fa()}}return f}function qs(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Nr(a,l){return!(a&Zt.Self||a&Zt.Host&&l)}class _a{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return ma(this._tNode,this._lView,l,d,c)}}function Ll(a){return Jn(()=>{const l=a.prototype.constructor,c=l[ot]||Fr(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[ot]||Fr(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Fr(a){return Ze(a)?()=>{const l=Fr(me(a));return l&&l()}:F(a)}function rr(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(pa(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===l)return c[f+1];f+=2}}}return null}(Pr(),a)}const bo="__parameters__";function er(a,l,c){return Jn(()=>{const d=function(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const w=new f(...g);return I.annotation=w,I;function I(M,V,$){const he=M.hasOwnProperty(bo)?M[bo]:Object.defineProperty(M,bo,{value:[]})[bo];for(;he.length<=$;)he.push(null);return(he[$]=he[$]||[]).push(w),M}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class wr{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=wt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ga=new wr("AnalyzeForEntryComponents");function ts(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),ts(d,l)):l!==a&&l.push(d)}return l}function Zs(a,l){a.forEach(c=>Array.isArray(c)?Zs(c,l):l(c))}function Ul(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function Zo(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function wo(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Ai(a,l,c){let d=Rs(a,l);return d>=0?a[1|d]=c:(d=~d,function(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function Ks(a,l){const c=Rs(a,l);if(c>=0)return a[1|c]}function Rs(a,l){return function(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const g=d+(f-d>>1),w=a[g<<c];if(l===w)return g<<c;w>l?f=g:d=g+1}return~(f<<c)}(a,l,1)}const Os={},dd="__NG_DI_FLAG__",Wa="ngTempTokenPath",yu=/\n/gm,vu="__source",k=B({provide:String,useValue:B});let P;function Z(a){const l=P;return P=a,l}function ve(a,l=Zt.Default){if(void 0===P)throw new Error("inject() must be called from an injection context");return null===P?Un(a,void 0,l):P.get(a,l&Zt.Optional?null:void 0,l)}function Te(a,l=Zt.Default){return(Mn||ve)(me(a),l)}const ft=Te;function It(a){const l=[];for(let c=0;c<a.length;c++){const d=me(a[c]);if(Array.isArray(d)){if(0===d.length)throw new Error("Arguments array must have arguments.");let f,g=Zt.Default;for(let w=0;w<d.length;w++){const I=d[w],M=un(I);"number"==typeof M?-1===M?f=I.token:g|=M:f=I}l.push(Te(f,g))}else l.push(Te(d))}return l}function rn(a,l){return a[dd]=l,a.prototype[dd]=l,a}function un(a){return a[dd]}const Br=rn(er("Inject",a=>({token:a})),-1),Yn=rn(er("Optional"),8),ds=rn(er("SkipSelf"),4);let Xs;function Gl(a){var l;return(null==(l=function(){if(void 0===Xs&&(Xs=null,Cn.trustedTypes))try{Xs=Cn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Xs}())?void 0:l.createHTML(a))||a}class Ya{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qh extends Ya{getTypeName(){return"HTML"}}class Zh extends Ya{getTypeName(){return"Style"}}class dg extends Ya{getTypeName(){return"Script"}}class wu extends Ya{getTypeName(){return"URL"}}class ty extends Ya{getTypeName(){return"ResourceURL"}}function ba(a){return a instanceof Ya?a.changingThisBreaksApplicationSecurity:a}function Tc(a,l){const c=Wl(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Wl(a){return a instanceof Ya&&a.getTypeName()||null}function Eu(a){return new qh(a)}function Cu(a){return new Zh(a)}function hg(a){return new dg(a)}function Kh(a){return new wu(a)}function ny(a){return new ty(a)}class ry{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(Gl(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class fg{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Gl(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Gl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const w=c.item(f).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&l.removeAttribute(w)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const gg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,iy=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ql(a){return(a=String(a)).match(gg)||a.match(iy)?a:"unsafe:"+a}function m(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function _(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const S=m("area,br,col,hr,img,wbr"),G=m("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),le=m("rp,rt"),jt=_(S,_(G,m("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_(le,m("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_(le,G)),yn=m("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Er=m("srcset"),Ea=_(yn,Er,m("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),m("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dc=m("script,style,template");class Qh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!jt.hasOwnProperty(c))return this.sanitizedSomething=!0,!Dc.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),w=g.name,I=w.toLowerCase();if(!Ea.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let M=g.value;yn[I]&&(M=ql(M)),Er[I]&&(a=M,M=(a=String(a)).split(",").map(l=>ql(l.trim())).join(", ")),this.buf.push(" ",w,'="',_d(M),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();jt.hasOwnProperty(c)&&!S.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(_d(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const Ac=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,md=/([^\#-~ |!])/g;function _d(a){return a.replace(/&/g,"&amp;").replace(Ac,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(md,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xc;function yd(a,l){let c=null;try{xc=xc||function(a){const l=new fg(a);return function(){try{return!!(new window.DOMParser).parseFromString(Gl(""),"text/html")}catch(a){return!1}}()?new ry(l):l}(a);let d=l?String(l):"";c=xc.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=xc.getInertBodyElement(d)}while(d!==g);return Gl((new Qh).sanitizeChildren(Iu(c)||c))}finally{if(c){const d=Iu(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Iu(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Vr=(()=>((Vr=Vr||{})[Vr.NONE=0]="NONE",Vr[Vr.HTML=1]="HTML",Vr[Vr.STYLE=2]="STYLE",Vr[Vr.SCRIPT=3]="SCRIPT",Vr[Vr.URL=4]="URL",Vr[Vr.RESOURCE_URL=5]="RESOURCE_URL",Vr))();function yg(a){const l=function(){const a=ut();return a&&a[12]}();return l?l.sanitize(Vr.URL,a)||"":Tc(a,"URL")?ba(a):ql(de(a))}const oy="__ngContext__";function ps(a,l){a[oy]=l}function ay(a){const l=function(a){return a[oy]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function cy(a){return a.ngOriginalError}function WS(a,...l){a.error(...l)}class tf{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),d=(a=l)&&a.ngErrorLogger||WS;var a;d(this._console,"ERROR",l),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&cy(l);for(;c&&cy(c);)c=cy(c);return c||null}}const iw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Cn))();function Ca(a){return a instanceof Function?a():a}var Qa=(()=>((Qa=Qa||{})[Qa.Important=1]="Important",Qa[Qa.DashCase=2]="DashCase",Qa))();function nf(a,l){return undefined(a,l)}function rf(a){const l=a[3];return li(l)?l[3]:l}function fy(a){return cw(a[13])}function py(a){return cw(a[4])}function cw(a){for(;null!==a&&!li(a);)a=a[4];return a}function Du(a,l,c,d,f){if(null!=d){let g,w=!1;li(d)?g=d:Jr(d)&&(w=!0,d=d[0]);const I=ur(d);0===a&&null!==c?null==f?dw(l,c,I):Au(l,c,I,f||null,!0):1===a&&null!==c?Au(l,c,I,f||null,!0):2===a?function(a,l,c){const d=xg(a,l);d&&function(a,l,c,d){wn(a)?a.removeChild(l,c,d):l.removeChild(c)}(a,d,l,c)}(l,I,w):3===a&&l.destroyNode(I),null!=g&&function(a,l,c,d,f){const g=c[7];g!==ur(c)&&Du(l,a,d,g,f);for(let I=10;I<c.length;I++){const M=c[I];sf(M[1],M,a,l,d,g)}}(l,a,g,c,f)}}function my(a,l,c){return wn(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function _y(a,l){const c=a[9],d=c.indexOf(l),f=l[3];1024&l[2]&&(l[2]&=-1025,Uo(f,-1)),c.splice(d,1)}function yy(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&_y(f,d),l>0&&(a[c-1][4]=d[4]);const g=Zo(a,10+l);!function(a,l){sf(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const w=g[19];null!==w&&w.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function vy(a,l){if(!(256&l[2])){const c=l[11];wn(c)&&c.destroyNode&&sf(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return Ag(a[1],a);for(;l;){let c=null;if(Jr(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Jr(l)&&Ag(l[1],l),l=l[3];null===l&&(l=a),Jr(l)&&Ag(l[1],l),c=l&&l[4]}l=c}}(l)}}function Ag(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof Rl)){const g=c[d+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const I=f[g[w]],M=g[w+1];try{M.call(I)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const w=c[g+1],I="function"==typeof w?w(l):ur(l[w]),M=d[f=c[g+2]],V=c[g+3];"boolean"==typeof V?I.removeEventListener(c[g],M,V):V>=0?d[f=V]():d[f=-V].unsubscribe(),g+=2}else{const w=d[f=c[g+1]];c[g].call(w)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();l[7]=null}}(a,l),1===l[1].type&&wn(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&li(l[3])){c!==l[3]&&_y(c,l);const d=l[19];null!==d&&d.detachView(a)}}}function Mc(a,l,c){return function(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===kt.None||f===kt.Emulated)return null}return ci(d,c)}(a,l.parent,c)}function Au(a,l,c,d,f){wn(a)?a.insertBefore(l,c,d,f):l.insertBefore(c,d,f)}function dw(a,l,c){wn(a)?a.appendChild(l,c):l.appendChild(c)}function Ed(a,l,c,d,f){null!==d?Au(a,l,c,d,f):dw(a,l,c)}function xg(a,l){return wn(a)?a.parentNode(l):l.parentNode}function Ey(a,l,c){return fw(a,l,c)}let fw=function(a,l,c){return 40&a.type?ci(a,c):null};function kg(a,l,c,d){const f=Mc(a,d,l),g=l[11],I=Ey(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let M=0;M<c.length;M++)Ed(g,f,c[M],I,!1);else Ed(g,f,c,I,!1)}function Rg(a,l){if(null!==l){const c=l.type;if(3&c)return ci(l,a);if(4&c)return Ty(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Rg(a,d);{const f=a[l.index];return li(f)?Ty(-1,f):ur(f)}}if(32&c)return nf(l,a)()||ur(a[l.index]);{const d=Iy(a,l);return null!==d?Array.isArray(d)?d[0]:Rg(rf(a[16]),d):Rg(a,l.next)}}return null}function Iy(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Ty(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Rg(d,f)}return l[7]}function Sy(a,l,c,d,f,g,w){for(;null!=c;){const I=d[c.index],M=c.type;if(w&&0===l&&(I&&ps(ur(I),d),c.flags|=4),64!=(64&c.flags))if(8&M)Sy(a,l,c.child,d,f,g,!1),Du(l,a,f,I,g);else if(32&M){const V=nf(c,d);let $;for(;$=V();)Du(l,a,f,$,g);Du(l,a,f,I,g)}else 16&M?pw(a,l,d,c,f,g):Du(l,a,f,I,g);c=w?c.projectionNext:c.next}}function sf(a,l,c,d,f,g){Sy(c,d,a.firstChild,l,f,g,!1)}function pw(a,l,c,d,f,g){const w=c[16],M=w[6].projection[d.projection];if(Array.isArray(M))for(let V=0;V<M.length;V++)Du(l,a,f,M[V],g);else Sy(a,l,M,w[3],f,g,!0)}function uD(a,l,c){wn(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function Og(a,l,c){wn(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function dD(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}c=f+1}}const hD="ng-template";function gw(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==dD(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function af(a){return 4===a.type&&a.value!==hD}function Ur(a,l,c){return l===(4!==a.type||c?a.value:hD)}function jr(a,l,c){let d=4;const f=a.attrs||[],g=function(a){for(let l=0;l<a.length;l++)if(pa(a[l]))return l;return a.length}(f);let w=!1;for(let I=0;I<l.length;I++){const M=l[I];if("number"!=typeof M){if(!w)if(4&d){if(d=2|1&d,""!==M&&!Ur(a,M,c)||""===M&&1===l.length){if(Mi(d))return!1;w=!0}}else{const V=8&d?M:l[++I];if(8&d&&null!==a.attrs){if(!gw(a.attrs,V,c)){if(Mi(d))return!1;w=!0}continue}const he=fD(8&d?"class":M,f,af(a),c);if(-1===he){if(Mi(d))return!1;w=!0;continue}if(""!==V){let xe;xe=he>g?"":f[he+1].toLowerCase();const Be=8&d?xe:null;if(Be&&-1!==dD(Be,V,0)||2&d&&V!==xe){if(Mi(d))return!1;w=!0}}}}else{if(!w&&!Mi(d)&&!Mi(M))return!1;if(w&&Mi(M))continue;w=!1,d=M|1&d}}return Mi(d)||w}function Mi(a){return 0==(1&a)}function fD(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let g=!1;for(;f<l.length;){const w=l[f];if(w===a)return f;if(3===w||6===w)g=!0;else{if(1===w||2===w){let I=l[++f];for(;"string"==typeof I;)I=l[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=g?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function lf(a,l,c=!1){for(let d=0;d<l.length;d++)if(jr(a,l[d],c))return!0;return!1}function pD(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function mw(a,l){return a?":not("+l.trim()+")":l}function gD(a){let l=a[0],c=1,d=2,f="",g=!1;for(;c<a.length;){let w=a[c];if("string"==typeof w)if(2&d){const I=a[++c];f+="["+w+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?f+="."+w:4&d&&(f+=" "+w);else""!==f&&!Mi(w)&&(l+=mw(g,f),f=""),d=w,g=g||!Mi(d);c++}return""!==f&&(l+=mw(g,f)),l}const vn={};function Id(a){_w(On(),ut(),vr()+a,La())}function _w(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&uu(l,g,c)}else{const g=a.preOrderHooks;null!==g&&kl(l,g,0,c)}Go(c)}function Dy(a,l){return a<<17|l<<2}function Js(a){return a>>17&32767}function Sd(a){return 2|a}function kc(a){return(131068&a)>>2}function vw(a,l){return-131069&a|l<<2}function bw(a){return 1|a}function Mw(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const w=a.data[g];Al(f),w.contentQueries(2,l[g],g)}}}function hf(a,l,c,d,f,g,w,I,M,V){const $=l.blueprint.slice();return $[0]=f,$[2]=140|d,hc($),$[3]=$[15]=a,$[8]=c,$[10]=w||a&&a[10],$[11]=I||a&&a[11],$[12]=M||a&&a[12]||null,$[9]=V||a&&a[9]||null,$[6]=g,$[16]=2==l.type?a[16]:$,$}function kd(a,l,c,d,f){let g=a.data[l];if(null===g)g=function(a,l,c,d,f){const g=Cl(),w=su(),M=a.data[l]=function(a,l,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=M),null!==g&&(w?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M)),M}(a,l,c,d,f),en.lFrame.inI18n&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const w=function(){const a=en.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return pi(g,!0),g}function ff(a,l,c,d){if(0===c)return-1;const f=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Vg(a,l,c){ou(l);try{const d=a.viewQuery;null!==d&&jw(1,d,c);const f=a.template;null!==f&&kw(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Mw(a,l),a.staticViewQueries&&jw(2,a.viewQuery,c);const g=a.components;null!==g&&function(a,l){for(let c=0;c<l.length;c++)FP(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,mc()}}function pf(a,l,c,d){const f=l[2];if(256==(256&f))return;ou(l);const g=La();try{hc(l),function(a){en.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&kw(a,l,c,2,d);const w=3==(3&f);if(!g)if(w){const V=a.preOrderCheckHooks;null!==V&&uu(l,V,null)}else{const V=a.preOrderHooks;null!==V&&kl(l,V,0,null),$o(l,0)}if(function(a){for(let l=fy(a);null!==l;l=py(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(1024&f[2])&&Uo(g,1),f[2]|=1024}}}(l),function(a){for(let l=fy(a);null!==l;l=py(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];ua(d)&&pf(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&Mw(a,l),!g)if(w){const V=a.contentCheckHooks;null!==V&&uu(l,V)}else{const V=a.contentHooks;null!==V&&kl(l,V,1),$o(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Go(~f);else{const g=f,w=c[++d],I=c[++d];Dl(w,g),I(2,l[g])}}}finally{Go(-1)}}(a,l);const I=a.components;null!==I&&function(a,l){for(let c=0;c<l.length;c++)NP(a,l[c])}(l,I);const M=a.viewQuery;if(null!==M&&jw(2,M,d),!g)if(w){const V=a.viewCheckHooks;null!==V&&uu(l,V)}else{const V=a.viewHooks;null!==V&&kl(l,V,2),$o(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Uo(l[3],-1))}finally{mc()}}function DD(a,l,c,d){const f=l[10],g=!La(),w=yl(l);try{g&&!w&&f.begin&&f.begin(),w&&Vg(a,l,d),pf(a,l,c,d)}finally{g&&!w&&f.end&&f.end()}}function kw(a,l,c,d,f){const g=vr(),w=2&d;try{Go(-1),w&&l.length>20&&_w(a,l,20,La()),c(d,f)}finally{Go(g)}}function AD(a,l,c){if(co(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const w=a.data[g];w.contentQueries&&w.contentQueries(1,c[g],g)}}}function Rw(a,l,c){!iu()||(function(a,l,c,d){const f=c.directiveStart,g=c.directiveEnd;a.firstCreatePass||qo(c,l),ps(d,l);const w=c.initialInputs;for(let I=f;I<g;I++){const M=a.data[I],V=$r(M);V&&MP(l,c,M);const $=Ws(l,a,I,c);ps($,l),null!==w&&kP(0,I-f,$,M,0,w),V&&(qn(c.index,l)[8]=$)}}(a,l,c,ci(c,l)),128==(128&c.flags)&&function(a,l,c){const d=c.directiveStart,f=c.directiveEnd,w=c.index,I=en.lFrame.currentDirectiveIndex;try{Go(w);for(let M=d;M<f;M++){const V=a.data[M],$=l[M];ha(M),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&FD(V,$)}}finally{Go(-1),ha(I)}}(a,l,c))}function Ow(a,l,c=ci){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const w=d[g+1],I=-1===w?c(l,a):a[w];a[f++]=I}}}function xD(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Oy(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Oy(a,l,c,d,f,g,w,I,M,V){const $=20+d,he=$+f,xe=function(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:vn);return c}($,he),Be="function"==typeof V?V():V;return xe[1]={type:a,blueprint:xe,template:c,queries:null,viewQuery:I,declTNode:l,data:xe.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:he,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:M,consts:Be,incompleteFirstPass:!1}}function kD(a,l,c,d){const f=zD(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&GD(a).push(d,f.length-1))}function RD(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function Qo(a,l,c,d,f,g,w,I){const M=ci(l,c);let $,V=l.inputs;!I&&null!=V&&($=V[d])?(qD(a,c,$,d,f),Qi(l)&&function(a,l){const c=qn(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(d=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=w?w(f,l.value||"",d):f,wn(g)?g.setProperty(M,d,f):Ct(d)||(M.setProperty?M.setProperty(d,f):M[d]=f))}function Nw(a,l,c,d){let f=!1;if(iu()){const g=function(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const w=d[g];lf(c,w.selectors,!1)&&(f||(f=[]),xs(qo(c,l),a,w.type),$r(w)?(LD(a,c),f.unshift(w)):f.push(w))}return f}(a,l,c),w=null===d?null:{"":-1};if(null!==g){f=!0,BD(c,a.data.length,g.length);for(let $=0;$<g.length;$++){const he=g[$];he.providersResolver&&he.providersResolver(he)}let I=!1,M=!1,V=ff(a,l,g.length,null);for(let $=0;$<g.length;$++){const he=g[$];c.mergedAttrs=Yt(c.mergedAttrs,he.hostAttrs),VD(a,c,l,V,he),xP(V,he,w),null!==he.contentQueries&&(c.flags|=8),(null!==he.hostBindings||null!==he.hostAttrs||0!==he.hostVars)&&(c.flags|=128);const xe=he.type.prototype;!I&&(xe.ngOnChanges||xe.ngOnInit||xe.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),I=!0),!M&&(xe.ngOnChanges||xe.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),M=!0),V++}!function(a,l){const d=l.directiveEnd,f=a.data,g=l.attrs,w=[];let I=null,M=null;for(let V=l.directiveStart;V<d;V++){const $=f[V],he=$.inputs,xe=null===g||af(l)?null:UD(he,g);w.push(xe),I=RD(he,V,I),M=RD($.outputs,V,M)}null!==I&&(I.hasOwnProperty("class")&&(l.flags|=16),I.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=w,l.inputs=I,l.outputs=M}(a,c)}w&&function(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=c[l[f+1]];if(null==g)throw new Ue("301",`Export of name '${l[f+1]}' not found!`);d.push(l[f],g)}}}(c,d,w)}return c.mergedAttrs=Yt(c.mergedAttrs,c.attrs),f}function ND(a,l,c,d,f,g){const w=g.hostBindings;if(w){let I=a.hostBindingOpCodes;null===I&&(I=a.hostBindingOpCodes=[]);const M=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(I)!=M&&I.push(M),I.push(d,f,w)}}function FD(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function LD(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function xP(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;$r(l)&&(c[""]=a)}}function BD(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function VD(a,l,c,d,f){a.data[d]=f;const g=f.factory||(f.factory=F(f.type)),w=new Rl(g,$r(f),null);a.blueprint[d]=w,c[d]=w,ND(a,l,0,d,ff(a,c,f.hostVars,vn),f)}function MP(a,l,c){const d=ci(l,a),f=xD(c),g=a[10],w=Py(a,hf(a,f,null,c.onPush?64:16,d,l,g,g.createRenderer(d,c),null,null));a[l.index]=w}function Ql(a,l,c,d,f,g){const w=ci(a,l);!function(a,l,c,d,f,g,w){if(null==g)wn(a)?a.removeAttribute(l,f,c):l.removeAttribute(f);else{const I=null==w?de(g):w(g,d||"",f);wn(a)?a.setAttribute(l,f,I,c):c?l.setAttributeNS(c,f,I):l.setAttribute(f,I)}}(l[11],w,g,a.value,c,d,f)}function kP(a,l,c,d,f,g){const w=g[l];if(null!==w){const I=d.setInput;for(let M=0;M<w.length;){const V=w[M++],$=w[M++],he=w[M++];null!==I?d.setInput(c,he,V,$):c[$]=he}}}function UD(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function jD(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function NP(a,l){const c=qn(l,a);if(ua(c)){const d=c[1];80&c[2]?pf(d,c,d.template,c[8]):c[5]>0&&Lw(c)}}function Lw(a){for(let d=fy(a);null!==d;d=py(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const w=g[1];pf(w,g,w.template,g[8])}else g[5]>0&&Lw(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=qn(c[d],a);ua(f)&&f[5]>0&&Lw(f)}}function FP(a,l){const c=qn(l,a),d=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Vg(d,c,c[8])}function Py(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Bw(a){for(;a;){a[2]|=64;const l=rf(a);if(sa(a)&&!l)return a;a=l}return null}function Uw(a,l,c){const d=l[10];d.begin&&d.begin();try{pf(a,l,a.template,c)}catch(f){throw WD(l,f),f}finally{d.end&&d.end()}}function HD(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=ay(c),f=d[1];DD(f,d,f.template,c)}}(a[8])}function jw(a,l,c){Al(0),l(a,c)}const jP=(()=>Promise.resolve(null))();function zD(a){return a[7]||(a[7]=[])}function GD(a){return a.cleanup||(a.cleanup=[])}function $D(a,l,c){return(null===a||$r(a))&&(c=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function WD(a,l){const c=a[9],d=c?c.get(tf,null):null;d&&d.handleError(l)}function qD(a,l,c,d,f){for(let g=0;g<c.length;){const w=c[g++],I=c[g++],M=l[w],V=a.data[w];null!==V.setInput?V.setInput(M,f,d,I):M[I]=f}}function Rc(a,l,c){const d=ca(l,a);!function(a,l,c){wn(a)?a.setValue(l,c):l.textContent=c}(a[11],d,c)}function Ny(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,g=0;if(null!==l)for(let w=0;w<l.length;w++){const I=l[w];"number"==typeof I?g=I:1==g?f=ee(f,I):2==g&&(d=ee(d,I+": "+l[++w]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}const Hw=new wr("INJECTOR",-1);class ZD{get(l,c=Os){if(c===Os){const d=new Error(`NullInjectorError: No provider for ${Y(l)}!`);throw d.name="NullInjectorError",d}return c}}const zw=new wr("Set Injector scope."),Ug={},GP={};let Gw;function KD(){return void 0===Gw&&(Gw=new ZD),Gw}function YD(a,l=null,c=null,d){const f=QD(a,l,c,d);return f._resolveInjectorDefTypes(),f}function QD(a,l=null,c=null,d){return new $P(a,c,l||KD(),d)}class $P{constructor(l,c,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];c&&Zs(c,I=>this.processProvider(I,l,c)),Zs([l],I=>this.processInjectorType(I,[],g)),this.records.set(Hw,gf(void 0,this));const w=this.records.get(zw);this.scope=null!=w?w.value:null,this.source=f||("object"==typeof l?null:Y(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Os,d=Zt.Default){this.assertNotDestroyed();const f=Z(this),g=Zn(void 0);try{if(!(d&Zt.SkipSelf)){let I=this.records.get(l);if(void 0===I){const M=("function"==typeof(a=l)||"object"==typeof a&&a instanceof wr)&&Rr(l);I=M&&this.injectableDefInScope(M)?gf($w(l),Ug):null,this.records.set(l,I)}if(null!=I)return this.hydrate(l,I)}return(d&Zt.Self?KD():this.parent).get(l,c=d&Zt.Optional&&c===Os?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[Wa]=w[Wa]||[]).unshift(Y(l)),f)throw w;return function(a,l,c,d){const f=a[Wa];throw l[vu]&&f.unshift(l[vu]),a.message=function(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=Y(l);if(Array.isArray(l))f=l.map(Y).join(" -> ");else if("object"==typeof l){let g=[];for(let w in l)if(l.hasOwnProperty(w)){let I=l[w];g.push(w+":"+("string"==typeof I?JSON.stringify(I):Y(I)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(yu,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[Wa]=null,a}(w,l,"R3InjectorError",this.source)}throw w}finally{Zn(g),Z(f)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((d,f)=>l.push(Y(f))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,d){if(!(l=me(l)))return!1;let f=Ei(l);const g=null==f&&l.ngModule||void 0,w=void 0===g?l:g,I=-1!==d.indexOf(w);if(void 0!==g&&(f=Ei(g)),null==f)return!1;if(null!=f.imports&&!I){let $;d.push(w);try{Zs(f.imports,he=>{this.processInjectorType(he,c,d)&&(void 0===$&&($=[]),$.push(he))})}finally{}if(void 0!==$)for(let he=0;he<$.length;he++){const{ngModule:xe,providers:Be}=$[he];Zs(Be,nt=>this.processProvider(nt,xe,Be||Ce))}}this.injectorDefTypes.add(w);const M=F(w)||(()=>new w);this.records.set(w,gf(M,Ug));const V=f.providers;if(null!=V&&!I){const $=l;Zs(V,he=>this.processProvider(he,$,V))}return void 0!==g&&void 0!==l.providers}processProvider(l,c,d){let f=mf(l=me(l))?l:me(l&&l.provide);const g=(a=l,JD(a)?gf(void 0,a.useValue):gf(XD(a),Ug));var a;if(mf(l)||!0!==l.multi)this.records.get(f);else{let w=this.records.get(f);w||(w=gf(void 0,Ug,!0),w.factory=()=>It(w.multi),this.records.set(f,w)),f=l,w.multi.push(l)}this.records.set(f,g)}hydrate(l,c){return c.value===Ug&&(c.value=GP,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=me(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function $w(a){const l=Rr(a),c=null!==l?l.factory:F(a);if(null!==c)return c;if(a instanceof wr)throw new Error(`Token ${Y(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const d=wo(l,"?");throw new Error(`Can't resolve all parameters for ${Y(a)}: (${d.join(", ")}).`)}const c=function(a){const l=a&&(a[Yr]||a[Ci]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function XD(a,l,c){let d;if(mf(a)){const f=me(a);return F(f)||$w(f)}if(JD(a))d=()=>me(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...It(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))d=()=>Te(me(a.useExisting));else{const f=me(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return F(f)||$w(f);d=()=>new f(...It(a.deps))}return d}function gf(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function JD(a){return null!==a&&"object"==typeof a&&k in a}function mf(a){return"function"==typeof a}let Ia=(()=>{class a{static create(c,d){var f;if(Array.isArray(c))return YD({name:""},d,c,"");{const g=null!=(f=c.name)?f:"";return YD({name:g},c.parent,c.providers,g)}}}return a.THROW_IF_NOT_FOUND=Os,a.NULL=new ZD,a.\u0275prov=wt({token:a,providedIn:"any",factory:()=>Te(Hw)}),a.__NG_ELEMENT_ID__=-1,a})();function sA(a,l){Ml(ay(a)[1],Pr())}function Ly(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if($r(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");f=l.\u0275dir}if(f){if(c){d.push(f);const w=a;w.inputs=Hg(a.inputs),w.declaredInputs=Hg(a.declaredInputs),w.outputs=Hg(a.outputs);const I=f.hostBindings;I&&lA(a,I);const M=f.viewQuery,V=f.contentQueries;if(M&&oA(a,M),V&&aA(a,V),H(a.inputs,f.inputs),H(a.declaredInputs,f.declaredInputs),H(a.outputs,f.outputs),$r(f)&&f.data.animation){const $=a.data;$.animation=($.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let w=0;w<g.length;w++){const I=g[w];I&&I.ngInherit&&I(a),I===Ly&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Yt(f.hostAttrs,c=Yt(c,f.hostAttrs))}}(d)}function Hg(a){return a===De?{}:a===Ce?[]:a}function oA(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function aA(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,g)=>{l(d,f,g),c(d,f,g)}:l}function lA(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let By=null;function vf(){if(!By){const a=Cn.Symbol;if(a&&a.iterator)By=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(By=d)}}}return By}function zg(a){return!!Gg(a)&&(Array.isArray(a)||!(a instanceof Map)&&vf()in a)}function Gg(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function el(a,l,c){return a[l]=c}function is(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function Vy(a,l,c,d){const f=ut();return is(f,zo(),l)&&(On(),Ql(br(),f,a,l,c,d)),Vy}function wf(a,l,c,d,f,g){const I=function(a,l,c,d){const f=is(a,l,c);return is(a,l+1,d)||f}(a,en.lFrame.bindingIndex,c,f);return Gs(2),I?l+de(c)+d+de(f)+g:vn}function Hy(a,l,c,d,f,g,w,I){const M=ut(),V=On(),$=a+20,he=V.firstCreatePass?function(a,l,c,d,f,g,w,I,M){const V=l.consts,$=kd(l,a,4,w||null,Di(V,I));Nw(l,c,$,Di(V,M)),Ml(l,$);const he=$.tViews=Oy(2,$,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,V);return null!==l.queries&&(l.queries.template(l,$),he.queries=l.queries.embeddedTView($)),$}($,V,M,l,c,d,f,g,w):V.data[$];pi(he,!1);const xe=M[11].createComment("");kg(V,M,xe,he),ps(xe,M),Py(M,M[$]=jD(xe,M,xe,he)),uo(he)&&Rw(V,M,he),null!=w&&Ow(M,he,I)}function Nd(a){return function(a,l){return a[l]}(en.lFrame.contextLView,20+a)}function Fc(a,l=Zt.Default){const c=ut();return null===c?Te(a,l):ma(Pr(),c,me(a),l)}function Sf(){throw new Error("invalid")}function Qg(a,l,c){const d=ut();return is(d,zo(),l)&&Qo(On(),br(),d,a,l,d[11],c,!1),Qg}function Df(a,l,c,d,f){const w=f?"class":"style";qD(a,c,l.inputs[w],w,d)}function Af(a,l,c,d){const f=ut(),g=On(),w=20+a,I=f[11],M=f[w]=my(I,l,en.lFrame.currentNamespace),V=g.firstCreatePass?function(a,l,c,d,f,g,w){const I=l.consts,V=kd(l,a,2,f,Di(I,g));return Nw(l,c,V,Di(I,w)),null!==V.attrs&&Ny(V,V.attrs,!1),null!==V.mergedAttrs&&Ny(V,V.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,V),V}(w,g,f,0,l,c,d):g.data[w];pi(V,!0);const $=V.mergedAttrs;null!==$&&dr(I,M,$);const he=V.classes;null!==he&&Og(I,M,he);const xe=V.styles;null!==xe&&uD(I,M,xe),64!=(64&V.flags)&&kg(g,f,M,V),0===en.lFrame.elementDepthCount&&ps(M,f),en.lFrame.elementDepthCount++,uo(V)&&(Rw(g,f,V),AD(g,V,f)),null!==d&&Ow(f,V)}function Ld(){let a=Pr();su()?da():(a=a.parent,pi(a,!1));const l=a;en.lFrame.elementDepthCount--;const c=On();c.firstCreatePass&&(Ml(c,a),co(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Df(c,l,ut(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Df(c,l,ut(),l.stylesWithoutHost,!1)}function mE(a,l,c,d){Af(a,l,c,d),Ld()}function rl(a,l,c){const d=ut(),f=On(),g=a+20,w=f.firstCreatePass?function(a,l,c,d,f){const g=l.consts,w=Di(g,d),I=kd(l,a,8,"ng-container",w);return null!==w&&Ny(I,w,!0),Nw(l,c,I,Di(g,f)),null!==l.queries&&l.queries.elementStart(l,I),I}(g,f,d,l,c):f.data[g];pi(w,!0);const I=d[g]=d[11].createComment("");kg(f,d,I,w),ps(I,d),uo(w)&&(Rw(f,d,w),AD(f,w,d)),null!=c&&Ow(d,w)}function Xg(){let a=Pr();const l=On();su()?da():(a=a.parent,pi(a,!1)),l.firstCreatePass&&(Ml(l,a),co(a)&&l.queries.elementEnd(a))}function ev(a,l,c){rl(a,l,c),Xg()}function Sa(){return ut()}function ec(a){return!!a&&"function"==typeof a.then}function Bd(a){return!!a&&"function"==typeof a.subscribe}const yE=Bd;function Mf(a,l,c,d){const f=ut(),g=On(),w=Pr();return kf(g,f,f[11],w,a,l,!!c,d),Mf}function Jg(a,l){const c=Pr(),d=ut(),f=On();return kf(f,d,$D(fc(f.data),c,d),c,a,l,!1),Jg}function kf(a,l,c,d,f,g,w,I){const M=uo(d),$=a.firstCreatePass&&GD(a),he=l[8],xe=zD(l);let Be=!0;if(3&d.type||I){const Et=ci(d,l),Ut=I?I(Et):Et,at=xe.length,tn=I?Ln=>I(ur(Ln[d.index])):d.index;if(wn(c)){let Ln=null;if(!I&&M&&(Ln=function(a,l,c,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const w=f[g];if(w===c&&f[g+1]===d){const I=l[7],M=f[g+2];return I.length>M?I[M]:null}"string"==typeof w&&(g+=2)}return null}(a,l,f,d.index)),null!==Ln)(Ln.__ngLastListenerFn__||Ln).__ngNextListenerFn__=g,Ln.__ngLastListenerFn__=g,Be=!1;else{g=Rf(d,l,he,g,!1);const ir=c.listen(Ut,f,g);xe.push(g,ir),$&&$.push(f,tn,at,at+1)}}else g=Rf(d,l,he,g,!0),Ut.addEventListener(f,g,w),xe.push(g),$&&$.push(f,tn,at,w)}else g=Rf(d,l,he,g,!1);const nt=d.outputs;let gt;if(Be&&null!==nt&&(gt=nt[f])){const Et=gt.length;if(Et)for(let Ut=0;Ut<Et;Ut+=2){const Do=l[gt[Ut]][gt[Ut+1]].subscribe(g),Gc=xe.length;xe.push(g,Do),$&&$.push(f,d.index,Gc,-(Gc+1))}}}function vE(a,l,c,d){try{return!1!==c(d)}catch(f){return WD(a,f),!1}}function Rf(a,l,c,d,f){return function g(w){if(w===Function)return d;const I=2&a.flags?qn(a.index,l):l;0==(32&l[2])&&Bw(I);let M=vE(l,0,d,w),V=g.__ngNextListenerFn__;for(;V;)M=vE(l,0,V,w)&&M,V=V.__ngNextListenerFn__;return f&&!1===M&&(w.preventDefault(),w.returnValue=!1),M}}function bE(a=1){return function(a){return(en.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,en.lFrame.contextLView))[8]}(a)}function wE(a,l){let c=null;const d=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?lf(a,g,!0):pD(d,g))return f}else c=f}return c}function tv(a){const l=ut()[16][6];if(!l.projection){const d=l.projection=wo(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const w=a?wE(g,a):0;null!==w&&(f[w]?f[w].projectionNext=g:d[w]=g,f[w]=g),g=g.next}}}function eo(a,l=0,c){const d=ut(),f=On(),g=kd(f,20+a,16,null,c||null);null===g.projection&&(g.projection=l),da(),64!=(64&g.flags)&&function(a,l,c){pw(l[11],0,l,c,Mc(a,c,l),Ey(c.parent||l[6],c,l))}(f,d,g)}function AE(a,l,c,d,f){const g=a[c+1],w=null===l;let I=d?Js(g):kc(g),M=!1;for(;0!==I&&(!1===M||w);){const $=a[I+1];yA(a[I],l)&&(M=!0,a[I+1]=d?bw($):Sd($)),I=d?Js($):kc($)}M&&(a[c+1]=d?Sd(g):bw(g))}function yA(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Rs(a,l)>=0}function jd(a,l,c){return sl(a,l,c,!1),jd}function Ff(a,l){return sl(a,l,null,!0),Ff}function sl(a,l,c,d){const f=ut(),g=On(),w=Gs(2);g.firstUpdatePass&&function(a,l,c,d){const f=a.data;if(null===f[c+1]){const g=f[vr()],w=function(a,l){return l>=a.expandoStartIndex}(a,c);(function(a,l){return 0!=(a.flags&(l?16:32))})(g,d)&&null===l&&!w&&(l=!1),l=function(a,l,c,d){const f=fc(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Lf(c=sm(null,a,l,c,d),l.attrs,d),g=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==f)if(c=sm(f,a,l,c,d),null===g){let M=function(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==kc(d))return a[Js(d)]}(a,l,d);void 0!==M&&Array.isArray(M)&&(M=sm(null,a,l,M[1],d),M=Lf(M,l.attrs,d),function(a,l,c,d){a[Js(c?l.classBindings:l.styleBindings)]=d}(a,l,d,M))}else g=function(a,l,c){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=Lf(d,a[g].hostAttrs,c);return Lf(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(f,g,l,d),function(a,l,c,d,f,g){let w=g?l.classBindings:l.styleBindings,I=Js(w),M=kc(w);a[d]=c;let $,V=!1;if(Array.isArray(c)){const he=c;$=he[1],(null===$||Rs(he,$)>0)&&(V=!0)}else $=c;if(f)if(0!==M){const xe=Js(a[I+1]);a[d+1]=Dy(xe,I),0!==xe&&(a[xe+1]=vw(a[xe+1],d)),a[I+1]=function(a,l){return 131071&a|l<<17}(a[I+1],d)}else a[d+1]=Dy(I,0),0!==I&&(a[I+1]=vw(a[I+1],d)),I=d;else a[d+1]=Dy(M,0),0===I?I=d:a[M+1]=vw(a[M+1],d),M=d;V&&(a[d+1]=Sd(a[d+1])),AE(a,$,d,!0),AE(a,$,d,!1),function(a,l,c,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Rs(g,l)>=0&&(c[d+1]=bw(c[d+1]))}(l,$,a,d,g),w=Dy(I,M),g?l.classBindings=w:l.styleBindings=w}(f,g,l,c,w,d)}}(g,a,w,d),l!==vn&&is(f,w,l)&&function(a,l,c,d,f,g,w,I){if(!(3&l.type))return;const M=a.data,V=M[I+1];om(function(a){return 1==(1&a)}(V)?ov(M,l,c,f,kc(V),w):void 0)||(om(g)||function(a){return 2==(2&a)}(V)&&(g=ov(M,null,c,f,I,w)),function(a,l,c,d,f){const g=wn(a);if(l)f?g?a.addClass(c,d):c.classList.add(d):g?a.removeClass(c,d):c.classList.remove(d);else{let w=-1===d.indexOf("-")?void 0:Qa.DashCase;if(null==f)g?a.removeStyle(c,d,w):c.style.removeProperty(d);else{const I="string"==typeof f&&f.endsWith("!important");I&&(f=f.slice(0,-10),w|=Qa.Important),g?a.setStyle(c,d,f,w):c.style.setProperty(d,f,I?"important":"")}}}(d,w,ca(vr(),c),f,g))}(g,g.data[vr()],f,f[11],a,f[w+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Y(ba(a)))),a}(l,c),d,w)}function sm(a,l,c,d,f){let g=null;const w=c.directiveEnd;let I=c.directiveStylingLast;for(-1===I?I=c.directiveStart:I++;I<w&&(g=l[I],d=Lf(d,g.hostAttrs,f),g!==a);)I++;return null!==a&&(c.directiveStylingLast=I),d}function Lf(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const w=l[g];"number"==typeof w?f=w:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ai(a,w,!!c||l[++g]))}return void 0===a?null:a}function ov(a,l,c,d,f,g){const w=null===l;let I;for(;f>0;){const M=a[f],V=Array.isArray(M),$=V?M[1]:M,he=null===$;let xe=c[f+1];xe===vn&&(xe=he?Ce:void 0);let Be=he?Ks(xe,d):$===d?xe:void 0;if(V&&!om(Be)&&(Be=Ks(M,d)),om(Be)&&(I=Be,w))return I;const nt=a[f+1];f=w?Js(nt):kc(nt)}if(null!==l){let M=g?l.residualClasses:l.residualStyles;null!=M&&(I=Ks(M,d))}return I}function om(a){return void 0!==a}function FE(a,l=""){const c=ut(),d=On(),f=a+20,g=d.firstCreatePass?kd(d,f,1,l,null):d.data[f],w=c[f]=function(a,l){return wn(a)?a.createText(l):a.createTextNode(l)}(c[11],l);kg(d,c,w,g),pi(g,!1)}function am(a){return Bf("",a,""),am}function Bf(a,l,c){const d=ut(),f=function(a,l,c,d){return is(a,zo(),c)?l+de(c)+d:vn}(d,a,l,c);return f!==vn&&Rc(d,vr(),f),Bf}function lv(a,l,c,d,f){const g=ut(),w=wf(g,a,l,c,d,f);return w!==vn&&Rc(g,vr(),w),lv}function hm(a,l,c){const d=ut();return is(d,zo(),l)&&Qo(On(),br(),d,a,l,d[11],c,!0),hm}function gv(a,l,c){const d=ut();if(is(d,zo(),l)){const g=On(),w=br();Qo(g,w,d,a,l,$D(fc(g.data),w,d),c,!0)}return gv}const Nu=void 0;var LA=["en",[["a","p"],["AM","PM"],Nu],[["AM","PM"],Nu,Nu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nu,"{1} 'at' {0}",Nu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Gd={};function Uf(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=fm(l);if(c)return c;const d=l.split("-")[0];if(c=fm(d),c)return c;if("en"===d)return LA;throw new Error(`Missing locale data for the locale "${a}".`)}function jf(a){return Uf(a)[on.PluralCase]}function fm(a){return a in Gd||(Gd[a]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[a]),Gd[a]}var on=(()=>((on=on||{})[on.LocaleId=0]="LocaleId",on[on.DayPeriodsFormat=1]="DayPeriodsFormat",on[on.DayPeriodsStandalone=2]="DayPeriodsStandalone",on[on.DaysFormat=3]="DaysFormat",on[on.DaysStandalone=4]="DaysStandalone",on[on.MonthsFormat=5]="MonthsFormat",on[on.MonthsStandalone=6]="MonthsStandalone",on[on.Eras=7]="Eras",on[on.FirstDayOfWeek=8]="FirstDayOfWeek",on[on.WeekendRange=9]="WeekendRange",on[on.DateFormat=10]="DateFormat",on[on.TimeFormat=11]="TimeFormat",on[on.DateTimeFormat=12]="DateTimeFormat",on[on.NumberSymbols=13]="NumberSymbols",on[on.NumberFormats=14]="NumberFormats",on[on.CurrencyCode=15]="CurrencyCode",on[on.CurrencySymbol=16]="CurrencySymbol",on[on.CurrencyName=17]="CurrencyName",on[on.Currencies=18]="Currencies",on[on.Directionality=19]="Directionality",on[on.PluralCase=20]="PluralCase",on[on.ExtraData=21]="ExtraData",on))();const pm="en-US";let mv=pm;function bC(a,l,c,d,f){if(a=me(a),Array.isArray(a))for(let g=0;g<a.length;g++)bC(a[g],l,c,d,f);else{const g=On(),w=ut();let I=mf(a)?a:me(a.provide),M=XD(a);const V=Pr(),$=1048575&V.providerIndexes,he=V.directiveStart,xe=V.providerIndexes>>20;if(mf(a)||!a.multi){const Be=new Rl(M,f,Fc),nt=EC(I,l,f?$:$+xe,he);-1===nt?(xs(qo(V,w),g,I),wC(g,a,l.length),l.push(I),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),c.push(Be),w.push(Be)):(c[nt]=Be,w[nt]=Be)}else{const Be=EC(I,l,$+xe,he),nt=EC(I,l,$,$+xe),gt=Be>=0&&c[Be],Et=nt>=0&&c[nt];if(f&&!Et||!f&&!gt){xs(qo(V,w),g,I);const Ut=function(a,l,c,d,f){const g=new Rl(a,c,Fc);return g.multi=[],g.index=l,g.componentProviders=0,dx(g,f,d&&!c),g}(f?ON:RN,c.length,f,d,M);!f&&Et&&(c[nt].providerFactory=Ut),wC(g,a,l.length,0),l.push(I),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),c.push(Ut),w.push(Ut)}else wC(g,a,Be>-1?Be:nt,dx(c[f?nt:Be],M,!f&&d));!f&&d&&Et&&c[nt].componentProviders++}}}function wC(a,l,c,d){const f=mf(l),g=function(a){return!!a.useClass}(l);if(f||g){const M=(g?me(l.useClass):l).prototype.ngOnDestroy;if(M){const V=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const $=V.indexOf(c);-1===$?V.push(c,[d,M]):V[$+1].push(d,M)}else V.push(c,M)}}}function dx(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function EC(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function RN(a,l,c,d){return CC(this.multi,[])}function ON(a,l,c,d){const f=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,I=Ws(c,c[1],this.providerFactory.index,d);g=I.slice(0,w),CC(f,g);for(let M=w;M<I.length;M++)g.push(I[M])}else g=[],CC(f,g);return g}function CC(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function IC(a,l=[]){return c=>{c.providersResolver=(d,f)=>function(a,l,c){const d=On();if(d.firstCreatePass){const f=$r(a);bC(c,d.data,d.blueprint,f,!0),bC(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class bv{}class DC{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${Y(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let $d=(()=>{class a{}return a.NULL=new DC,a})();function PN(){return Wd(Pr(),ut())}function Wd(a,l){return new qf(ci(a,l))}let qf=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=PN,a})();function fx(a){return a instanceof qf?a.nativeElement:a}class Ev{}let px=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function(){const a=ut(),c=qn(Pr().index,a);return function(a){return a[11]}(Jr(c)?c:a)}(),a})(),_x=(()=>{class a{}return a.\u0275prov=wt({token:a,providedIn:"root",factory:()=>null}),a})();class ol{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Cv=new ol("13.0.3"),Iv={};function Em(a,l,c,d,f=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(ur(g)),li(g))for(let I=10;I<g.length;I++){const M=g[I],V=M[1].firstChild;null!==V&&Em(M[1],M,V,d)}const w=c.type;if(8&w)Em(a,l,c.child,d);else if(32&w){const I=nf(c,l);let M;for(;M=I();)d.push(M)}else if(16&w){const I=Iy(l,c);if(Array.isArray(I))d.push(...I);else{const M=rf(l[16]);Em(M[1],M,I,d,!0)}}c=f?c.projectionNext:c.next}return d}class Zf{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Em(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(li(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(yy(l,d),Zo(c,d))}this._attachedToViewContainer=!1}vy(this._lView[1],this._lView)}onDestroy(l){kD(this._lView[1],this._lView,null,l)}markForCheck(){Bw(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Uw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){Il(!0);try{Uw(a,l,c)}finally{Il(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,sf(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class Vc extends Zf{constructor(l){super(l),this._view=l}detectChanges(){HD(this._view)}checkNoChanges(){!function(a){Il(!0);try{HD(a)}finally{Il(!1)}}(this._view)}get context(){return null}}class yx extends $d{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=zt(l);return new Tv(c,this.ngModule)}}function AC(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const xC=new wr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>iw});class Tv extends bv{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map(gD).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return AC(this.componentDef.inputs)}get outputs(){return AC(this.componentDef.outputs)}create(l,c,d,f){const g=(f=f||this.ngModule)?function(a,l){return{get:(c,d,f)=>{const g=a.get(c,Iv,f);return g!==Iv||d===Iv?g:l.get(c,d,f)}}}(l,f.injector):l,w=g.get(Ev,mo),I=g.get(_x,null),M=w.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",$=d?function(a,l,c){if(wn(a))return a.selectRootElement(l,c===kt.ShadowDom);let d="string"==typeof l?a.querySelector(l):l;return d.textContent="",d}(M,d,this.componentDef.encapsulation):my(w.createRenderer(null,this.componentDef),V,function(a){const l=a.toLowerCase();return"svg"===l?At:"math"===l?"http://www.w3.org/1998/MathML/":null}(V)),he=this.componentDef.onPush?576:528,xe=function(a,l){return{components:[],scheduler:a||iw,clean:jP,playerHandler:l||null,flags:0}}(),Be=Oy(0,null,null,1,0,null,null,null,null,null),nt=hf(null,Be,xe,he,null,null,w,M,I,g);let gt,Et;ou(nt);try{const Ut=function(a,l,c,d,f,g){const w=c[1];c[20]=a;const M=kd(w,20,2,"#host",null),V=M.mergedAttrs=l.hostAttrs;null!==V&&(Ny(M,V,!0),null!==a&&(dr(f,a,V),null!==M.classes&&Og(f,a,M.classes),null!==M.styles&&uD(f,a,M.styles)));const $=d.createRenderer(a,l),he=hf(c,xD(l),null,l.onPush?64:16,c[20],M,d,$,g||null,null);return w.firstCreatePass&&(xs(qo(M,c),w,l.type),LD(w,M),BD(M,c.length,1)),Py(c,he),c[20]=he}($,this.componentDef,nt,w,M);if($)if(d)dr(M,$,["ng-version",Cv.full]);else{const{attrs:at,classes:tn}=function(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&c.push(g);else{if(!Mi(f))break;f=g}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);at&&dr(M,$,at),tn&&tn.length>0&&Og(M,$,tn.join(" "))}if(Et=Vo(Be,20),void 0!==c){const at=Et.projection=[];for(let tn=0;tn<this.ngContentSelectors.length;tn++){const Ln=c[tn];at.push(null!=Ln?Array.from(Ln):null)}}gt=function(a,l,c,d,f){const g=c[1],w=function(a,l,c){const d=Pr();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),VD(a,d,l,ff(a,l,1,null),c));const f=Ws(l,a,d.directiveStart,d);ps(f,l);const g=ci(d,l);return g&&ps(g,l),f}(g,c,l);if(d.components.push(w),a[8]=w,f&&f.forEach(M=>M(w,l)),l.contentQueries){const M=Pr();l.contentQueries(1,w,M.directiveStart)}const I=Pr();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Go(I.index),ND(c[1],I,0,I.directiveStart,I.directiveEnd,l),FD(l,w)),w}(Ut,this.componentDef,nt,xe,[sA]),Vg(Be,nt,null)}finally{mc()}return new kC(this.componentType,gt,Wd(Et,nt),nt,Et)}}class kC extends class{}{constructor(l,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new Vc(f),this.componentType=l}get injector(){return new _a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class qd{}class Cm{}const Zd=new Map;class Dv extends qd{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yx(this);const d=zn(l);this._bootstrapComponents=Ca(d.bootstrap),this._r3Injector=QD(l,c,[{provide:qd,useValue:this},{provide:$d,useValue:this.componentFactoryResolver}],Y(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=Ia.THROW_IF_NOT_FOUND,d=Zt.Default){return l===Ia||l===qd||l===Hw?this:this._r3Injector.get(l,c,d)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Av extends Cm{constructor(l){super(),this.moduleType=l,null!==zn(l)&&function(a){const l=new Set;!function c(d){const f=zn(d,!0),g=f.id;null!==g&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${Y(l)} vs ${Y(l.name)}`)}(g,Zd.get(g),d),Zd.set(g,d));const w=Ca(f.imports);for(const I of w)l.has(I)||(l.add(I),c(I))}(a)}(l)}create(l){return new Dv(this.moduleType,l)}}function xv(a,l,c){const d=gi()+a,f=ut();return f[d]===vn?el(f,d,c?l.call(c):l()):function(a,l){return a[l]}(f,d)}function Mv(a,l,c,d){return function(a,l,c,d,f,g){const w=l+c;return is(a,w,f)?el(a,w+1,g?d.call(g,f):d(f)):function(a,l){const c=a[l];return c===vn?void 0:c}(a,w+1)}(ut(),gi(),a,l,c,d)}function FC(a){return l=>{setTimeout(a,void 0,l)}}const nc=class extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){var M,V,$;let f=l,g=c||(()=>null),w=d;if(l&&"object"==typeof l){const he=l;f=null==(M=he.next)?void 0:M.bind(he),g=null==(V=he.error)?void 0:V.bind(he),w=null==($=he.complete)?void 0:$.bind(he)}this.__isAsync&&(g=FC(g),f&&(f=FC(f)),w&&(w=FC(w)));const I=super.subscribe({next:f,error:g,complete:w});return l instanceof b.w0&&l.add(I),I}};function HN(){return this._results[vf()]()}class Kf{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=vf(),d=Kf.prototype;d[c]||(d[c]=HN)}get changes(){return this._changes||(this._changes=new nc)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=ts(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Lu=(()=>{class a{}return a.__NG_ELEMENT_ID__=kv,a})();const Ax=Lu,zN=class extends Ax{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l){const c=this._declarationTContainer.tViews,d=hf(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(c)),Vg(c,d,l),new Zf(d)}};function kv(){return Am(Pr(),ut())}function Am(a,l){return 4&a.type?new zN(l,a,Wd(a,l)):null}let xm=(()=>{class a{}return a.__NG_ELEMENT_ID__=GN,a})();function GN(){return Mx(Pr(),ut())}const $N=xm,LC=class extends $N{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return Wd(this._hostTNode,this._hostLView)}get injector(){return new _a(this._hostTNode,this._hostLView)}get parentInjector(){const l=Nl(this._hostTNode,this._hostLView);if(mr(l)){const c=ja(l,this._hostLView),d=ga(l);return new _a(c[1].data[d+8],c)}return new _a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=xx(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){const f=l.createEmbeddedView(c||{});return this.insert(f,d),f}createComponent(l,c,d,f,g){const w=l&&!("function"==typeof l);let I;if(w)I=c;else{const he=c||{};I=he.index,d=he.injector,f=he.projectableNodes,g=he.ngModuleRef}const M=w?l:new Tv(zt(l)),V=d||this.parentInjector;if(!g&&null==M.ngModule&&V){const he=V.get(qd,null);he&&(g=he)}const $=M.create(V,f,void 0,g);return this.insert($.hostView,I),$}insert(l,c){const d=l._lView,f=d[1];if(li(d[3])){const $=this.indexOf(l);if(-1!==$)this.detach($);else{const he=d[3],xe=new LC(he,he[6],he[3]);xe.detach(xe.indexOf(l))}}const g=this._adjustIndex(c),w=this._lContainer;!function(a,l,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=l),d<g-10?(l[4]=c[f],Ul(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const w=l[17];null!==w&&c!==w&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(w,l);const I=l[19];null!==I&&I.insertView(a),l[2]|=128}(f,d,w,g);const I=Ty(g,w),M=d[11],V=xg(M,w[7]);return null!==V&&function(a,l,c,d,f,g){d[0]=f,d[6]=l,sf(a,d,c,1,f,g)}(f,w[6],M,d,V,I),l.attachToViewContainerRef(),Ul(BC(w),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=xx(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=yy(this._lContainer,c);d&&(Zo(BC(this._lContainer),c),vy(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=yy(this._lContainer,c);return d&&null!=Zo(BC(this._lContainer),c)?new Zf(d):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function xx(a){return a[8]}function BC(a){return a[8]||(a[8]=[])}function Mx(a,l){let c;const d=l[a.index];if(li(d))c=d;else{let f;if(8&a.type)f=ur(d);else{const g=l[11];f=g.createComment("");const w=ci(a,l);Au(g,xg(g,w),f,function(a,l){return wn(a)?a.nextSibling(l):l.nextSibling}(g,w),!1)}l[a.index]=c=jD(d,l,f,a),Py(l,c)}return new LC(c,a,l)}class VC{constructor(l){this.queryList=l,this.matches=null}clone(){return new VC(this.queryList)}setDirty(){this.queryList.setDirty()}}class UC{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const w=c.getByIndex(g);f.push(this.queries[w.indexInDeclarationView].clone())}return new UC(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==Vx(l,c).matches&&this.queries[c].setDirty()}}class kx{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class jC{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new jC(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class HC{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new HC(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,c,ZN(c,g)),this.matchTNodeWithReadOption(l,c,mi(c,l,g,!1,!1))}else d===Lu?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,mi(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===qf||f===xm||f===Lu&&4&c.type)this.addMatch(c.index,-2);else{const g=mi(c,l,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function ZN(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function YN(a,l,c,d){return-1===c?function(a,l){return 11&a.type?Wd(a,l):4&a.type?Am(a,l):null}(l,a):-2===c?function(a,l,c){return c===qf?Wd(l,a):c===Lu?Am(l,a):c===xm?Mx(l,a):void 0}(a,l,d):Ws(a,a[1],c,l)}function Rx(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,w=c.matches,I=[];for(let M=0;M<w.length;M+=2){const V=w[M];I.push(V<0?null:YN(l,g[V],w[M+1],c.metadata.read))}f.matches=I}return f.matches}function zC(a,l,c,d){const f=a.queries.getByIndex(c),g=f.matches;if(null!==g){const w=Rx(a,l,f,c);for(let I=0;I<g.length;I+=2){const M=g[I];if(M>0)d.push(w[I/2]);else{const V=g[I+1],$=l[-M];for(let he=10;he<$.length;he++){const xe=$[he];xe[17]===xe[3]&&zC(xe[1],xe,V,d)}if(null!==$[9]){const he=$[9];for(let xe=0;xe<he.length;xe++){const Be=he[xe];zC(Be[1],Be,V,d)}}}}}return d}function Ox(a){const l=ut(),c=On(),d=Ba();Al(d+1);const f=Vx(c,d);if(a.dirty&&yl(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?zC(c,l,d,[]):Rx(c,l,f,d);a.reset(g,fx),a.notifyOnChanges()}return!0}return!1}function Px(a,l,c){const d=On();d.firstCreatePass&&(Bx(d,new kx(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Lx(d,ut(),l)}function Nx(a,l,c,d){const f=On();if(f.firstCreatePass){const g=Pr();Bx(f,new kx(l,c,d),g.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}Lx(f,ut(),c)}function Fx(){return a=ut(),l=Ba(),a[19].queries[l].queryList;var a,l}function Lx(a,l,c){const d=new Kf(4==(4&c));kD(a,l,d,d.destroy),null===l[19]&&(l[19]=new UC),l[19].queries.push(new VC(d))}function Bx(a,l,c){null===a.queries&&(a.queries=new jC),a.queries.track(new HC(l,c))}function Vx(a,l){return a.queries.getByIndex(l)}function Qf(...a){}const Xd=new wr("Application Initializer");let Vu=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Qf,this.reject=Qf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(ec(g))c.push(g);else if(yE(g)){const w=new Promise((I,M)=>{g.subscribe({complete:I,error:M})});c.push(w)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(Te(Xd,8))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();const _s=new wr("AppId"),Ps={provide:_s,useFactory:function(){return`${Pm()}${Pm()}${Pm()}`},deps:[]};function Pm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uv=new wr("Platform Initializer"),Nm=new wr("Platform ID"),jv=new wr("appBootstrapListener");let Hv=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();const Jd=new wr("LocaleId"),QC=new wr("DefaultCurrencyCode");class zv{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Fm=(()=>{class a{compileModuleSync(c){return new Av(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Ca(zn(c).declarations).reduce((w,I)=>{const M=zt(I);return M&&w.push(new Tv(M)),w},[]);return new zv(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();const Lm=(()=>Promise.resolve(0))();function Jf(a){"undefined"==typeof Zone?Lm.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Ns{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let a=Cn.requestAnimationFrame,l=Cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Cn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,qv(a),a.isCheckStableRunning=!0,$v(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),qv(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,w,I)=>{try{return JC(a),c.invokeTask(f,g,w,I)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),ss(a)}},onInvoke:(c,d,f,g,w,I,M)=>{try{return JC(a),c.invoke(f,g,w,I,M)}finally{a.shouldCoalesceRunChangeDetection&&l(),ss(a)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,qv(a),$v(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ns.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ns.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+f,l,nM,Qf,Qf);try{return g.runTask(w,c,d)}finally{g.cancelTask(w)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const nM={};function $v(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function qv(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function JC(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function ss(a){a._nesting--,$v(a)}class ep{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}let eI=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ns.assertNotInAngularZone(),Jf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Jf(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(Te(Ns))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})(),eh=(()=>{class a{constructor(){this._applications=new Map,th.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return th.findTestabilityInTree(this,c,d)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();class rM{addToWindow(l){}findTestabilityInTree(l,c,d){return null}}function iM(a){th=a}let no,th=new rM;const Bm=new wr("AllowMultipleToken");class tI{constructor(l,c){this.name=l,this.token=c}}function rI(a,l,c=[]){const d=`Platform: ${l}`,f=new wr(d);return(g=[])=>{let w=Vm();if(!w||w.injector.get(Bm,!1))if(a)a(c.concat(g).concat({provide:f,useValue:!0}));else{const I=c.concat(g).concat({provide:f,useValue:!0},{provide:zw,useValue:"platform"});!function(a){if(no&&!no.destroyed&&!no.injector.get(Bm,!1))throw new Ue("400","");no=a.get(Qv);const l=a.get(Uv,null);l&&l.forEach(c=>c())}(Ia.create({providers:I,name:d}))}return function(a){const l=Vm();if(!l)throw new Ue("401","");return l}()}}function Vm(){return no&&!no.destroyed?no:null}let Qv=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const I=function(a,l){let c;return c="noop"===a?new ep:("zone.js"===a?void 0:a)||new Ns({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),M=[{provide:Ns,useValue:I}];return I.run(()=>{const V=Ia.create({providers:M,parent:this.injector,name:c.moduleType.name}),$=c.create(V),he=$.injector.get(tf,null);if(!he)throw new Ue("402","");return I.runOutsideAngular(()=>{const xe=I.onError.subscribe({next:Be=>{he.handleError(Be)}});$.onDestroy(()=>{vi(this._modules,$),xe.unsubscribe()})}),function(a,l,c){try{const d=c();return ec(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(he,I,()=>{const xe=$.injector.get(Vu);return xe.runInitializers(),xe.donePromise.then(()=>(function(a){Ge(a,"Expected localeId to be defined"),"string"==typeof a&&(mv=a.toLowerCase().replace(/_/g,"-"))}($.injector.get(Jd,pm)||pm),this._moduleDoBootstrap($),$))})})}bootstrapModule(c,d=[]){const f=Um({},d);return function(a,l,c){const d=new Av(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Uu);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ue("403","");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue("404","");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(Te(Ia))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();function Um(a,l){return Array.isArray(l)?l.reduce(Um,a):Tt(Tt({},a),l)}let Uu=(()=>{class a{constructor(c,d,f,g,w){this._zone=c,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new v.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),M=new v.y(V=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{Ns.assertNotInAngularZone(),Jf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const he=this._zone.onUnstable.subscribe(()=>{Ns.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{$.unsubscribe(),he.unsubscribe()}});this.isStable=(0,x.T)(I,M.pipe((0,O.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Ue("405","");let f;f=c instanceof bv?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const g=function(a){return a.isBoundToModule}(f)?void 0:this._injector.get(qd),I=f.create(Ia.NULL,[],d||f.selector,g),M=I.location.nativeElement,V=I.injector.get(eI,null),$=V&&I.injector.get(eh);return V&&$&&$.registerApplication(M,V),I.onDestroy(()=>{this.detachView(I.hostView),vi(this.components,I),$&&$.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ue("101","");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;vi(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(jv,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(Te(Ns),Te(Ia),Te(tf),Te($d),Te(Vu))},a.\u0275prov=wt({token:a,factory:a.\u0275fac}),a})();function vi(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let Hm=!0,sI=!1;function aM(){return sI=!0,Hm}function oI(){if(sI)throw new Error("Cannot enable prod mode after platform setup.");Hm=!1}let Jv=(()=>{class a{}return a.__NG_ELEMENT_ID__=lM,a})();function lM(a){return function(a,l,c){if(Qi(a)&&!c){const d=qn(a.index,l);return new Zf(d,d)}return 47&a.type?new Zf(l[16],l):null}(Pr(),ut(),16==(16&a))}class rp{constructor(){}supports(l){return zg(l)}create(l){return new u0(l)}}const dI=(a,l)=>l;class u0{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||dI}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const w=!d||c&&c.currentIndex<qm(d,f,g)?c:d,I=qm(w,f,g),M=w.currentIndex;if(w===d)f--,d=d._nextRemoved;else if(c=c._next,null==w.previousIndex)f++;else{g||(g=[]);const V=I-f,$=M-f;if(V!=$){for(let xe=0;xe<V;xe++){const Be=xe<g.length?g[xe]:g[xe]=0,nt=Be+xe;$<=nt&&nt<V&&(g[xe]=Be+1)}g[w.previousIndex]=$-V}}I!==M&&l(w,I,M)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!zg(l))throw new Error(`Error trying to diff '${Y(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,w,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let I=0;I<this.length;I++)g=l[I],w=this._trackByFn(I,g),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,g,w,I)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,w,I),d=!0),c=c._next}else f=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[vf()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,I=>{w=this._trackByFn(f,I),null!==c&&Object.is(c.trackById,w)?(d&&(c=this._verifyReinsertion(c,I,w,f)),Object.is(c.item,I)||this._addIdentityChange(c,I)):(c=this._mismatch(c,I,w,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,f)):l=this._addAfter(new hI(c,d),g,f),l}_verifyReinsertion(l,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new rh),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rh),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class hI{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fI{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class rh{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new fI,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qm(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class Zm{constructor(){}supports(l){return l instanceof Map||Gg(l)}create(){return new d0}}class d0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||Gg(l)))throw new Error(`Error trying to diff '${Y(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const g=f._prev,w=f._next;return g&&(g._next=w),w&&(w._prev=g),f._next=null,f._prev=null,f}const d=new Km(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class Km{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ih(){return new ip([new rp])}let ip=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||ih()),deps:[[a,new ds,new Yn]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=wt({token:a,providedIn:"root",factory:ih}),a})();function Ym(){return new ju([new Zm])}let ju=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||Ym()),deps:[[a,new ds,new Yn]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=wt({token:a,providedIn:"root",factory:Ym}),a})();const h0=[new Zm],gI=new ip([new rp]),mI=new ju(h0),sp=rI(null,"core",[{provide:Nm,useValue:"unknown"},{provide:Qv,deps:[Ia]},{provide:eh,deps:[]},{provide:Hv,deps:[]}]),f0=[{provide:Uu,useClass:Uu,deps:[Ns,Ia,tf,$d,Vu]},{provide:xC,deps:[Ns],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Vu,useClass:Vu,deps:[[new Yn,Xd]]},{provide:Fm,useClass:Fm,deps:[]},Ps,{provide:ip,useFactory:function(){return gI},deps:[]},{provide:ju,useFactory:function(){return mI},deps:[]},{provide:Jd,useFactory:function(a){return a||"undefined"!=typeof $localize&&$localize.locale||pm},deps:[[new Br(Jd),new Yn,new ds]]},{provide:QC,useValue:"USD"}];let p0=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(Te(Uu))},a.\u0275mod=Re({type:a}),a.\u0275inj=sn({providers:f0}),a})()},6293:(bt,C,A)=>{"use strict";A.d(C,{Z:()=>Ue});var s=A(4213),b=A(1177),v=A(1572),x=A(3855);class O{constructor(Ee,de){this._delegate=Ee,this.firebase=de,(0,v._addComponent)(Ee,new b.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,v.deleteApp)(this._delegate)))}_getService(Ee,de=v._DEFAULT_ENTRY_NAME){var ce;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(Ee);return!Oe.isInitialized()&&"EXPLICIT"===(null===(ce=Oe.getComponent())||void 0===ce?void 0:ce.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:de})}_removeServiceInstance(Ee,de=v._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(de)}_addComponent(Ee){(0,v._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,v._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const H=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function ee(){const qe=function(qe){const Ee={},de={__esModule:!0,initializeApp:function(oe,Ie={}){const K=v.initializeApp(oe,Ie);if((0,s.r3)(Ee,K.name))return Ee[K.name];const L=new qe(K,de);return Ee[K.name]=L,L},app:Oe,registerVersion:v.registerVersion,setLogLevel:v.setLogLevel,onLog:v.onLog,apps:null,SDK_VERSION:v.SDK_VERSION,INTERNAL:{registerComponent:function(oe){const Ie=oe.name,K=Ie.replace("-compat","");if(v._registerComponent(oe)&&"PUBLIC"===oe.type){const L=(j=Oe())=>{if("function"!=typeof j[K])throw H.create("invalid-app-argument",{appName:Ie});return j[K]()};void 0!==oe.serviceProps&&(0,s.ZB)(L,oe.serviceProps),de[K]=L,qe.prototype[K]=function(...j){return this._getService.bind(this,Ie).apply(this,oe.multipleInstances?j:[])}}return"PUBLIC"===oe.type?de[K]:null},removeApp:function(oe){delete Ee[oe]},useAsService:function(oe,Ie){return"serverAuth"===Ie?null:Ie},modularAPIs:v}};function Oe(oe){if(!(0,s.r3)(Ee,oe=oe||v._DEFAULT_ENTRY_NAME))throw H.create("no-app",{appName:oe});return Ee[oe]}return de.default=de,Object.defineProperty(de,"apps",{get:function(){return Object.keys(Ee).map(oe=>Ee[oe])}}),Oe.App=qe,de}(O);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function(de){(0,s.ZB)(qe,de)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),qe}(),te=new x.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){te.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&te.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=Q;(0,v.registerVersion)("@firebase/app-compat","0.1.25",undefined)},1572:(bt,C,A)=>{"use strict";A.r(C),A.d(C,{FirebaseError:()=>x.ZR,SDK_VERSION:()=>Ei,_DEFAULT_ENTRY_NAME:()=>rt,_addComponent:()=>Bt,_addOrOverwriteComponent:()=>hn,_apps:()=>Ye,_clearComponents:()=>Rr,_components:()=>Dt,_getProvider:()=>$t,_registerComponent:()=>wt,_removeServiceInstance:()=>sn,deleteApp:()=>hi,getApp:()=>gr,getApps:()=>Ci,initializeApp:()=>Yr,onLog:()=>Wn,registerVersion:()=>Mn,setLogLevel:()=>Zn});var s=A(8239),b=A(1177),v=A(3855),x=A(4213),O=A(5600);class B{constructor(Ve){this.container=Ve}getPlatformInfoString(){return this.container.getProviders().map(ot=>{if(function(Se){const Ve=Se.getComponent();return"VERSION"===(null==Ve?void 0:Ve.type)}(ot)){const mt=ot.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(ot=>ot).join(" ")}}const Y="@firebase/app",Q=new v.Yd("@firebase/app"),rt="[DEFAULT]",Ge={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ye=new Map,Dt=new Map;function Bt(Se,Ve){try{Se.container.addComponent(Ve)}catch(ot){Q.debug(`Component ${Ve.name} failed to register with FirebaseApp ${Se.name}`,ot)}}function hn(Se,Ve){Se.container.addOrOverwriteComponent(Ve)}function wt(Se){const Ve=Se.name;if(Dt.has(Ve))return Q.debug(`There were multiple attempts to register component ${Ve}.`),!1;Dt.set(Ve,Se);for(const ot of Ye.values())Bt(ot,Se);return!0}function $t(Se,Ve){const ot=Se.container.getProvider("heartbeat").getImmediate({optional:!0});return ot&&ot.triggerHeartbeat(),Se.container.getProvider(Ve)}function sn(Se,Ve,ot=rt){$t(Se,Ve).clearInstance(ot)}function Rr(){Dt.clear()}const Xn=new x.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ni{constructor(Ve,ot,mt){this._isDeleted=!1,this._options=Object.assign({},Ve),this._config=Object.assign({},ot),this._name=ot.name,this._automaticDataCollectionEnabled=ot.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new b.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ve){this._isDeleted=Ve}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const Ei="9.8.1";function Yr(Se,Ve={}){"object"!=typeof Ve&&(Ve={name:Ve});const ot=Object.assign({name:rt,automaticDataCollectionEnabled:!1},Ve),mt=ot.name;if("string"!=typeof mt||!mt)throw Xn.create("bad-app-name",{appName:String(mt)});const Wt=Ye.get(mt);if(Wt){if((0,x.vZ)(Se,Wt.options)&&(0,x.vZ)(ot,Wt.config))return Wt;throw Xn.create("duplicate-app",{appName:mt})}const an=new b.H0(mt);for(const Xt of Dt.values())an.addComponent(Xt);const Pn=new Ni(Se,ot,an);return Ye.set(mt,Pn),Pn}function gr(Se=rt){const Ve=Ye.get(Se);if(!Ve)throw Xn.create("no-app",{appName:Se});return Ve}function Ci(){return Array.from(Ye.values())}function hi(Se){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(Se){const Ve=Se.name;Ye.has(Ve)&&(Ye.delete(Ve),yield Promise.all(Se.container.getProviders().map(ot=>ot.delete())),Se.isDeleted=!0)})).apply(this,arguments)}function Mn(Se,Ve,ot){var mt;let Wt=null!==(mt=Ge[Se])&&void 0!==mt?mt:Se;ot&&(Wt+=`-${ot}`);const an=Wt.match(/\s|\//),Pn=Ve.match(/\s|\//);if(an||Pn){const Xt=[`Unable to register library "${Wt}" with version "${Ve}":`];return an&&Xt.push(`library name "${Wt}" contains illegal characters (whitespace or "/")`),an&&Pn&&Xt.push("and"),Pn&&Xt.push(`version name "${Ve}" contains illegal characters (whitespace or "/")`),void Q.warn(Xt.join(" "))}wt(new b.wA(`${Wt}-version`,()=>({library:Wt,version:Ve}),"VERSION"))}function Wn(Se,Ve){if(null!==Se&&"function"!=typeof Se)throw Xn.create("invalid-log-argument");(0,v.Am)(Se,Ve)}function Zn(Se){(0,v.Ub)(Se)}const Jn="firebase-heartbeat-store";let An=null;function Fi(){return An||(An=(0,O.X3)("firebase-heartbeat-database",1,{upgrade:(Se,Ve)=>{0===Ve&&Se.createObjectStore(Jn)}}).catch(Se=>{throw Xn.create("storage-open",{originalErrorMessage:Se.message})})),An}function kt(){return(kt=(0,s.Z)(function*(Se){try{return(yield Fi()).transaction(Jn).objectStore(Jn).get(ii(Se))}catch(Ve){throw Xn.create("storage-get",{originalErrorMessage:Ve.message})}})).apply(this,arguments)}function Rt(Se,Ve){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(Se,Ve){try{const mt=(yield Fi()).transaction(Jn,"readwrite");return yield mt.objectStore(Jn).put(Ve,ii(Se)),mt.done}catch(ot){throw Xn.create("storage-set",{originalErrorMessage:ot.message})}})).apply(this,arguments)}function ii(Se){return`${Se.name}!${Se.options.appId}`}class jn{constructor(Ve){this.container=Ve,this._heartbeatsCache=null;const ot=this.container.getProvider("app").getImmediate();this._storage=new Ce(ot),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var Ve=this;return(0,s.Z)(function*(){const mt=Ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wt=Hn();if(null===Ve._heartbeatsCache&&(Ve._heartbeatsCache=yield Ve._heartbeatsCachePromise),Ve._heartbeatsCache.lastSentHeartbeatDate!==Wt&&!Ve._heartbeatsCache.heartbeats.some(an=>an.date===Wt))return Ve._heartbeatsCache.heartbeats.push({date:Wt,agent:mt}),Ve._heartbeatsCache.heartbeats=Ve._heartbeatsCache.heartbeats.filter(an=>{const Pn=new Date(an.date).valueOf();return Date.now()-Pn<=2592e6}),Ve._storage.overwrite(Ve._heartbeatsCache)})()}getHeartbeatsHeader(){var Ve=this;return(0,s.Z)(function*(){if(null===Ve._heartbeatsCache&&(yield Ve._heartbeatsCachePromise),null===Ve._heartbeatsCache||0===Ve._heartbeatsCache.heartbeats.length)return"";const ot=Hn(),{heartbeatsToSend:mt,unsentEntries:Wt}=function(Se,Ve=1024){const ot=[];let mt=Se.slice();for(const Wt of Se){const an=ot.find(Pn=>Pn.agent===Wt.agent);if(an){if(an.dates.push(Wt.date),ke(ot)>Ve){an.dates.pop();break}}else if(ot.push({agent:Wt.agent,dates:[Wt.date]}),ke(ot)>Ve){ot.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:ot,unsentEntries:mt}}(Ve._heartbeatsCache.heartbeats),an=(0,x.L)(JSON.stringify({version:2,heartbeats:mt}));return Ve._heartbeatsCache.lastSentHeartbeatDate=ot,Wt.length>0?(Ve._heartbeatsCache.heartbeats=Wt,yield Ve._storage.overwrite(Ve._heartbeatsCache)):(Ve._heartbeatsCache.heartbeats=[],Ve._storage.overwrite(Ve._heartbeatsCache)),an})()}}function Hn(){return(new Date).toISOString().substring(0,10)}class Ce{constructor(Ve){this.app=Ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,x.hl)()&&(0,x.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ve=this;return(0,s.Z)(function*(){return(yield Ve._canUseIndexedDBPromise)&&(yield function(Se){return kt.apply(this,arguments)}(Ve.app))||{heartbeats:[]}})()}overwrite(Ve){var ot=this;return(0,s.Z)(function*(){var mt;if(yield ot._canUseIndexedDBPromise){const an=yield ot.read();return Rt(ot.app,{lastSentHeartbeatDate:null!==(mt=Ve.lastSentHeartbeatDate)&&void 0!==mt?mt:an.lastSentHeartbeatDate,heartbeats:Ve.heartbeats})}})()}add(Ve){var ot=this;return(0,s.Z)(function*(){var mt;if(yield ot._canUseIndexedDBPromise){const an=yield ot.read();return Rt(ot.app,{lastSentHeartbeatDate:null!==(mt=Ve.lastSentHeartbeatDate)&&void 0!==mt?mt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...Ve.heartbeats]})}})()}}function ke(Se){return(0,x.L)(JSON.stringify({version:2,heartbeats:Se})).length}wt(new b.wA("platform-logger",Ve=>new B(Ve),"PRIVATE")),wt(new b.wA("heartbeat",Ve=>new jn(Ve),"PRIVATE")),Mn(Y,"0.7.24",""),Mn(Y,"0.7.24","esm2017"),Mn("fire-js","")},1177:(bt,C,A)=>{"use strict";A.d(C,{wA:()=>v,H0:()=>Y,zt:()=>O});var s=A(8239),b=A(4213);class v{constructor(Q,te,me){this.name=Q,this.instanceFactory=te,this.type=me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const x="[DEFAULT]";class O{constructor(Q,te){this.name=Q,this.container=te,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const te=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(te)){const me=new b.BH;if(this.instancesDeferred.set(te,me),this.isInitialized(te)||this.shouldAutoInitialize())try{const Ze=this.getOrInitializeService({instanceIdentifier:te});Ze&&me.resolve(Ze)}catch(Ze){}}return this.instancesDeferred.get(te).promise}getImmediate(Q){var te;const me=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Ze=null!==(te=null==Q?void 0:Q.optional)&&void 0!==te&&te;if(!this.isInitialized(me)&&!this.shouldAutoInitialize()){if(Ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:me})}catch(je){if(Ze)return null;throw je}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if("EAGER"===Q.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:x})}catch(te){}for(const[te,me]of this.instancesDeferred.entries()){const Ze=this.normalizeInstanceIdentifier(te);try{const je=this.getOrInitializeService({instanceIdentifier:Ze});me.resolve(je)}catch(je){}}}}clearInstance(Q=x){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,s.Z)(function*(){const te=Array.from(Q.instances.values());yield Promise.all([...te.filter(me=>"INTERNAL"in me).map(me=>me.INTERNAL.delete()),...te.filter(me=>"_delete"in me).map(me=>me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=x){return this.instances.has(Q)}getOptions(Q=x){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:te={}}=Q,me=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(me))throw Error(`${this.name}(${me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ze=this.getOrInitializeService({instanceIdentifier:me,options:te});for(const[je,Ue]of this.instancesDeferred.entries())me===this.normalizeInstanceIdentifier(je)&&Ue.resolve(Ze);return Ze}onInit(Q,te){var me;const Ze=this.normalizeInstanceIdentifier(te),je=null!==(me=this.onInitCallbacks.get(Ze))&&void 0!==me?me:new Set;je.add(Q),this.onInitCallbacks.set(Ze,je);const Ue=this.instances.get(Ze);return Ue&&Q(Ue,Ze),()=>{je.delete(Q)}}invokeOnInitCallbacks(Q,te){const me=this.onInitCallbacks.get(te);if(me)for(const Ze of me)try{Ze(Q,te)}catch(je){}}getOrInitializeService({instanceIdentifier:Q,options:te={}}){let me=this.instances.get(Q);if(!me&&this.component&&(me=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=Q,ee===x?void 0:ee),options:te}),this.instances.set(Q,me),this.instancesOptions.set(Q,te),this.invokeOnInitCallbacks(me,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,me)}catch(Ze){}var ee;return me||null}normalizeInstanceIdentifier(Q=x){return this.component?this.component.multipleInstances?Q:x:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const te=this.getProvider(Q.name);if(te.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);te.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const te=new O(Q,this);return this.providers.set(Q,te),te}getProviders(){return Array.from(this.providers.values())}}},3855:(bt,C,A)=>{"use strict";A.d(C,{in:()=>b,Yd:()=>H,Ub:()=>Y,Am:()=>ee});const s=[];var b=(()=>{return(Q=b||(b={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",b;var Q})();const v={debug:b.DEBUG,verbose:b.VERBOSE,info:b.INFO,warn:b.WARN,error:b.ERROR,silent:b.SILENT},x=b.INFO,O={[b.DEBUG]:"log",[b.VERBOSE]:"log",[b.INFO]:"info",[b.WARN]:"warn",[b.ERROR]:"error"},B=(Q,te,...me)=>{if(te<Q.logLevel)return;const Ze=(new Date).toISOString(),je=O[te];if(!je)throw new Error(`Attempted to log a message with an invalid logType (value: ${te})`);console[je](`[${Ze}]  ${Q.name}:`,...me)};class H{constructor(te){this.name=te,this._logLevel=x,this._logHandler=B,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(te){if(!(te in b))throw new TypeError(`Invalid value "${te}" assigned to \`logLevel\``);this._logLevel=te}setLogLevel(te){this._logLevel="string"==typeof te?v[te]:te}get logHandler(){return this._logHandler}set logHandler(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te}get userLogHandler(){return this._userLogHandler}set userLogHandler(te){this._userLogHandler=te}debug(...te){this._userLogHandler&&this._userLogHandler(this,b.DEBUG,...te),this._logHandler(this,b.DEBUG,...te)}log(...te){this._userLogHandler&&this._userLogHandler(this,b.VERBOSE,...te),this._logHandler(this,b.VERBOSE,...te)}info(...te){this._userLogHandler&&this._userLogHandler(this,b.INFO,...te),this._logHandler(this,b.INFO,...te)}warn(...te){this._userLogHandler&&this._userLogHandler(this,b.WARN,...te),this._logHandler(this,b.WARN,...te)}error(...te){this._userLogHandler&&this._userLogHandler(this,b.ERROR,...te),this._logHandler(this,b.ERROR,...te)}}function Y(Q){s.forEach(te=>{te.setLogLevel(Q)})}function ee(Q,te){for(const me of s){let Ze=null;te&&te.level&&(Ze=v[te.level]),me.userLogHandler=null===Q?null:(je,Ue,...qe)=>{const Ee=qe.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch(ce){return null}}).filter(de=>de).join(" ");Ue>=(null!=Ze?Ze:je.logLevel)&&Q({level:b[Ue].toLowerCase(),message:Ee,args:qe,type:je.name})}}}},5600:(bt,C,A)=>{"use strict";A.d(C,{Lj:()=>Pe,X3:()=>Oe});var s=A(8239);let v,x;const H=new WeakMap,Y=new WeakMap,ee=new WeakMap,Q=new WeakMap,te=new WeakMap;let je={get(Ie,K,L){if(Ie instanceof IDBTransaction){if("done"===K)return Y.get(Ie);if("objectStoreNames"===K)return Ie.objectStoreNames||ee.get(Ie);if("store"===K)return L.objectStoreNames[1]?void 0:L.objectStore(L.objectStoreNames[0])}return de(Ie[K])},set:(Ie,K,L)=>(Ie[K]=L,!0),has:(Ie,K)=>Ie instanceof IDBTransaction&&("done"===K||"store"===K)||K in Ie};function Ee(Ie){return"function"==typeof Ie?function(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(x||(x=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(Ie)?function(...K){return Ie.apply(ce(this),K),de(H.get(this))}:function(...K){return de(Ie.apply(ce(this),K))}:function(K,...L){const j=Ie.call(ce(this),K,...L);return ee.set(j,K.sort?K.sort():[K]),de(j)}}(Ie):(Ie instanceof IDBTransaction&&function(Ie){if(Y.has(Ie))return;const K=new Promise((L,j)=>{const X=()=>{Ie.removeEventListener("complete",re),Ie.removeEventListener("error",J),Ie.removeEventListener("abort",J)},re=()=>{L(),X()},J=()=>{j(Ie.error||new DOMException("AbortError","AbortError")),X()};Ie.addEventListener("complete",re),Ie.addEventListener("error",J),Ie.addEventListener("abort",J)});Y.set(Ie,K)}(Ie),((Ie,K)=>K.some(L=>Ie instanceof L))(Ie,v||(v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(Ie,je):Ie)}function de(Ie){if(Ie instanceof IDBRequest)return function(Ie){const K=new Promise((L,j)=>{const X=()=>{Ie.removeEventListener("success",re),Ie.removeEventListener("error",J)},re=()=>{L(de(Ie.result)),X()},J=()=>{j(Ie.error),X()};Ie.addEventListener("success",re),Ie.addEventListener("error",J)});return K.then(L=>{L instanceof IDBCursor&&H.set(L,Ie)}).catch(()=>{}),te.set(K,Ie),K}(Ie);if(Q.has(Ie))return Q.get(Ie);const K=Ee(Ie);return K!==Ie&&(Q.set(Ie,K),te.set(K,Ie)),K}const ce=Ie=>te.get(Ie);function Oe(Ie,K,{blocked:L,upgrade:j,blocking:X,terminated:re}={}){const J=indexedDB.open(Ie,K),Ae=de(J);return j&&J.addEventListener("upgradeneeded",Ke=>{j(de(J.result),Ke.oldVersion,Ke.newVersion,de(J.transaction))}),L&&J.addEventListener("blocked",()=>L()),Ae.then(Ke=>{re&&Ke.addEventListener("close",()=>re()),X&&Ke.addEventListener("versionchange",()=>X())}).catch(()=>{}),Ae}function Pe(Ie,{blocked:K}={}){const L=indexedDB.deleteDatabase(Ie);return K&&L.addEventListener("blocked",()=>K()),de(L).then(()=>{})}const Qe=["get","getKey","getAll","getAllKeys","count"],be=["put","add","delete","clear"],Ne=new Map;function oe(Ie,K){if(!(Ie instanceof IDBDatabase)||K in Ie||"string"!=typeof K)return;if(Ne.get(K))return Ne.get(K);const L=K.replace(/FromIndex$/,""),j=K!==L,X=be.includes(L);if(!(L in(j?IDBIndex:IDBObjectStore).prototype)||!X&&!Qe.includes(L))return;const re=function(){var J=(0,s.Z)(function*(Ae,...Ke){const pt=this.transaction(Ae,X?"readwrite":"readonly");let rt=pt.store;return j&&(rt=rt.index(Ke.shift())),(yield Promise.all([rt[L](...Ke),X&&pt.done]))[0]});return function(Ke){return J.apply(this,arguments)}}();return Ne.set(K,re),re}var Ie;je=Zi(Tt({},Ie=je),{get:(K,L,j)=>oe(K,L)||Ie.get(K,L,j),has:(K,L)=>!!oe(K,L)||Ie.has(K,L)})},8239:(bt,C,A)=>{"use strict";function s(v,x,O,B,H,Y,ee){try{var Q=v[Y](ee),te=Q.value}catch(me){return void O(me)}Q.done?x(te):Promise.resolve(te).then(B,H)}function b(v){return function(){var x=this,O=arguments;return new Promise(function(B,H){var Y=v.apply(x,O);function ee(te){s(Y,B,H,ee,Q,"next",te)}function Q(te){s(Y,B,H,ee,Q,"throw",te)}ee(void 0)})}}A.d(C,{Z:()=>b})}},bt=>{bt(bt.s=6945)}]);